(self.webpackChunkpost_app=self.webpackChunkpost_app||[]).push([[179],{8255:e=>{function t(e){return Promise.resolve().then(()=>{var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t})}t.keys=()=>[],t.resolve=t,t.id=8255,e.exports=t},7716:(e,t,n)=>{"use strict";n.d(t,{deG:()=>cn,tb:()=>jc,AFp:()=>Lc,ip1:()=>Rc,CZH:()=>Fc,hGG:()=>Rl,z2F:()=>Tl,sBO:()=>Fa,Sil:()=>Xc,_Vd:()=>sa,EJc:()=>Hc,SBq:()=>ua,qLn:()=>Sr,vpe:()=>mc,gxx:()=>po,tBr:()=>kn,XFs:()=>k,OlP:()=>an,zs3:()=>ko,ZZ4:()=>ka,aQg:()=>xa,soG:()=>zc,YKP:()=>$a,v3s:()=>Sl,h0i:()=>Ha,PXZ:()=>vl,R0b:()=>nl,FiY:()=>En,Lbi:()=>Zc,g9A:()=>Vc,Qsj:()=>fa,FYo:()=>da,JOm:()=>xr,Tiy:()=>ga,q3G:()=>br,tp0:()=>xn,EAV:()=>El,Rgc:()=>Za,dDg:()=>ll,DyG:()=>ln,q4F:()=>_a,GfV:()=>ma,s_b:()=>Wa,ifc:()=>R,eFA:()=>wl,G48:()=>yl,Gpc:()=>f,f3M:()=>Mn,X6Q:()=>_l,_c5:()=>Dl,VLi:()=>dl,c2e:()=>Bc,zSh:()=>mo,wAp:()=>$s,vHH:()=>m,EiD:()=>_r,mCW:()=>er,qzn:()=>Bn,JVY:()=>Hn,pB0:()=>Kn,eBb:()=>Gn,L6k:()=>$n,LAX:()=>Wn,cg1:()=>Bs,Tjo:()=>Al,kL8:()=>zs,yhl:()=>zn,dqk:()=>V,sIi:()=>Uo,CqO:()=>os,QGY:()=>rs,F4k:()=>is,RDi:()=>Te,AaK:()=>u,z3N:()=>jn,qOj:()=>xo,TTD:()=>ye,_Bn:()=>ra,xp6:()=>yi,uIk:()=>zo,Tol:()=>Ps,ekj:()=>Os,Suo:()=>Ec,Xpm:()=>Q,lG2:()=>ie,Yz7:()=>v,cJS:()=>w,oAB:()=>te,Yjl:()=>oe,Y36:()=>Wo,_UZ:()=>Xo,BQk:()=>ts,ynx:()=>es,qZA:()=>Jo,TgZ:()=>Qo,EpF:()=>ns,n5z:()=>tn,Ikx:()=>qs,LFG:()=>Tn,$8M:()=>rn,NdJ:()=>ss,CRH:()=>xc,kcU:()=>bt,O4$:()=>yt,oxw:()=>ls,ALo:()=>fc,lcZ:()=>pc,Hsn:()=>ds,F$t:()=>hs,Q6J:()=>Ko,s9C:()=>fs,hYB:()=>gs,VKq:()=>lc,WLB:()=>uc,iGM:()=>Ic,MAs:()=>Go,evT:()=>kr,CHM:()=>ze,oJD:()=>vr,LSH:()=>wr,kYT:()=>ne,Udp:()=>Cs,d8E:()=>Us,YNc:()=>$o,_uU:()=>Rs,Oqu:()=>Fs,hij:()=>Ls,Gf:()=>kc});var r=n(9765),i=n(5319),o=n(7574),s=n(6682),a=n(8819);function c(e){for(let t in e)if(e[t]===c)return t;throw Error("Could not find renamed property on target object.")}function l(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function u(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(u).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return`${e.overriddenName}`;if(e.name)return`${e.name}`;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function h(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const d=c({__forward_ref__:c});function f(e){return e.__forward_ref__=f,e.toString=function(){return u(this())},e}function p(e){return g(e)?e():e}function g(e){return"function"==typeof e&&e.hasOwnProperty(d)&&e.__forward_ref__===f}class m extends Error{constructor(e,t){super(function(e,t){return`${e?`NG0${e}: `:""}${t}`}(e,t)),this.code=e}}function _(e){return"string"==typeof e?e:null==e?"":String(e)}function y(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():_(e)}function b(e,t){const n=t?` in ${t}`:"";throw new m("201",`No provider for ${y(e)} found${n}`)}function v(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function w(e){return{providers:e.providers||[],imports:e.imports||[]}}function C(e){return O(e,T)||O(e,S)}function O(e,t){return e.hasOwnProperty(t)?e[t]:null}function P(e){return e&&(e.hasOwnProperty(M)||e.hasOwnProperty(I))?e[M]:null}const T=c({"\u0275prov":c}),M=c({"\u0275inj":c}),S=c({ngInjectableDef:c}),I=c({ngInjectorDef:c});var k=(()=>((k=k||{})[k.Default=0]="Default",k[k.Host=1]="Host",k[k.Self=2]="Self",k[k.SkipSelf=4]="SkipSelf",k[k.Optional=8]="Optional",k))();let E;function x(e){const t=E;return E=e,t}function A(e,t,n){const r=C(e);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&k.Optional?null:void 0!==t?t:void b(u(e),"Injector")}function D(e){return{toString:e}.toString()}var N=(()=>((N=N||{})[N.OnPush=0]="OnPush",N[N.Default=1]="Default",N))(),R=(()=>((R=R||{})[R.Emulated=0]="Emulated",R[R.None=2]="None",R[R.ShadowDom=3]="ShadowDom",R))();const F="undefined"!=typeof globalThis&&globalThis,L="undefined"!=typeof window&&window,q="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,U="undefined"!=typeof global&&global,V=F||U||L||q,Z={},j=[],B=c({"\u0275cmp":c}),z=c({"\u0275dir":c}),H=c({"\u0275pipe":c}),$=c({"\u0275mod":c}),G=c({"\u0275loc":c}),W=c({"\u0275fac":c}),K=c({__NG_ELEMENT_ID__:c});let Y=0;function Q(e){return D(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===N.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||j,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||R.Emulated,id:"c",styles:e.styles||j,_:null,setInput:null,schemas:e.schemas||null,tView:null},r=e.directives,i=e.features,o=e.pipes;return n.id+=Y++,n.inputs=re(e.inputs,t),n.outputs=re(e.outputs),i&&i.forEach(e=>e(n)),n.directiveDefs=r?()=>("function"==typeof r?r():r).map(J):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(X):null,n})}function J(e){return se(e)||function(e){return e[z]||null}(e)}function X(e){return function(e){return e[H]||null}(e)}const ee={};function te(e){return D(()=>{const t={type:e.type,bootstrap:e.bootstrap||j,declarations:e.declarations||j,imports:e.imports||j,exports:e.exports||j,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&(ee[e.id]=e.type),t})}function ne(e,t){return D(()=>{const n=ae(e,!0);n.declarations=t.declarations||j,n.imports=t.imports||j,n.exports=t.exports||j})}function re(e,t){if(null==e)return Z;const n={};for(const r in e)if(e.hasOwnProperty(r)){let i=e[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,t&&(t[i]=o)}return n}const ie=Q;function oe(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function se(e){return e[B]||null}function ae(e,t){const n=e[$]||null;if(!n&&!0===t)throw new Error(`Type ${u(e)} does not have '\u0275mod' property.`);return n}const ce=20,le=10;function ue(e){return Array.isArray(e)&&"object"==typeof e[1]}function he(e){return Array.isArray(e)&&!0===e[1]}function de(e){return 0!=(8&e.flags)}function fe(e){return 2==(2&e.flags)}function pe(e){return 1==(1&e.flags)}function ge(e){return null!==e.template}function me(e,t){return e.hasOwnProperty(W)?e[W]:null}class _e{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function ye(){return be}function be(e){return e.type.prototype.ngOnChanges&&(e.setInput=we),ve}function ve(){const e=Ce(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===Z)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function we(e,t,n,r){const i=Ce(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:Z,current:null}),o=i.current||(i.current={}),s=i.previous,a=this.declaredInputs[n],c=s[a];o[a]=new _e(c&&c.currentValue,t,s===Z),e[r]=t}function Ce(e){return e.__ngSimpleChanges__||null}ye.ngInherit=!0;const Oe="http://www.w3.org/2000/svg";let Pe;function Te(e){Pe=e}function Me(){return void 0!==Pe?Pe:"undefined"!=typeof document?document:void 0}function Se(e){return!!e.listen}const Ie={createRenderer:(e,t)=>Me()};function ke(e){for(;Array.isArray(e);)e=e[0];return e}function Ee(e,t){return ke(t[e])}function xe(e,t){return ke(t[e.index])}function Ae(e,t){return e.data[t]}function De(e,t){return e[t]}function Ne(e,t){const n=t[e];return ue(n)?n:n[0]}function Re(e){return 4==(4&e[2])}function Fe(e){return 128==(128&e[2])}function Le(e,t){return null==t?null:e[t]}function qe(e){e[18]=0}function Ue(e,t){e[5]+=t;let n=e,r=e[3];for(;null!==r&&(1===t&&1===n[5]||-1===t&&0===n[5]);)r[5]+=t,n=r,r=r[3]}const Ve={lFrame:ht(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function Ze(){return Ve.bindingsEnabled}function je(){return Ve.lFrame.lView}function Be(){return Ve.lFrame.tView}function ze(e){return Ve.lFrame.contextLView=e,e[8]}function He(){let e=$e();for(;null!==e&&64===e.type;)e=e.parent;return e}function $e(){return Ve.lFrame.currentTNode}function Ge(e,t){const n=Ve.lFrame;n.currentTNode=e,n.isParent=t}function We(){return Ve.lFrame.isParent}function Ke(){Ve.lFrame.isParent=!1}function Ye(){return Ve.isInCheckNoChangesMode}function Qe(e){Ve.isInCheckNoChangesMode=e}function Je(){const e=Ve.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}function Xe(){return Ve.lFrame.bindingIndex}function et(){return Ve.lFrame.bindingIndex++}function tt(e){const t=Ve.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function nt(e,t){const n=Ve.lFrame;n.bindingIndex=n.bindingRootIndex=e,rt(t)}function rt(e){Ve.lFrame.currentDirectiveIndex=e}function it(e){const t=Ve.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function ot(){return Ve.lFrame.currentQueryIndex}function st(e){Ve.lFrame.currentQueryIndex=e}function at(e){const t=e[1];return 2===t.type?t.declTNode:1===t.type?e[6]:null}function ct(e,t,n){if(n&k.SkipSelf){let r=t,i=e;for(;r=r.parent,!(null!==r||n&k.Host||(r=at(i),null===r)||(i=i[15],10&r.type)););if(null===r)return!1;t=r,e=i}const r=Ve.lFrame=ut();return r.currentTNode=t,r.lView=e,!0}function lt(e){const t=ut(),n=e[1];Ve.lFrame=t,t.currentTNode=n.firstChild,t.lView=e,t.tView=n,t.contextLView=e,t.bindingIndex=n.bindingStartIndex,t.inI18n=!1}function ut(){const e=Ve.lFrame,t=null===e?null:e.child;return null===t?ht(e):t}function ht(e){const t={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return null!==e&&(e.child=t),t}function dt(){const e=Ve.lFrame;return Ve.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}const ft=dt;function pt(){const e=dt();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function gt(){return Ve.lFrame.selectedIndex}function mt(e){Ve.lFrame.selectedIndex=e}function _t(){const e=Ve.lFrame;return Ae(e.tView,e.selectedIndex)}function yt(){Ve.lFrame.currentNamespace=Oe}function bt(){Ve.lFrame.currentNamespace=null}function vt(e,t){for(let n=t.directiveStart,r=t.directiveEnd;n<r;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:r,ngAfterContentChecked:i,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=t;r&&(e.contentHooks||(e.contentHooks=[])).push(-n,r),i&&((e.contentHooks||(e.contentHooks=[])).push(n,i),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,i)),o&&(e.viewHooks||(e.viewHooks=[])).push(-n,o),s&&((e.viewHooks||(e.viewHooks=[])).push(n,s),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,s)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function wt(e,t,n){Pt(e,t,3,n)}function Ct(e,t,n,r){(3&e[2])===n&&Pt(e,t,n,r)}function Ot(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Pt(e,t,n,r){const i=null!=r?r:-1,o=t.length-1;let s=0;for(let a=void 0!==r?65535&e[18]:0;a<o;a++)if("number"==typeof t[a+1]){if(s=t[a],null!=r&&s>=r)break}else t[a]<0&&(e[18]+=65536),(s<i||-1==i)&&(Tt(e,n,t,a),e[18]=(4294901760&e[18])+a+2),a++}function Tt(e,t,n,r){const i=n[r]<0,o=n[r+1],s=e[i?-n[r]:n[r]];if(i){if(e[2]>>11<e[18]>>16&&(3&e[2])===t){e[2]+=2048;try{o.call(s)}finally{}}}else try{o.call(s)}finally{}}const Mt=-1;class St{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function It(e,t,n){const r=Se(e);let i=0;for(;i<n.length;){const o=n[i];if("number"==typeof o){if(0!==o)break;i++;const s=n[i++],a=n[i++],c=n[i++];r?e.setAttribute(t,a,c,s):t.setAttributeNS(s,a,c)}else{const s=o,a=n[++i];Et(s)?r&&e.setProperty(t,s,a):r?e.setAttribute(t,s,a):t.setAttribute(s,a),i++}}return i}function kt(e){return 3===e||4===e||6===e}function Et(e){return 64===e.charCodeAt(0)}function xt(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let r=0;r<t.length;r++){const i=t[r];"number"==typeof i?n=i:0===n||At(e,n,i,null,-1===n||2===n?t[++r]:null)}}return e}function At(e,t,n,r,i){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const n=e[o++];if("number"==typeof n){if(n===t){s=-1;break}if(n>t){s=o-1;break}}}for(;o<e.length;){const t=e[o];if("number"==typeof t)break;if(t===n){if(null===r)return void(null!==i&&(e[o+1]=i));if(r===e[o+1])return void(e[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==r&&e.splice(o++,0,r),null!==i&&e.splice(o++,0,i)}function Dt(e){return e!==Mt}function Nt(e){return 32767&e}function Rt(e,t){let n=e>>16,r=t;for(;n>0;)r=r[15],n--;return r}let Ft=!0;function Lt(e){const t=Ft;return Ft=e,t}let qt=0;function Ut(e,t){const n=Zt(e,t);if(-1!==n)return n;const r=t[1];r.firstCreatePass&&(e.injectorIndex=t.length,Vt(r.data,e),Vt(t,null),Vt(r.blueprint,null));const i=jt(e,t),o=e.injectorIndex;if(Dt(i)){const e=Nt(i),n=Rt(i,t),r=n[1].data;for(let i=0;i<8;i++)t[o+i]=n[e+i]|r[e+i]}return t[o+8]=i,o}function Vt(e,t){e.push(0,0,0,0,0,0,0,0,t)}function Zt(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null===t[e.injectorIndex+8]?-1:e.injectorIndex}function jt(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=0,r=null,i=t;for(;null!==i;){const e=i[1],t=e.type;if(r=2===t?e.declTNode:1===t?i[6]:null,null===r)return Mt;if(n++,i=i[15],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return Mt}function Bt(e,t,n){!function(e,t,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(K)&&(r=n[K]),null==r&&(r=n[K]=qt++);const i=255&r;t.data[e+(i>>5)]|=1<<i}(e,t,n)}function zt(e,t,n){if(n&k.Optional)return e;b(t,"NodeInjector")}function Ht(e,t,n,r){if(n&k.Optional&&void 0===r&&(r=null),0==(n&(k.Self|k.Host))){const i=e[9],o=x(void 0);try{return i?i.get(t,r,n&k.Optional):A(t,r,n&k.Optional)}finally{x(o)}}return zt(r,t,n)}function $t(e,t,n,r=k.Default,i){if(null!==e){const o=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(K)?e[K]:void 0;return"number"==typeof t?t>=0?255&t:Wt:t}(n);if("function"==typeof o){if(!ct(t,e,r))return r&k.Host?zt(i,n,r):Ht(t,n,r,i);try{const e=o(r);if(null!=e||r&k.Optional)return e;b(n)}finally{ft()}}else if("number"==typeof o){let i=null,s=Zt(e,t),a=Mt,c=r&k.Host?t[16][6]:null;for((-1===s||r&k.SkipSelf)&&(a=-1===s?jt(e,t):t[s+8],a!==Mt&&Xt(r,!1)?(i=t[1],s=Nt(a),t=Rt(a,t)):s=-1);-1!==s;){const e=t[1];if(Jt(o,s,e.data)){const e=Kt(s,t,n,i,r,c);if(e!==Gt)return e}a=t[s+8],a!==Mt&&Xt(r,t[1].data[s+8]===c)&&Jt(o,s,t)?(i=e,s=Nt(a),t=Rt(a,t)):s=-1}}}return Ht(t,n,r,i)}const Gt={};function Wt(){return new en(He(),je())}function Kt(e,t,n,r,i,o){const s=t[1],a=s.data[e+8],c=Yt(a,s,n,null==r?fe(a)&&Ft:r!=s&&0!=(3&a.type),i&k.Host&&o===a);return null!==c?Qt(t,s,c,a):Gt}function Yt(e,t,n,r,i){const o=e.providerIndexes,s=t.data,a=1048575&o,c=e.directiveStart,l=o>>20,u=i?a+l:e.directiveEnd;for(let h=r?a:a+l;h<u;h++){const e=s[h];if(h<c&&n===e||h>=c&&e.type===n)return h}if(i){const e=s[c];if(e&&ge(e)&&e.type===n)return c}return null}function Qt(e,t,n,r){let i=e[n];const o=t.data;if(i instanceof St){const s=i;s.resolving&&function(e,t){throw new m("200",`Circular dependency in DI detected for ${e}`)}(y(o[n]));const a=Lt(s.canSeeViewProviders);s.resolving=!0;const c=s.injectImpl?x(s.injectImpl):null;ct(e,r,k.Default);try{i=e[n]=s.factory(void 0,o,e,r),t.firstCreatePass&&n>=r.directiveStart&&function(e,t,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=t.type.prototype;if(r){const r=be(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,r)}i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{null!==c&&x(c),Lt(a),s.resolving=!1,ft()}}return i}function Jt(e,t,n){return!!(n[t+(e>>5)]&1<<e)}function Xt(e,t){return!(e&k.Self||e&k.Host&&t)}class en{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return $t(this._tNode,this._lView,e,void 0,t)}}function tn(e){return D(()=>{const t=e.prototype.constructor,n=t[W]||nn(t),r=Object.prototype;let i=Object.getPrototypeOf(e.prototype).constructor;for(;i&&i!==r;){const e=i[W]||nn(i);if(e&&e!==n)return e;i=Object.getPrototypeOf(i)}return e=>new e})}function nn(e){return g(e)?()=>{const t=nn(p(e));return t&&t()}:me(e)}function rn(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let r=0;for(;r<e;){const i=n[r];if(kt(i))break;if(0===i)r+=2;else if("number"==typeof i)for(r++;r<e&&"string"==typeof n[r];)r++;else{if(i===t)return n[r+1];r+=2}}}return null}(He(),e)}const on="__parameters__";function sn(e,t,n){return D(()=>{const r=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function i(...e){if(this instanceof i)return r.apply(this,e),this;const t=new i(...e);return n.annotation=t,n;function n(e,n,r){const i=e.hasOwnProperty(on)?e[on]:Object.defineProperty(e,on,{value:[]})[on];for(;i.length<=r;)i.push(null);return(i[r]=i[r]||[]).push(t),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i})}class an{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=v({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return`InjectionToken ${this._desc}`}}const cn=new an("AnalyzeForEntryComponents"),ln=Function;function un(e,t){void 0===t&&(t=e);for(let n=0;n<e.length;n++){let r=e[n];Array.isArray(r)?(t===e&&(t=e.slice(0,n)),un(r,t)):t!==e&&t.push(r)}return t}function hn(e,t){e.forEach(e=>Array.isArray(e)?hn(e,t):t(e))}function dn(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function fn(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function pn(e,t){const n=[];for(let r=0;r<e;r++)n.push(t);return n}function gn(e,t,n){let r=_n(e,t);return r>=0?e[1|r]=n:(r=~r,function(e,t,n,r){let i=e.length;if(i==t)e.push(n,r);else if(1===i)e.push(r,e[0]),e[0]=n;else{for(i--,e.push(e[i-1],e[i]);i>t;)e[i]=e[i-2],i--;e[t]=n,e[t+1]=r}}(e,r,t,n)),r}function mn(e,t){const n=_n(e,t);if(n>=0)return e[1|n]}function _n(e,t){return function(e,t,n){let r=0,i=e.length>>1;for(;i!==r;){const n=r+(i-r>>1),o=e[n<<1];if(t===o)return n<<1;o>t?i=n:r=n+1}return~(i<<1)}(e,t)}const yn={},bn=/\n/gm,vn="__source",wn=c({provide:String,useValue:c});let Cn;function On(e){const t=Cn;return Cn=e,t}function Pn(e,t=k.Default){if(void 0===Cn)throw new Error("inject() must be called from an injection context");return null===Cn?A(e,void 0,t):Cn.get(e,t&k.Optional?null:void 0,t)}function Tn(e,t=k.Default){return(E||Pn)(p(e),t)}const Mn=Tn;function Sn(e){const t=[];for(let n=0;n<e.length;n++){const r=p(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");let e,n=k.Default;for(let t=0;t<r.length;t++){const i=r[t],o=i.__NG_DI_FLAG__;"number"==typeof o?-1===o?e=i.token:n|=o:e=i}t.push(Tn(e,n))}else t.push(Tn(r))}return t}function In(e,t){return e.__NG_DI_FLAG__=t,e.prototype.__NG_DI_FLAG__=t,e}const kn=In(sn("Inject",e=>({token:e})),-1),En=In(sn("Optional"),8),xn=In(sn("SkipSelf"),4);let An,Dn;function Nn(e){var t;return(null===(t=function(){if(void 0===An&&(An=null,V.trustedTypes))try{An=V.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(t){}return An}())||void 0===t?void 0:t.createHTML(e))||e}function Rn(e){var t;return(null===(t=function(){if(void 0===Dn&&(Dn=null,V.trustedTypes))try{Dn=V.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch(t){}return Dn}())||void 0===t?void 0:t.createHTML(e))||e}class Fn{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}class Ln extends Fn{getTypeName(){return"HTML"}}class qn extends Fn{getTypeName(){return"Style"}}class Un extends Fn{getTypeName(){return"Script"}}class Vn extends Fn{getTypeName(){return"URL"}}class Zn extends Fn{getTypeName(){return"ResourceURL"}}function jn(e){return e instanceof Fn?e.changingThisBreaksApplicationSecurity:e}function Bn(e,t){const n=zn(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see https://g.co/ng/security#xss)`)}return n===t}function zn(e){return e instanceof Fn&&e.getTypeName()||null}function Hn(e){return new Ln(e)}function $n(e){return new qn(e)}function Gn(e){return new Un(e)}function Wn(e){return new Vn(e)}function Kn(e){return new Zn(e)}class Yn{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(Nn(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch(t){return null}}}class Qn{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=Nn(e),t;const n=this.inertDocument.createElement("body");return n.innerHTML=Nn(e),this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let r=t.length-1;0<r;r--){const n=t.item(r).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Jn=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Xn=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function er(e){return(e=String(e)).match(Jn)||e.match(Xn)?e:"unsafe:"+e}function tr(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function nr(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const rr=tr("area,br,col,hr,img,wbr"),ir=tr("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),or=tr("rp,rt"),sr=nr(or,ir),ar=nr(rr,nr(ir,tr("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),nr(or,tr("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),sr),cr=tr("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),lr=tr("srcset"),ur=nr(cr,lr,tr("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),tr("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),hr=tr("script,style,template");class dr{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!ar.hasOwnProperty(t))return this.sanitizedSomething=!0,!hr.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let i=0;i<n.length;i++){const e=n.item(i),t=e.name,o=t.toLowerCase();if(!ur.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=e.value;cr[o]&&(s=er(s)),lr[o]&&(r=s,s=(r=String(r)).split(",").map(e=>er(e.trim())).join(", ")),this.buf.push(" ",t,'="',gr(s),'"')}var r;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();ar.hasOwnProperty(t)&&!rr.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(gr(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const fr=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,pr=/([^\#-~ |!])/g;function gr(e){return e.replace(/&/g,"&amp;").replace(fr,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(pr,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let mr;function _r(e,t){let n=null;try{mr=mr||function(e){const t=new Qn(e);return function(){try{return!!(new window.DOMParser).parseFromString(Nn(""),"text/html")}catch(e){return!1}}()?new Yn(t):t}(e);let r=t?String(t):"";n=mr.getInertBodyElement(r);let i=5,o=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=o,o=n.innerHTML,n=mr.getInertBodyElement(r)}while(r!==o);return Nn((new dr).sanitizeChildren(yr(n)||n))}finally{if(n){const e=yr(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function yr(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var br=(()=>((br=br||{})[br.NONE=0]="NONE",br[br.HTML=1]="HTML",br[br.STYLE=2]="STYLE",br[br.SCRIPT=3]="SCRIPT",br[br.URL=4]="URL",br[br.RESOURCE_URL=5]="RESOURCE_URL",br))();function vr(e){const t=Cr();return t?Rn(t.sanitize(br.HTML,e)||""):Bn(e,"HTML")?Rn(jn(e)):_r(Me(),_(e))}function wr(e){const t=Cr();return t?t.sanitize(br.URL,e)||"":Bn(e,"URL")?jn(e):er(_(e))}function Cr(){const e=je();return e&&e[12]}function Or(e,t){e.__ngContext__=t}function Pr(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Tr(e){return e.ngOriginalError}function Mr(e,...t){e.error(...t)}class Sr{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e&&e.ngErrorLogger||Mr}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?function(e){return e.ngDebugContext}(e)||this._findContext(Tr(e)):null}_findOriginalError(e){let t=e&&Tr(e);for(;t&&Tr(t);)t=Tr(t);return t||null}}const Ir=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(V))();function kr(e){return e.ownerDocument}function Er(e){return e instanceof Function?e():e}var xr=(()=>((xr=xr||{})[xr.Important=1]="Important",xr[xr.DashCase=2]="DashCase",xr))();function Ar(e,t){return(void 0)(e,t)}function Dr(e){const t=e[3];return he(t)?t[3]:t}function Nr(e){return Fr(e[13])}function Rr(e){return Fr(e[4])}function Fr(e){for(;null!==e&&!he(e);)e=e[4];return e}function Lr(e,t,n,r,i){if(null!=r){let o,s=!1;he(r)?o=r:ue(r)&&(s=!0,r=r[0]);const a=ke(r);0===e&&null!==n?null==i?Hr(t,n,a):zr(t,n,a,i||null,!0):1===e&&null!==n?zr(t,n,a,i||null,!0):2===e?function(e,t,n){const r=Gr(e,t);r&&function(e,t,n,r){Se(e)?e.removeChild(t,n,r):t.removeChild(n)}(e,r,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,r,i){const o=n[7];o!==ke(n)&&Lr(t,e,r,o,i);for(let s=le;s<n.length;s++){const i=n[s];ti(i[1],i,e,t,r,o)}}(t,e,o,n,i)}}function qr(e,t,n){return Se(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Ur(e,t){const n=e[9],r=n.indexOf(t),i=t[3];1024&t[2]&&(t[2]&=-1025,Ue(i,-1)),n.splice(r,1)}function Vr(e,t){if(e.length<=le)return;const n=le+t,r=e[n];if(r){const o=r[17];null!==o&&o!==e&&Ur(o,r),t>0&&(e[n-1][4]=r[4]);const s=fn(e,le+t);ti(r[1],i=r,i[11],2,null,null),i[0]=null,i[6]=null;const a=s[19];null!==a&&a.detachView(s[1]),r[3]=null,r[4]=null,r[2]&=-129}var i;return r}function Zr(e,t){if(!(256&t[2])){const n=t[11];Se(n)&&n.destroyNode&&ti(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return jr(e[1],e);for(;t;){let n=null;if(ue(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)ue(t)&&jr(t[1],t),t=t[3];null===t&&(t=e),ue(t)&&jr(t[1],t),n=t&&t[4]}t=n}}(t)}}function jr(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let r=0;r<n.length;r+=2){const e=t[n[r]];if(!(e instanceof St)){const t=n[r+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2){const r=e[t[n]],i=t[n+1];try{i.call(r)}finally{}}else try{t.call(e)}finally{}}}}(e,t),function(e,t){const n=e.cleanup,r=t[7];let i=-1;if(null!==n)for(let o=0;o<n.length-1;o+=2)if("string"==typeof n[o]){const e=n[o+1],s="function"==typeof e?e(t):ke(t[e]),a=r[i=n[o+2]],c=n[o+3];"boolean"==typeof c?s.removeEventListener(n[o],a,c):c>=0?r[i=c]():r[i=-c].unsubscribe(),o+=2}else{const e=r[i=n[o+1]];n[o].call(e)}if(null!==r){for(let e=i+1;e<r.length;e++)(0,r[e])();t[7]=null}}(e,t),1===t[1].type&&Se(t[11])&&t[11].destroy();const n=t[17];if(null!==n&&he(t[3])){n!==t[3]&&Ur(n,t);const r=t[19];null!==r&&r.detachView(e)}}}function Br(e,t,n){return function(e,t,n){let r=t;for(;null!==r&&40&r.type;)r=(t=r).parent;if(null===r)return n[0];if(2&r.flags){const t=e.data[r.directiveStart].encapsulation;if(t===R.None||t===R.Emulated)return null}return xe(r,n)}(e,t.parent,n)}function zr(e,t,n,r,i){Se(e)?e.insertBefore(t,n,r,i):t.insertBefore(n,r,i)}function Hr(e,t,n){Se(e)?e.appendChild(t,n):t.appendChild(n)}function $r(e,t,n,r,i){null!==r?zr(e,t,n,r,i):Hr(e,t,n)}function Gr(e,t){return Se(e)?e.parentNode(t):t.parentNode}function Wr(e,t,n){return Kr(e,t,n)}let Kr=function(e,t,n){return 40&e.type?xe(e,n):null};function Yr(e,t,n,r){const i=Br(e,r,t),o=t[11],s=Wr(r.parent||t[6],r,t);if(null!=i)if(Array.isArray(n))for(let a=0;a<n.length;a++)$r(o,i,n[a],s,!1);else $r(o,i,n,s,!1)}function Qr(e,t){if(null!==t){const n=t.type;if(3&n)return xe(t,e);if(4&n)return Xr(-1,e[t.index]);if(8&n){const n=t.child;if(null!==n)return Qr(e,n);{const n=e[t.index];return he(n)?Xr(-1,n):ke(n)}}if(32&n)return Ar(t,e)()||ke(e[t.index]);{const n=Jr(e,t);return null!==n?Array.isArray(n)?n[0]:Qr(Dr(e[16]),n):Qr(e,t.next)}}return null}function Jr(e,t){return null!==t?e[16][6].projection[t.projection]:null}function Xr(e,t){const n=le+e+1;if(n<t.length){const e=t[n],r=e[1].firstChild;if(null!==r)return Qr(e,r)}return t[7]}function ei(e,t,n,r,i,o,s){for(;null!=n;){const a=r[n.index],c=n.type;if(s&&0===t&&(a&&Or(ke(a),r),n.flags|=4),64!=(64&n.flags))if(8&c)ei(e,t,n.child,r,i,o,!1),Lr(t,e,i,a,o);else if(32&c){const s=Ar(n,r);let c;for(;c=s();)Lr(t,e,i,c,o);Lr(t,e,i,a,o)}else 16&c?ni(e,t,r,n,i,o):Lr(t,e,i,a,o);n=s?n.projectionNext:n.next}}function ti(e,t,n,r,i,o){ei(n,r,e.firstChild,t,i,o,!1)}function ni(e,t,n,r,i,o){const s=n[16],a=s[6].projection[r.projection];if(Array.isArray(a))for(let c=0;c<a.length;c++)Lr(t,e,i,a[c],o);else ei(e,t,a,s[3],i,o,!0)}function ri(e,t,n){Se(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function ii(e,t,n){Se(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}function oi(e,t,n){let r=e.length;for(;;){const i=e.indexOf(t,n);if(-1===i)return i;if(0===i||e.charCodeAt(i-1)<=32){const n=t.length;if(i+n===r||e.charCodeAt(i+n)<=32)return i}n=i+1}}const si="ng-template";function ai(e,t,n){let r=0;for(;r<e.length;){let i=e[r++];if(n&&"class"===i){if(i=e[r],-1!==oi(i.toLowerCase(),t,0))return!0}else if(1===i){for(;r<e.length&&"string"==typeof(i=e[r++]);)if(i.toLowerCase()===t)return!0;return!1}}return!1}function ci(e){return 4===e.type&&e.value!==si}function li(e,t,n){return t===(4!==e.type||n?e.value:si)}function ui(e,t,n){let r=4;const i=e.attrs||[],o=function(e){for(let t=0;t<e.length;t++)if(kt(e[t]))return t;return e.length}(i);let s=!1;for(let a=0;a<t.length;a++){const c=t[a];if("number"!=typeof c){if(!s)if(4&r){if(r=2|1&r,""!==c&&!li(e,c,n)||""===c&&1===t.length){if(hi(r))return!1;s=!0}}else{const l=8&r?c:t[++a];if(8&r&&null!==e.attrs){if(!ai(e.attrs,l,n)){if(hi(r))return!1;s=!0}continue}const u=di(8&r?"class":c,i,ci(e),n);if(-1===u){if(hi(r))return!1;s=!0;continue}if(""!==l){let e;e=u>o?"":i[u+1].toLowerCase();const t=8&r?e:null;if(t&&-1!==oi(t,l,0)||2&r&&l!==e){if(hi(r))return!1;s=!0}}}}else{if(!s&&!hi(r)&&!hi(c))return!1;if(s&&hi(c))continue;s=!1,r=c|1&r}}return hi(r)||s}function hi(e){return 0==(1&e)}function di(e,t,n,r){if(null===t)return-1;let i=0;if(r||!n){let n=!1;for(;i<t.length;){const r=t[i];if(r===e)return i;if(3===r||6===r)n=!0;else{if(1===r||2===r){let e=t[++i];for(;"string"==typeof e;)e=t[++i];continue}if(4===r)break;if(0===r){i+=4;continue}}i+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const r=e[n];if("number"==typeof r)return-1;if(r===t)return n;n++}return-1}(t,e)}function fi(e,t,n=!1){for(let r=0;r<t.length;r++)if(ui(e,t[r],n))return!0;return!1}function pi(e,t){e:for(let n=0;n<t.length;n++){const r=t[n];if(e.length===r.length){for(let t=0;t<e.length;t++)if(e[t]!==r[t])continue e;return!0}}return!1}function gi(e,t){return e?":not("+t.trim()+")":t}function mi(e){let t=e[0],n=1,r=2,i="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&r){const t=e[++n];i+="["+s+(t.length>0?'="'+t+'"':"")+"]"}else 8&r?i+="."+s:4&r&&(i+=" "+s);else""===i||hi(s)||(t+=gi(o,i),i=""),r=s,o=o||!hi(r);n++}return""!==i&&(t+=gi(o,i)),t}const _i={};function yi(e){bi(Be(),je(),gt()+e,Ye())}function bi(e,t,n,r){if(!r)if(3==(3&t[2])){const r=e.preOrderCheckHooks;null!==r&&wt(t,r,n)}else{const r=e.preOrderHooks;null!==r&&Ct(t,r,0,n)}mt(n)}function vi(e,t){return e<<17|t<<2}function wi(e){return e>>17&32767}function Ci(e){return 2|e}function Oi(e){return(131068&e)>>2}function Pi(e,t){return-131069&e|t<<2}function Ti(e){return 1|e}function Mi(e,t){const n=e.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const i=n[r],o=n[r+1];if(-1!==o){const n=e.data[o];st(i),n.contentQueries(2,t[o],o)}}}function Si(e,t,n,r,i,o,s,a,c,l){const u=t.blueprint.slice();return u[0]=i,u[2]=140|r,qe(u),u[3]=u[15]=e,u[8]=n,u[10]=s||e&&e[10],u[11]=a||e&&e[11],u[12]=c||e&&e[12]||null,u[9]=l||e&&e[9]||null,u[6]=o,u[16]=2==t.type?e[16]:u,u}function Ii(e,t,n,r,i){let o=e.data[t];if(null===o)o=function(e,t,n,r,i){const o=$e(),s=We(),a=e.data[t]=function(e,t,n,r,i,o){return{type:n,index:r,insertBeforeIndex:null,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,s?o:o&&o.parent,n,t,r,i);return null===e.firstChild&&(e.firstChild=a),null!==o&&(s?null==o.child&&null!==a.parent&&(o.child=a):null===o.next&&(o.next=a)),a}(e,t,n,r,i),Ve.lFrame.inI18n&&(o.flags|=64);else if(64&o.type){o.type=n,o.value=r,o.attrs=i;const e=function(){const e=Ve.lFrame,t=e.currentTNode;return e.isParent?t:t.parent}();o.injectorIndex=null===e?-1:e.injectorIndex}return Ge(o,!0),o}function ki(e,t,n,r){if(0===n)return-1;const i=t.length;for(let o=0;o<n;o++)t.push(r),e.blueprint.push(r),e.data.push(null);return i}function Ei(e,t,n){lt(t);try{const r=e.viewQuery;null!==r&&so(1,r,n);const i=e.template;null!==i&&Di(e,t,i,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Mi(e,t),e.staticViewQueries&&so(2,e.viewQuery,n);const o=e.components;null!==o&&function(e,t){for(let n=0;n<t.length;n++)to(e,t[n])}(t,o)}catch(r){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),r}finally{t[2]&=-5,pt()}}function xi(e,t,n,r){const i=t[2];if(256==(256&i))return;lt(t);const o=Ye();try{qe(t),Ve.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Di(e,t,n,2,r);const s=3==(3&i);if(!o)if(s){const n=e.preOrderCheckHooks;null!==n&&wt(t,n,null)}else{const n=e.preOrderHooks;null!==n&&Ct(t,n,0,null),Ot(t,0)}if(function(e){for(let t=Nr(e);null!==t;t=Rr(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],r=n[3];0==(1024&n[2])&&Ue(r,1),n[2]|=1024}}}(t),function(e){for(let t=Nr(e);null!==t;t=Rr(t))for(let e=le;e<t.length;e++){const n=t[e],r=n[1];Fe(n)&&xi(r,n,r.template,n[8])}}(t),null!==e.contentQueries&&Mi(e,t),!o)if(s){const n=e.contentCheckHooks;null!==n&&wt(t,n)}else{const n=e.contentHooks;null!==n&&Ct(t,n,1),Ot(t,1)}!function(e,t){const n=e.hostBindingOpCodes;if(null!==n)try{for(let e=0;e<n.length;e++){const r=n[e];if(r<0)mt(~r);else{const i=r,o=n[++e],s=n[++e];nt(o,i),s(2,t[i])}}}finally{mt(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)Xi(e,t[n])}(t,a);const c=e.viewQuery;if(null!==c&&so(2,c,r),!o)if(s){const n=e.viewCheckHooks;null!==n&&wt(t,n)}else{const n=e.viewHooks;null!==n&&Ct(t,n,2),Ot(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Ue(t[3],-1))}finally{pt()}}function Ai(e,t,n,r){const i=t[10],o=!Ye(),s=Re(t);try{o&&!s&&i.begin&&i.begin(),s&&Ei(e,t,r),xi(e,t,n,r)}finally{o&&!s&&i.end&&i.end()}}function Di(e,t,n,r,i){const o=gt(),s=2&r;try{mt(-1),s&&t.length>ce&&bi(e,t,ce,Ye()),n(r,i)}finally{mt(o)}}function Ni(e,t,n){if(de(t)){const r=t.directiveEnd;for(let i=t.directiveStart;i<r;i++){const t=e.data[i];t.contentQueries&&t.contentQueries(1,n[i],i)}}}function Ri(e,t,n){Ze()&&(function(e,t,n,r){const i=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||Ut(n,t),Or(r,t);const s=n.initialInputs;for(let a=i;a<o;a++){const r=e.data[a],o=ge(r);o&&Ki(t,n,r);const c=Qt(t,e,a,n);Or(c,t),null!==s&&Yi(0,a-i,c,r,0,s),o&&(Ne(n.index,t)[8]=c)}}(e,t,n,xe(n,t)),128==(128&n.flags)&&function(e,t,n){const r=n.directiveStart,i=n.directiveEnd,o=n.index,s=Ve.lFrame.currentDirectiveIndex;try{mt(o);for(let n=r;n<i;n++){const r=e.data[n],i=t[n];rt(n),null===r.hostBindings&&0===r.hostVars&&null===r.hostAttrs||zi(r,i)}}finally{mt(-1),rt(s)}}(e,t,n))}function Fi(e,t,n=xe){const r=t.localNames;if(null!==r){let i=t.index+1;for(let o=0;o<r.length;o+=2){const s=r[o+1],a=-1===s?n(t,e):e[s];e[i++]=a}}}function Li(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=qi(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function qi(e,t,n,r,i,o,s,a,c,l){const u=ce+r,h=u+i,d=function(e,t){const n=[];for(let r=0;r<t;r++)n.push(r<e?null:_i);return n}(u,h),f="function"==typeof l?l():l;return d[1]={type:e,blueprint:d,template:n,queries:null,viewQuery:a,declTNode:t,data:d.slice().fill(null,u),bindingStartIndex:u,expandoStartIndex:h,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:c,consts:f,incompleteFirstPass:!1}}function Ui(e,t,n,r){const i=co(t);null===n?i.push(r):(i.push(n),e.firstCreatePass&&lo(e).push(r,i.length-1))}function Vi(e,t,n){for(let r in e)if(e.hasOwnProperty(r)){const i=e[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(t,i):n[r]=[t,i]}return n}function Zi(e,t,n,r,i,o,s,a){const c=xe(t,n);let l,u=t.inputs;var h;!a&&null!=u&&(l=u[r])?(ho(e,n,l,r,i),fe(t)&&function(e,t){const n=Ne(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3&t.type&&(r="class"===(h=r)?"className":"for"===h?"htmlFor":"formaction"===h?"formAction":"innerHtml"===h?"innerHTML":"readonly"===h?"readOnly":"tabindex"===h?"tabIndex":h,i=null!=s?s(i,t.value||"",r):i,Se(o)?o.setProperty(c,r,i):Et(r)||(c.setProperty?c.setProperty(r,i):c[r]=i))}function ji(e,t,n,r){let i=!1;if(Ze()){const o=function(e,t,n){const r=e.directiveRegistry;let i=null;if(r)for(let o=0;o<r.length;o++){const s=r[o];fi(n,s.selectors,!1)&&(i||(i=[]),Bt(Ut(n,t),e,s.type),ge(s)?(Hi(e,n),i.unshift(s)):i.push(s))}return i}(e,t,n),s=null===r?null:{"":-1};if(null!==o){i=!0,Gi(n,e.data.length,o.length);for(let e=0;e<o.length;e++){const t=o[e];t.providersResolver&&t.providersResolver(t)}let r=!1,a=!1,c=ki(e,t,o.length,null);for(let i=0;i<o.length;i++){const l=o[i];n.mergedAttrs=xt(n.mergedAttrs,l.hostAttrs),Wi(e,n,t,c,l),$i(c,l,s),null!==l.contentQueries&&(n.flags|=8),null===l.hostBindings&&null===l.hostAttrs&&0===l.hostVars||(n.flags|=128);const u=l.type.prototype;!r&&(u.ngOnChanges||u.ngOnInit||u.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index),r=!0),a||!u.ngOnChanges&&!u.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index),a=!0),c++}!function(e,t){const n=t.directiveEnd,r=e.data,i=t.attrs,o=[];let s=null,a=null;for(let c=t.directiveStart;c<n;c++){const e=r[c],n=e.inputs,l=null===i||ci(t)?null:Qi(n,i);o.push(l),s=Vi(n,c,s),a=Vi(e.outputs,c,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=s,t.outputs=a}(e,n)}s&&function(e,t,n){if(t){const r=e.localNames=[];for(let e=0;e<t.length;e+=2){const i=n[t[e+1]];if(null==i)throw new m("301",`Export of name '${t[e+1]}' not found!`);r.push(t[e],i)}}}(n,r,s)}return n.mergedAttrs=xt(n.mergedAttrs,n.attrs),i}function Bi(e,t,n,r,i,o){const s=o.hostBindings;if(s){let n=e.hostBindingOpCodes;null===n&&(n=e.hostBindingOpCodes=[]);const o=~t.index;(function(e){let t=e.length;for(;t>0;){const n=e[--t];if("number"==typeof n&&n<0)return n}return 0})(n)!=o&&n.push(o),n.push(r,i,s)}}function zi(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Hi(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function $i(e,t,n){if(n){if(t.exportAs)for(let r=0;r<t.exportAs.length;r++)n[t.exportAs[r]]=e;ge(t)&&(n[""]=e)}}function Gi(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function Wi(e,t,n,r,i){e.data[r]=i;const o=i.factory||(i.factory=me(i.type)),s=new St(o,ge(i),null);e.blueprint[r]=s,n[r]=s,Bi(e,t,0,r,ki(e,n,i.hostVars,_i),i)}function Ki(e,t,n){const r=xe(t,e),i=Li(n),o=e[10],s=no(e,Si(e,i,null,n.onPush?64:16,r,t,o,o.createRenderer(r,n),null,null));e[t.index]=s}function Yi(e,t,n,r,i,o){const s=o[t];if(null!==s){const e=r.setInput;for(let t=0;t<s.length;){const i=s[t++],o=s[t++],a=s[t++];null!==e?r.setInput(n,a,i,o):n[o]=a}}}function Qi(e,t){let n=null,r=0;for(;r<t.length;){const i=t[r];if(0!==i)if(5!==i){if("number"==typeof i)break;e.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,e[i],t[r+1])),r+=2}else r+=2;else r+=4}return n}function Ji(e,t,n,r){return new Array(e,!0,!1,t,null,0,r,n,null,null)}function Xi(e,t){const n=Ne(t,e);if(Fe(n)){const e=n[1];80&n[2]?xi(e,n,e.template,n[8]):n[5]>0&&eo(n)}}function eo(e){for(let n=Nr(e);null!==n;n=Rr(n))for(let e=le;e<n.length;e++){const t=n[e];if(1024&t[2]){const e=t[1];xi(e,t,e.template,t[8])}else t[5]>0&&eo(t)}const t=e[1].components;if(null!==t)for(let n=0;n<t.length;n++){const r=Ne(t[n],e);Fe(r)&&r[5]>0&&eo(r)}}function to(e,t){const n=Ne(t,e),r=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(r,n),Ei(r,n,n[8])}function no(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function ro(e){for(;e;){e[2]|=64;const t=Dr(e);if(0!=(512&e[2])&&!t)return e;e=t}return null}function io(e,t,n){const r=t[10];r.begin&&r.begin();try{xi(e,t,e.template,n)}catch(i){throw uo(t,i),i}finally{r.end&&r.end()}}function oo(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],r=Pr(n),i=r[1];Ai(i,r,i.template,n)}}(e[8])}function so(e,t,n){st(0),t(e,n)}const ao=(()=>Promise.resolve(null))();function co(e){return e[7]||(e[7]=[])}function lo(e){return e.cleanup||(e.cleanup=[])}function uo(e,t){const n=e[9],r=n?n.get(Sr,null):null;r&&r.handleError(t)}function ho(e,t,n,r,i){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],c=t[s],l=e.data[s];null!==l.setInput?l.setInput(c,i,r,a):c[a]=i}}function fo(e,t,n){let r=n?e.styles:null,i=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const e=t[s];"number"==typeof e?o=e:1==o?i=h(i,e):2==o&&(r=h(r,e+": "+t[++s]+";"))}n?e.styles=r:e.stylesWithoutHost=r,n?e.classes=i:e.classesWithoutHost=i}const po=new an("INJECTOR",-1);class go{get(e,t=yn){if(t===yn){const t=new Error(`NullInjectorError: No provider for ${u(e)}!`);throw t.name="NullInjectorError",t}return t}}const mo=new an("Set Injector scope."),_o={},yo={};let bo;function vo(){return void 0===bo&&(bo=new go),bo}function wo(e,t=null,n=null,r){return new Co(e,n,t||vo(),r)}class Co{constructor(e,t,n,r=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const i=[];t&&hn(t,n=>this.processProvider(n,e,t)),hn([e],e=>this.processInjectorType(e,[],i)),this.records.set(po,To(void 0,this));const o=this.records.get(mo);this.scope=null!=o?o.value:null,this.source=r||("object"==typeof e?null:u(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=yn,n=k.Default){this.assertNotDestroyed();const r=On(this),i=x(void 0);try{if(!(n&k.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(o=e)||"object"==typeof o&&o instanceof an)&&C(e);t=n&&this.injectableDefInScope(n)?To(Oo(e),_o):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&k.Self?vo():this.parent).get(e,t=n&k.Optional&&t===yn?null:t)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(u(e)),r)throw s;return function(e,t,n,r){const i=e.ngTempTokenPath;throw t[vn]&&i.unshift(t[vn]),e.message=function(e,t,n,r=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let i=u(t);if(Array.isArray(t))i=t.map(u).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let r=t[n];e.push(n+":"+("string"==typeof r?JSON.stringify(r):u(r)))}i=`{${e.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${e.replace(bn,"\n  ")}`}("\n"+e.message,i,n,r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(s,e,"R3InjectorError",this.source)}throw s}finally{x(i),On(r)}var o}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(u(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=p(e)))return!1;let r=P(e);const i=null==r&&e.ngModule||void 0,o=void 0===i?e:i,s=-1!==n.indexOf(o);if(void 0!==i&&(r=P(i)),null==r)return!1;if(null!=r.imports&&!s){let e;n.push(o);try{hn(r.imports,r=>{this.processInjectorType(r,t,n)&&(void 0===e&&(e=[]),e.push(r))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:r}=e[t];hn(r,e=>this.processProvider(e,n,r||j))}}this.injectorDefTypes.add(o);const a=me(o)||(()=>new o);this.records.set(o,To(a,_o));const c=r.providers;if(null!=c&&!s){const t=e;hn(c,e=>this.processProvider(e,t,c))}return void 0!==i&&void 0!==e.providers}processProvider(e,t,n){let r=So(e=p(e))?e:p(e&&e.provide);const i=function(e,t,n){return Mo(e)?To(void 0,e.useValue):To(Po(e),_o)}(e);if(So(e)||!0!==e.multi)this.records.get(r);else{let t=this.records.get(r);t||(t=To(void 0,_o,!0),t.factory=()=>Sn(t.multi),this.records.set(r,t)),r=e,t.multi.push(e)}this.records.set(r,i)}hydrate(e,t){var n;return t.value===_o&&(t.value=yo,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=p(e.providedIn);return"string"==typeof t?"any"===t||t===this.scope:this.injectorDefTypes.has(t)}}function Oo(e){const t=C(e),n=null!==t?t.factory:me(e);if(null!==n)return n;if(e instanceof an)throw new Error(`Token ${u(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=pn(t,"?");throw new Error(`Can't resolve all parameters for ${u(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[T]||e[S]);if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function Po(e,t,n){let r;if(So(e)){const t=p(e);return me(t)||Oo(t)}if(Mo(e))r=()=>p(e.useValue);else if((i=e)&&i.useFactory)r=()=>e.useFactory(...Sn(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))r=()=>Tn(p(e.useExisting));else{const t=p(e&&(e.useClass||e.provide));if(!function(e){return!!e.deps}(e))return me(t)||Oo(t);r=()=>new t(...Sn(e.deps))}var i;return r}function To(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function Mo(e){return null!==e&&"object"==typeof e&&wn in e}function So(e){return"function"==typeof e}const Io=function(e,t,n){return function(e,t=null,n=null,r){const i=wo(e,t,n,r);return i._resolveInjectorDefTypes(),i}({name:n},t,e,n)};class ko{static create(e,t){return Array.isArray(e)?Io(e,t,""):Io(e.providers,e.parent,e.name||"")}}function Eo(e,t){vt(Pr(e)[1],He())}function xo(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0;const r=[e];for(;t;){let i;if(ge(e))i=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");i=t.\u0275dir}if(i){if(n){r.push(i);const t=e;t.inputs=Ao(e.inputs),t.declaredInputs=Ao(e.declaredInputs),t.outputs=Ao(e.outputs);const n=i.hostBindings;n&&Ro(e,n);const o=i.viewQuery,s=i.contentQueries;if(o&&Do(e,o),s&&No(e,s),l(e.inputs,i.inputs),l(e.declaredInputs,i.declaredInputs),l(e.outputs,i.outputs),ge(i)&&i.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(i.data.animation)}}const t=i.features;if(t)for(let r=0;r<t.length;r++){const i=t[r];i&&i.ngInherit&&i(e),i===xo&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let r=e.length-1;r>=0;r--){const i=e[r];i.hostVars=t+=i.hostVars,i.hostAttrs=xt(i.hostAttrs,n=xt(n,i.hostAttrs))}}(r)}function Ao(e){return e===Z?{}:e===j?[]:e}function Do(e,t){const n=e.viewQuery;e.viewQuery=n?(e,r)=>{t(e,r),n(e,r)}:t}function No(e,t){const n=e.contentQueries;e.contentQueries=n?(e,r,i)=>{t(e,r,i),n(e,r,i)}:t}function Ro(e,t){const n=e.hostBindings;e.hostBindings=n?(e,r)=>{t(e,r),n(e,r)}:t}ko.THROW_IF_NOT_FOUND=yn,ko.NULL=new go,ko.\u0275prov=v({token:ko,providedIn:"any",factory:()=>Tn(po)}),ko.__NG_ELEMENT_ID__=-1;let Fo=null;function Lo(){if(!Fo){const e=V.Symbol;if(e&&e.iterator)Fo=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(Fo=n)}}}return Fo}class qo{constructor(e){this.wrapped=e}static wrap(e){return new qo(e)}static unwrap(e){return qo.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof qo}}function Uo(e){return!!Vo(e)&&(Array.isArray(e)||!(e instanceof Map)&&Lo()in e)}function Vo(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function Zo(e,t,n){return e[t]=n}function jo(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Bo(e,t,n,r){const i=jo(e,t,n);return jo(e,t+1,r)||i}function zo(e,t,n,r){const i=je();return jo(i,et(),t)&&(Be(),function(e,t,n,r,i,o){const s=xe(e,t);!function(e,t,n,r,i,o,s){if(null==o)Se(e)?e.removeAttribute(t,i,n):t.removeAttribute(i);else{const a=null==s?_(o):s(o,r||"",i);Se(e)?e.setAttribute(t,i,a,n):n?t.setAttributeNS(n,i,a):t.setAttribute(i,a)}}(t[11],s,o,e.value,n,r,i)}(_t(),i,e,t,n,r)),zo}function Ho(e,t,n,r){return jo(e,et(),n)?t+_(n)+r:_i}function $o(e,t,n,r,i,o,s,a){const c=je(),l=Be(),u=e+ce,h=l.firstCreatePass?function(e,t,n,r,i,o,s,a,c){const l=t.consts,u=Ii(t,e,4,s||null,Le(l,a));ji(t,n,u,Le(l,c)),vt(t,u);const h=u.tViews=qi(2,u,r,i,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,l);return null!==t.queries&&(t.queries.template(t,u),h.queries=t.queries.embeddedTView(u)),u}(u,l,c,t,n,r,i,o,s):l.data[u];Ge(h,!1);const d=c[11].createComment("");Yr(l,c,d,h),Or(d,c),no(c,c[u]=Ji(d,c,d,h)),pe(h)&&Ri(l,c,h),null!=s&&Fi(c,h,a)}function Go(e){return De(Ve.lFrame.contextLView,ce+e)}function Wo(e,t=k.Default){const n=je();return null===n?Tn(e,t):$t(He(),n,p(e),t)}function Ko(e,t,n){const r=je();return jo(r,et(),t)&&Zi(Be(),_t(),r,e,t,r[11],n,!1),Ko}function Yo(e,t,n,r,i){const o=i?"class":"style";ho(e,n,t.inputs[o],o,r)}function Qo(e,t,n,r){const i=je(),o=Be(),s=ce+e,a=i[11],c=i[s]=qr(a,t,Ve.lFrame.currentNamespace),l=o.firstCreatePass?function(e,t,n,r,i,o,s){const a=t.consts,c=Ii(t,e,2,i,Le(a,o));return ji(t,n,c,Le(a,s)),null!==c.attrs&&fo(c,c.attrs,!1),null!==c.mergedAttrs&&fo(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(s,o,i,0,t,n,r):o.data[s];Ge(l,!0);const u=l.mergedAttrs;null!==u&&It(a,c,u);const h=l.classes;null!==h&&ii(a,c,h);const d=l.styles;null!==d&&ri(a,c,d),64!=(64&l.flags)&&Yr(o,i,c,l),0===Ve.lFrame.elementDepthCount&&Or(c,i),Ve.lFrame.elementDepthCount++,pe(l)&&(Ri(o,i,l),Ni(o,l,i)),null!==r&&Fi(i,l)}function Jo(){let e=He();We()?Ke():(e=e.parent,Ge(e,!1));const t=e;Ve.lFrame.elementDepthCount--;const n=Be();n.firstCreatePass&&(vt(n,e),de(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Yo(n,t,je(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Yo(n,t,je(),t.stylesWithoutHost,!1)}function Xo(e,t,n,r){Qo(e,t,n,r),Jo()}function es(e,t,n){const r=je(),i=Be(),o=e+ce,s=i.firstCreatePass?function(e,t,n,r,i){const o=t.consts,s=Le(o,r),a=Ii(t,e,8,"ng-container",s);return null!==s&&fo(a,s,!0),ji(t,n,a,Le(o,i)),null!==t.queries&&t.queries.elementStart(t,a),a}(o,i,r,t,n):i.data[o];Ge(s,!0);const a=r[o]=r[11].createComment("");Yr(i,r,a,s),Or(a,r),pe(s)&&(Ri(i,r,s),Ni(i,s,r)),null!=n&&Fi(r,s)}function ts(){let e=He();const t=Be();We()?Ke():(e=e.parent,Ge(e,!1)),t.firstCreatePass&&(vt(t,e),de(e)&&t.queries.elementEnd(e))}function ns(){return je()}function rs(e){return!!e&&"function"==typeof e.then}function is(e){return!!e&&"function"==typeof e.subscribe}const os=is;function ss(e,t,n,r){const i=je(),o=Be(),s=He();return function(e,t,n,r,i,o,s,a){const c=pe(r),l=e.firstCreatePass&&lo(e),u=co(t);let h=!0;if(3&r.type||a){const d=xe(r,t),f=a?a(d):d,p=u.length,g=a?e=>a(ke(e[r.index])):r.index;if(Se(n)){let s=null;if(!a&&c&&(s=function(e,t,n,r){const i=e.cleanup;if(null!=i)for(let o=0;o<i.length-1;o+=2){const e=i[o];if(e===n&&i[o+1]===r){const e=t[7],n=i[o+2];return e.length>n?e[n]:null}"string"==typeof e&&(o+=2)}return null}(e,t,i,r.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,h=!1;else{o=cs(r,t,0,o,!1);const e=n.listen(f,i,o);u.push(o,e),l&&l.push(i,g,p,p+1)}}else o=cs(r,t,0,o,!0),f.addEventListener(i,o,s),u.push(o),l&&l.push(i,g,p,s)}else o=cs(r,t,0,o,!1);const d=r.outputs;let f;if(h&&null!==d&&(f=d[i])){const e=f.length;if(e)for(let n=0;n<e;n+=2){const e=t[f[n]][f[n+1]].subscribe(o),s=u.length;u.push(o,e),l&&l.push(i,r.index,s,-(s+1))}}}(o,i,i[11],s,e,t,!!n,r),ss}function as(e,t,n,r){try{return!1!==n(r)}catch(i){return uo(e,i),!1}}function cs(e,t,n,r,i){return function n(o){if(o===Function)return r;const s=2&e.flags?Ne(e.index,t):t;0==(32&t[2])&&ro(s);let a=as(t,0,r,o),c=n.__ngNextListenerFn__;for(;c;)a=as(t,0,c,o)&&a,c=c.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function ls(e=1){return function(e){return(Ve.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,Ve.lFrame.contextLView))[8]}(e)}function us(e,t){let n=null;const r=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let i=0;i<t.length;i++){const o=t[i];if("*"!==o){if(null===r?fi(e,o,!0):pi(r,o))return i}else n=i}return n}function hs(e){const t=je()[16][6];if(!t.projection){const n=t.projection=pn(e?e.length:1,null),r=n.slice();let i=t.child;for(;null!==i;){const t=e?us(i,e):0;null!==t&&(r[t]?r[t].projectionNext=i:n[t]=i,r[t]=i),i=i.next}}}function ds(e,t=0,n){const r=je(),i=Be(),o=Ii(i,ce+e,16,null,n||null);null===o.projection&&(o.projection=t),Ke(),64!=(64&o.flags)&&function(e,t,n){ni(t[11],0,t,n,Br(e,n,t),Wr(n.parent||t[6],n,t))}(i,r,o)}function fs(e,t,n){return ps(e,"",t,"",n),fs}function ps(e,t,n,r,i){const o=je(),s=Ho(o,t,n,r);return s!==_i&&Zi(Be(),_t(),o,e,s,o[11],i,!1),ps}function gs(e,t,n,r,i,o,s){const a=je(),c=function(e,t,n,r,i,o){const s=Bo(e,Xe(),n,i);return tt(2),s?t+_(n)+r+_(i)+o:_i}(a,t,n,r,i,o);return c!==_i&&Zi(Be(),_t(),a,e,c,a[11],s,!1),gs}function ms(e,t,n,r,i){const o=e[n+1],s=null===t;let a=r?wi(o):Oi(o),c=!1;for(;0!==a&&(!1===c||s);){const n=e[a+1];_s(e[a],t)&&(c=!0,e[a+1]=r?Ti(n):Ci(n)),a=r?wi(n):Oi(n)}c&&(e[n+1]=r?Ci(o):Ti(o))}function _s(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&_n(e,t)>=0}const ys={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function bs(e){return e.substring(ys.key,ys.keyEnd)}function vs(e,t){const n=ys.textEnd;return n===t?-1:(t=ys.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,ys.key=t,n),ws(e,t,n))}function ws(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function Cs(e,t,n){return Ms(e,t,n,!1),Cs}function Os(e,t){return Ms(e,t,null,!0),Os}function Ps(e){!function(e,t,n,r){const i=Be(),o=tt(2);i.firstUpdatePass&&Is(i,null,o,r);const s=je();if(n!==_i&&jo(s,o,n)){const a=i.data[gt()];if(Ns(a,r)&&!Ss(i,o)){let e=a.classesWithoutHost;null!==e&&(n=h(e,n||"")),Yo(i,a,s,n,r)}else!function(e,t,n,r,i,o,s,a){i===_i&&(i=j);let c=0,l=0,u=0<i.length?i[0]:null,h=0<o.length?o[0]:null;for(;null!==u||null!==h;){const s=c<i.length?i[c+1]:void 0,d=l<o.length?o[l+1]:void 0;let f,p=null;u===h?(c+=2,l+=2,s!==d&&(p=h,f=d)):null===h||null!==u&&u<h?(c+=2,p=u):(l+=2,p=h,f=d),null!==p&&xs(e,t,n,r,p,f,true,a),u=c<i.length?i[c]:null,h=l<o.length?o[l]:null}}(i,a,s,s[11],s[o+1],s[o+1]=function(e,t,n){if(null==n||""===n)return j;const r=[],i=jn(n);if(Array.isArray(i))for(let o=0;o<i.length;o++)e(r,i[o],!0);else if("object"==typeof i)for(const o in i)i.hasOwnProperty(o)&&e(r,o,i[o]);else"string"==typeof i&&t(r,i);return r}(e,t,n),0,o)}}(gn,Ts,e,!0)}function Ts(e,t){for(let n=function(e){return function(e){ys.key=0,ys.keyEnd=0,ys.value=0,ys.valueEnd=0,ys.textEnd=e.length}(e),vs(e,ws(e,0,ys.textEnd))}(t);n>=0;n=vs(t,n))gn(e,bs(t),!0)}function Ms(e,t,n,r){const i=je(),o=Be(),s=tt(2);o.firstUpdatePass&&Is(o,e,s,r),t!==_i&&jo(i,s,t)&&xs(o,o.data[gt()],i,i[11],e,i[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=u(jn(e)))),e}(t,n),r,s)}function Ss(e,t){return t>=e.expandoStartIndex}function Is(e,t,n,r){const i=e.data;if(null===i[n+1]){const o=i[gt()],s=Ss(e,n);Ns(o,r)&&null===t&&!s&&(t=!1),t=function(e,t,n,r){const i=it(e);let o=r?t.residualClasses:t.residualStyles;if(null===i)0===(r?t.classBindings:t.styleBindings)&&(n=Es(n=ks(null,e,t,n,r),t.attrs,r),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==i)if(n=ks(i,e,t,n,r),null===o){let n=function(e,t,n){const r=n?t.classBindings:t.styleBindings;if(0!==Oi(r))return e[wi(r)]}(e,t,r);void 0!==n&&Array.isArray(n)&&(n=ks(null,e,t,n[1],r),n=Es(n,t.attrs,r),function(e,t,n,r){e[wi(n?t.classBindings:t.styleBindings)]=r}(e,t,r,n))}else o=function(e,t,n){let r;const i=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<i;o++)r=Es(r,e[o].hostAttrs,n);return Es(r,t.attrs,n)}(e,t,r)}return void 0!==o&&(r?t.residualClasses=o:t.residualStyles=o),n}(i,o,t,r),function(e,t,n,r,i,o){let s=o?t.classBindings:t.styleBindings,a=wi(s),c=Oi(s);e[r]=n;let l,u=!1;if(Array.isArray(n)){const e=n;l=e[1],(null===l||_n(e,l)>0)&&(u=!0)}else l=n;if(i)if(0!==c){const t=wi(e[a+1]);e[r+1]=vi(t,a),0!==t&&(e[t+1]=Pi(e[t+1],r)),e[a+1]=131071&e[a+1]|r<<17}else e[r+1]=vi(a,0),0!==a&&(e[a+1]=Pi(e[a+1],r)),a=r;else e[r+1]=vi(c,0),0===a?a=r:e[c+1]=Pi(e[c+1],r),c=r;u&&(e[r+1]=Ci(e[r+1])),ms(e,l,r,!0),ms(e,l,r,!1),function(e,t,n,r,i){const o=i?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&_n(o,t)>=0&&(n[r+1]=Ti(n[r+1]))}(t,l,e,r,o),s=vi(a,c),o?t.classBindings=s:t.styleBindings=s}(i,o,t,n,s,r)}}function ks(e,t,n,r,i){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],r=Es(r,o.hostAttrs,i),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),r}function Es(e,t,n){const r=n?1:2;let i=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?i=s:i===r&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),gn(e,s,!!n||t[++o]))}return void 0===e?null:e}function xs(e,t,n,r,i,o,s,a){if(!(3&t.type))return;const c=e.data,l=c[a+1];Ds(1==(1&l)?As(c,t,n,i,Oi(l),s):void 0)||(Ds(o)||2==(2&l)&&(o=As(c,null,n,i,a,s)),function(e,t,n,r,i){const o=Se(e);if(t)i?o?e.addClass(n,r):n.classList.add(r):o?e.removeClass(n,r):n.classList.remove(r);else{let t=-1===r.indexOf("-")?void 0:xr.DashCase;if(null==i)o?e.removeStyle(n,r,t):n.style.removeProperty(r);else{const s="string"==typeof i&&i.endsWith("!important");s&&(i=i.slice(0,-10),t|=xr.Important),o?e.setStyle(n,r,i,t):n.style.setProperty(r,i,s?"important":"")}}}(r,s,Ee(gt(),n),i,o))}function As(e,t,n,r,i,o){const s=null===t;let a;for(;i>0;){const t=e[i],o=Array.isArray(t),c=o?t[1]:t,l=null===c;let u=n[i+1];u===_i&&(u=l?j:void 0);let h=l?mn(u,r):c===r?u:void 0;if(o&&!Ds(h)&&(h=mn(t,r)),Ds(h)&&(a=h,s))return a;const d=e[i+1];i=s?wi(d):Oi(d)}if(null!==t){let e=o?t.residualClasses:t.residualStyles;null!=e&&(a=mn(e,r))}return a}function Ds(e){return void 0!==e}function Ns(e,t){return 0!=(e.flags&(t?16:32))}function Rs(e,t=""){const n=je(),r=Be(),i=e+ce,o=r.firstCreatePass?Ii(r,i,1,t,null):r.data[i],s=n[i]=function(e,t){return Se(e)?e.createText(t):e.createTextNode(t)}(n[11],t);Yr(r,n,s,o),Ge(o,!1)}function Fs(e){return Ls("",e,""),Fs}function Ls(e,t,n){const r=je(),i=Ho(r,e,t,n);return i!==_i&&function(e,t,n){const r=Ee(t,e);!function(e,t,n){Se(e)?e.setValue(t,n):t.textContent=n}(e[11],r,n)}(r,gt(),i),Ls}function qs(e,t,n){const r=je();return jo(r,et(),t)&&Zi(Be(),_t(),r,e,t,r[11],n,!0),qs}function Us(e,t,n){const r=je();if(jo(r,et(),t)){const i=Be(),o=_t();Zi(i,o,r,e,t,function(e,t,n){return(null===e||ge(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}(it(i.data),o,r),n,!0)}return Us}const Vs=void 0;var Zs=["en",[["a","p"],["AM","PM"],Vs],[["AM","PM"],Vs,Vs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Vs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Vs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Vs,"{1} 'at' {0}",Vs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let js={};function Bs(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Hs(t);if(n)return n;const r=t.split("-")[0];if(n=Hs(r),n)return n;if("en"===r)return Zs;throw new Error(`Missing locale data for the locale "${e}".`)}function zs(e){return Bs(e)[$s.PluralCase]}function Hs(e){return e in js||(js[e]=V.ng&&V.ng.common&&V.ng.common.locales&&V.ng.common.locales[e]),js[e]}var $s=(()=>(($s=$s||{})[$s.LocaleId=0]="LocaleId",$s[$s.DayPeriodsFormat=1]="DayPeriodsFormat",$s[$s.DayPeriodsStandalone=2]="DayPeriodsStandalone",$s[$s.DaysFormat=3]="DaysFormat",$s[$s.DaysStandalone=4]="DaysStandalone",$s[$s.MonthsFormat=5]="MonthsFormat",$s[$s.MonthsStandalone=6]="MonthsStandalone",$s[$s.Eras=7]="Eras",$s[$s.FirstDayOfWeek=8]="FirstDayOfWeek",$s[$s.WeekendRange=9]="WeekendRange",$s[$s.DateFormat=10]="DateFormat",$s[$s.TimeFormat=11]="TimeFormat",$s[$s.DateTimeFormat=12]="DateTimeFormat",$s[$s.NumberSymbols=13]="NumberSymbols",$s[$s.NumberFormats=14]="NumberFormats",$s[$s.CurrencyCode=15]="CurrencyCode",$s[$s.CurrencySymbol=16]="CurrencySymbol",$s[$s.CurrencyName=17]="CurrencyName",$s[$s.Currencies=18]="Currencies",$s[$s.Directionality=19]="Directionality",$s[$s.PluralCase=20]="PluralCase",$s[$s.ExtraData=21]="ExtraData",$s))();const Gs="en-US";let Ws=Gs;function Ks(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,r){throw new Error(`ASSERTION ERROR: ${e} [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(Ws=e.toLowerCase().replace(/_/g,"-"))}function Ys(e,t,n,r,i){if(e=p(e),Array.isArray(e))for(let o=0;o<e.length;o++)Ys(e[o],t,n,r,i);else{const o=Be(),s=je();let a=So(e)?e:p(e.provide),c=Po(e);const l=He(),u=1048575&l.providerIndexes,h=l.directiveStart,d=l.providerIndexes>>20;if(So(e)||!e.multi){const r=new St(c,i,Wo),f=Xs(a,t,i?u:u+d,h);-1===f?(Bt(Ut(l,s),o,a),Qs(o,e,t.length),t.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(r),s.push(r)):(n[f]=r,s[f]=r)}else{const f=Xs(a,t,u+d,h),p=Xs(a,t,u,u+d),g=f>=0&&n[f],m=p>=0&&n[p];if(i&&!m||!i&&!g){Bt(Ut(l,s),o,a);const u=function(e,t,n,r,i){const o=new St(e,n,Wo);return o.multi=[],o.index=t,o.componentProviders=0,Js(o,i,r&&!n),o}(i?ta:ea,n.length,i,r,c);!i&&m&&(n[p].providerFactory=u),Qs(o,e,t.length,0),t.push(a),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=1048576),n.push(u),s.push(u)}else Qs(o,e,f>-1?f:p,Js(n[i?p:f],c,!i&&r));!i&&r&&m&&n[p].componentProviders++}}}function Qs(e,t,n,r){const i=So(t);if(i||t.useClass){const o=(t.useClass||t).prototype.ngOnDestroy;if(o){const s=e.destroyHooks||(e.destroyHooks=[]);if(!i&&t.multi){const e=s.indexOf(n);-1===e?s.push(n,[r,o]):s[e+1].push(r,o)}else s.push(n,o)}}}function Js(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Xs(e,t,n,r){for(let i=n;i<r;i++)if(t[i]===e)return i;return-1}function ea(e,t,n,r){return na(this.multi,[])}function ta(e,t,n,r){const i=this.multi;let o;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=Qt(n,n[1],this.providerFactory.index,r);o=t.slice(0,e),na(i,o);for(let n=e;n<t.length;n++)o.push(t[n])}else o=[],na(i,o);return o}function na(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function ra(e,t=[]){return n=>{n.providersResolver=(n,r)=>function(e,t,n){const r=Be();if(r.firstCreatePass){const i=ge(e);Ys(n,r.data,r.blueprint,i,!0),Ys(t,r.data,r.blueprint,i,!1)}}(n,r?r(e):e,t)}}class ia{}class oa{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${u(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}class sa{}function aa(...e){}function ca(e,t){return new ua(xe(e,t))}sa.NULL=new oa;const la=function(){return ca(He(),je())};let ua=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=la,e})();function ha(e){return e instanceof ua?e.nativeElement:e}class da{}let fa=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>pa(),e})();const pa=function(){const e=je(),t=Ne(He().index,e);return function(e){return e[11]}(ue(t)?t:e)};let ga=(()=>{class e{}return e.\u0275prov=v({token:e,providedIn:"root",factory:()=>null}),e})();class ma{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const _a=new ma("12.1.5");class ya{constructor(){}supports(e){return Uo(e)}create(e){return new va(e)}}const ba=(e,t)=>t;class va{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||ba}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,r=0,i=null;for(;t||n;){const o=!n||t&&t.currentIndex<Pa(n,r,i)?t:n,s=Pa(o,r,i),a=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)r++;else{i||(i=[]);const e=s-r,t=a-r;if(e!=t){for(let n=0;n<e;n++){const r=n<i.length?i[n]:i[n]=0,o=r+n;t<=o&&o<e&&(i[n]=r+1)}i[o.previousIndex]=t-e}}s!==a&&e(o,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!Uo(e))throw new Error(`Error trying to diff '${u(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,r,i=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],r=this._trackByFn(t,n),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,n,r,t)),Object.is(i.item,n)||this._addIdentityChange(i,n)):(i=this._mismatch(i,n,r,t),o=!0),i=i._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[Lo()]();let r;for(;!(r=n.next()).done;)t(r.value)}}(e,e=>{r=this._trackByFn(t,e),null!==i&&Object.is(i.trackById,r)?(o&&(i=this._verifyReinsertion(i,e,r,t)),Object.is(i.item,e)||this._addIdentityChange(i,e)):(i=this._mismatch(i,e,r,t),o=!0),i=i._next,t++}),this.length=t;return this._truncate(i),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,r){let i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):e=this._addAfter(new wa(t,n),i,r),e}_verifyReinsertion(e,t,n,r){let i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Oa),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Oa),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class wa{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ca{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Oa{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Ca,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Pa(e,t,n){const r=e.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+t+i}class Ta{constructor(){}supports(e){return e instanceof Map||Vo(e)}create(){return new Ma}}class Ma{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||Vo(e)))throw new Error(`Error trying to diff '${u(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const r=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,r)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}const n=new Sa(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class Sa{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ia(){return new ka([new ya])}let ka=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||Ia()),deps:[[e,new xn,new En]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=v({token:e,providedIn:"root",factory:Ia}),e})();function Ea(){return new xa([new Ta])}let xa=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>e.create(t,n||Ea()),deps:[[e,new xn,new En]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=v({token:e,providedIn:"root",factory:Ea}),e})();function Aa(e,t,n,r,i=!1){for(;null!==n;){const o=t[n.index];if(null!==o&&r.push(ke(o)),he(o))for(let e=le;e<o.length;e++){const t=o[e],n=t[1].firstChild;null!==n&&Aa(t[1],t,n,r)}const s=n.type;if(8&s)Aa(e,t,n.child,r);else if(32&s){const e=Ar(n,t);let i;for(;i=e();)r.push(i)}else if(16&s){const e=Jr(t,n);if(Array.isArray(e))r.push(...e);else{const n=Dr(t[16]);Aa(n[1],n,e,r,!0)}}n=i?n.projectionNext:n.next}return r}class Da{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const e=this._lView,t=e[1];return Aa(t,e,t.firstChild,[])}get context(){return this._lView[8]}set context(e){this._lView[8]=e}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[3];if(he(e)){const t=e[8],n=t?t.indexOf(this):-1;n>-1&&(Vr(e,n),fn(t,n))}this._attachedToViewContainer=!1}Zr(this._lView[1],this._lView)}onDestroy(e){Ui(this._lView[1],this._lView,null,e)}markForCheck(){ro(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){io(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){Qe(!0);try{io(e,t,n)}finally{Qe(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._attachedToViewContainer=!0}detachFromAppRef(){var e;this._appRef=null,ti(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class Na extends Da{constructor(e){super(e),this._view=e}detectChanges(){oo(this._view)}checkNoChanges(){!function(e){Qe(!0);try{oo(e)}finally{Qe(!1)}}(this._view)}get context(){return null}}const Ra=function(e){return function(e,t,n){if(fe(e)&&!n){const n=Ne(e.index,t);return new Da(n,n)}return 47&e.type?new Da(t[16],t):null}(He(),je(),16==(16&e))};let Fa=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ra,e})();const La=[new Ta],qa=new ka([new ya]),Ua=new xa(La),Va=function(){return za(He(),je())};let Za=(()=>{class e{}return e.__NG_ELEMENT_ID__=Va,e})();const ja=Za,Ba=class extends ja{constructor(e,t,n){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=Si(this._declarationLView,t,e,16,null,t.declTNode,null,null,null,null);n[17]=this._declarationLView[this._declarationTContainer.index];const r=this._declarationLView[19];return null!==r&&(n[19]=r.createEmbeddedView(t)),Ei(t,n,e),new Da(n)}};function za(e,t){return 4&e.type?new Ba(t,e,ca(e,t)):null}class Ha{}class $a{}const Ga=function(){return Xa(He(),je())};let Wa=(()=>{class e{}return e.__NG_ELEMENT_ID__=Ga,e})();const Ka=Wa,Ya=class extends Ka{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=n}get element(){return ca(this._hostTNode,this._hostLView)}get injector(){return new en(this._hostTNode,this._hostLView)}get parentInjector(){const e=jt(this._hostTNode,this._hostLView);if(Dt(e)){const t=Rt(e,this._hostLView),n=Nt(e);return new en(t[1].data[n+8],t)}return new en(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=Qa(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-le}createEmbeddedView(e,t,n){const r=e.createEmbeddedView(t||{});return this.insert(r,n),r}createComponent(e,t,n,r,i){const o=n||this.parentInjector;if(!i&&null==e.ngModule&&o){const e=o.get(Ha,null);e&&(i=e)}const s=e.create(o,r,void 0,i);return this.insert(s.hostView,t),s}insert(e,t){const n=e._lView,r=n[1];if(he(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],r=new Ya(t,t[6],t[3]);r.detach(r.indexOf(e))}}const i=this._adjustIndex(t),o=this._lContainer;!function(e,t,n,r){const i=le+r,o=n.length;r>0&&(n[i-1][4]=t),r<o-le?(t[4]=n[i],dn(n,le+r,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(r,n,o,i);const s=Xr(i,o),a=n[11],c=Gr(a,o[7]);return null!==c&&function(e,t,n,r,i,o){r[0]=i,r[6]=t,ti(e,r,n,1,i,o)}(r,o[6],a,n,c,s),e.attachToViewContainerRef(),dn(Ja(o),i,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=Qa(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),n=Vr(this._lContainer,t);n&&(fn(Ja(this._lContainer),t),Zr(n[1],n))}detach(e){const t=this._adjustIndex(e,-1),n=Vr(this._lContainer,t);return n&&null!=fn(Ja(this._lContainer),t)?new Da(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}};function Qa(e){return e[8]}function Ja(e){return e[8]||(e[8]=[])}function Xa(e,t){let n;const r=t[e.index];if(he(r))n=r;else{let i;if(8&e.type)i=ke(r);else{const n=t[11];i=n.createComment("");const r=xe(e,t);zr(n,Gr(n,r),i,function(e,t){return Se(e)?e.nextSibling(t):t.nextSibling}(n,r),!1)}t[e.index]=n=Ji(r,t,i,e),no(t,n)}return new Ya(n,e,t)}const ec={};class tc extends sa{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=se(e);return new ic(t,this.ngModule)}}function nc(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const rc=new an("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Ir});class ic extends ia{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(mi).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return nc(this.componentDef.inputs)}get outputs(){return nc(this.componentDef.outputs)}create(e,t,n,r){const i=(r=r||this.ngModule)?function(e,t){return{get:(n,r,i)=>{const o=e.get(n,ec,i);return o!==ec||r===ec?o:t.get(n,r,i)}}}(e,r.injector):e,o=i.get(da,Ie),s=i.get(ga,null),a=o.createRenderer(null,this.componentDef),c=this.componentDef.selectors[0][0]||"div",l=n?function(e,t,n){if(Se(e))return e.selectRootElement(t,n===R.ShadowDom);let r="string"==typeof t?e.querySelector(t):t;return r.textContent="",r}(a,n,this.componentDef.encapsulation):qr(o.createRenderer(null,this.componentDef),c,function(e){const t=e.toLowerCase();return"svg"===t?Oe:"math"===t?"http://www.w3.org/1998/MathML/":null}(c)),u=this.componentDef.onPush?576:528,h={components:[],scheduler:Ir,clean:ao,playerHandler:null,flags:0},d=qi(0,null,null,1,0,null,null,null,null,null),f=Si(null,d,h,u,null,null,o,a,s,i);let p,g;lt(f);try{const e=function(e,t,n,r,i,o){const s=n[1];n[20]=e;const a=Ii(s,20,2,"#host",null),c=a.mergedAttrs=t.hostAttrs;null!==c&&(fo(a,c,!0),null!==e&&(It(i,e,c),null!==a.classes&&ii(i,e,a.classes),null!==a.styles&&ri(i,e,a.styles)));const l=r.createRenderer(e,t),u=Si(n,Li(t),null,t.onPush?64:16,n[20],a,r,l,null,null);return s.firstCreatePass&&(Bt(Ut(a,n),s,t.type),Hi(s,a),Gi(a,n.length,1)),no(n,u),n[20]=u}(l,this.componentDef,f,o,a);if(l)if(n)It(a,l,["ng-version",_a.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let r=1,i=2;for(;r<e.length;){let o=e[r];if("string"==typeof o)2===i?""!==o&&t.push(o,e[++r]):8===i&&n.push(o);else{if(!hi(i))break;i=o}r++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&It(a,l,e),t&&t.length>0&&ii(a,l,t.join(" "))}if(g=Ae(d,ce),void 0!==t){const e=g.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const r=t[n];e.push(null!=r?Array.from(r):null)}}p=function(e,t,n,r,i){const o=n[1],s=function(e,t,n){const r=He();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Wi(e,r,t,ki(e,t,1,null),n));const i=Qt(t,e,r.directiveStart,r);Or(i,t);const o=xe(r,t);return o&&Or(o,t),i}(o,n,t);if(r.components.push(s),e[8]=s,i&&i.forEach(e=>e(s,t)),t.contentQueries){const e=He();t.contentQueries(1,s,e.directiveStart)}const a=He();return!o.firstCreatePass||null===t.hostBindings&&null===t.hostAttrs||(mt(a.index),Bi(n[1],a,0,a.directiveStart,a.directiveEnd,t),zi(t,s)),s}(e,this.componentDef,f,h,[Eo]),Ei(d,f,null)}finally{pt()}return new oc(this.componentType,p,ca(g,f),f,g)}}class oc extends class{}{constructor(e,t,n,r,i){super(),this.location=n,this._rootLView=r,this._tNode=i,this.instance=t,this.hostView=this.changeDetectorRef=new Na(r),this.componentType=e}get injector(){return new en(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}const sc=new Map;class ac extends Ha{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new tc(this);const n=ae(e),r=e[G]||null;r&&Ks(r),this._bootstrapComponents=Er(n.bootstrap),this._r3Injector=wo(e,t,[{provide:Ha,useValue:this},{provide:sa,useValue:this.componentFactoryResolver}],u(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=ko.THROW_IF_NOT_FOUND,n=k.Default){return e===ko||e===Ha||e===po?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class cc extends $a{constructor(e){super(),this.moduleType=e,null!==ae(e)&&function(e){const t=new Set;!function e(n){const r=ae(n,!0),i=r.id;null!==i&&(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${u(t)} vs ${u(t.name)}`)}(i,sc.get(i),n),sc.set(i,n));const o=Er(r.imports);for(const s of o)t.has(s)||(t.add(s),e(s))}(e)}(e)}create(e){return new ac(this.moduleType,e)}}function lc(e,t,n,r){return dc(je(),Je(),e,t,n,r)}function uc(e,t,n,r,i){return function(e,t,n,r,i,o,s){const a=t+n;return Bo(e,a,i,o)?Zo(e,a+2,s?r.call(s,i,o):r(i,o)):hc(e,a+2)}(je(),Je(),e,t,n,r,i)}function hc(e,t){const n=e[t];return n===_i?void 0:n}function dc(e,t,n,r,i,o){const s=t+n;return jo(e,s,i)?Zo(e,s+1,o?r.call(o,i):r(i)):hc(e,s+1)}function fc(e,t){const n=Be();let r;const i=e+ce;n.firstCreatePass?(r=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const r=t[n];if(e===r.name)return r}throw new m("302",`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(i,r.onDestroy)):r=n.data[i];const o=r.factory||(r.factory=me(r.type)),s=x(Wo);try{const e=Lt(!1),t=o();return Lt(e),function(e,t,n,r){n>=e.data.length&&(e.data[n]=null,e.blueprint[n]=null),t[n]=r}(n,je(),i,t),t}finally{x(s)}}function pc(e,t,n){const r=e+ce,i=je(),o=De(i,r);return function(e,t){return qo.isWrapped(t)&&(t=qo.unwrap(t),e[Xe()]=_i),t}(i,function(e,t){return e[1].data[t].pure}(i,r)?dc(i,Je(),t,o.transform,n,o):o.transform(n))}function gc(e){return t=>{setTimeout(e,void 0,t)}}const mc=class extends r.xQ{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){var r,o,s;let a=e,c=t||(()=>null),l=n;if(e&&"object"==typeof e){const t=e;a=null===(r=t.next)||void 0===r?void 0:r.bind(t),c=null===(o=t.error)||void 0===o?void 0:o.bind(t),l=null===(s=t.complete)||void 0===s?void 0:s.bind(t)}this.__isAsync&&(c=gc(c),a&&(a=gc(a)),l&&(l=gc(l)));const u=super.subscribe({next:a,error:c,complete:l});return e instanceof i.w&&e.add(u),u}};function _c(){return this._results[Lo()]()}class yc{constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Lo(),n=yc.prototype;n[t]||(n[t]=_c)}get changes(){return this._changes||(this._changes=new mc)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const n=this;n.dirty=!1;const r=un(e);(this._changesDetected=!function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++){let i=e[r],o=t[r];if(n&&(i=n(i),o=n(o)),o!==i)return!1}return!0}(n._results,r,t))&&(n._results=r,n.length=r.length,n.last=r[this.length-1],n.first=r[0])}notifyOnChanges(){!this._changes||!this._changesDetected&&this._emitDistinctChangesOnly||this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;class bc{constructor(e){this.queryList=e,this.matches=null}clone(){return new bc(this.queryList)}setDirty(){this.queryList.setDirty()}}class vc{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,r=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);r.push(this.queries[n.indexInDeclarationView].clone())}return new vc(r)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Nc(e,t).matches&&this.queries[t].setDirty()}}class wc{constructor(e,t,n=null){this.predicate=e,this.flags=t,this.read=n}}class Cc{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const r=null!==t?t.length:0,i=this.getByIndex(n).embeddedTView(e,r);i&&(i.indexInDeclarationView=n,null!==t?t.push(i):t=[i])}return null!==t?new Cc(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Oc{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Oc(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&8&n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const i=n[r];this.matchTNodeWithReadOption(e,t,Pc(t,i)),this.matchTNodeWithReadOption(e,t,Yt(t,e,i,!1,!1))}else n===Za?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,Yt(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ua||r===Wa||r===Za&&4&t.type)this.addMatch(t.index,-2);else{const n=Yt(t,e,r,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Pc(e,t){const n=e.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===t)return n[r+1];return null}function Tc(e,t,n,r){return-1===n?function(e,t){return 11&e.type?ca(e,t):4&e.type?za(e,t):null}(t,e):-2===n?function(e,t,n){return n===ua?ca(t,e):n===Za?za(t,e):n===Wa?Xa(t,e):void 0}(e,t,r):Qt(e,e[1],n,t)}function Mc(e,t,n,r){const i=t[19].queries[r];if(null===i.matches){const r=e.data,o=n.matches,s=[];for(let e=0;e<o.length;e+=2){const i=o[e];s.push(i<0?null:Tc(t,r[i],o[e+1],n.metadata.read))}i.matches=s}return i.matches}function Sc(e,t,n,r){const i=e.queries.getByIndex(n),o=i.matches;if(null!==o){const s=Mc(e,t,i,n);for(let e=0;e<o.length;e+=2){const n=o[e];if(n>0)r.push(s[e/2]);else{const i=o[e+1],s=t[-n];for(let e=le;e<s.length;e++){const t=s[e];t[17]===t[3]&&Sc(t[1],t,i,r)}if(null!==s[9]){const e=s[9];for(let t=0;t<e.length;t++){const n=e[t];Sc(n[1],n,i,r)}}}}}return r}function Ic(e){const t=je(),n=Be(),r=ot();st(r+1);const i=Nc(n,r);if(e.dirty&&Re(t)===(2==(2&i.metadata.flags))){if(null===i.matches)e.reset([]);else{const o=i.crossesNgTemplate?Sc(n,t,r,[]):Mc(n,t,i,r);e.reset(o,ha),e.notifyOnChanges()}return!0}return!1}function kc(e,t,n){const r=Be();r.firstCreatePass&&(Dc(r,new wc(e,t,n),-1),2==(2&t)&&(r.staticViewQueries=!0)),Ac(r,je(),t)}function Ec(e,t,n,r){const i=Be();if(i.firstCreatePass){const o=He();Dc(i,new wc(t,n,r),o.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(n.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(i,e),2==(2&n)&&(i.staticContentQueries=!0)}Ac(i,je(),n)}function xc(){return e=je(),t=ot(),e[19].queries[t].queryList;var e,t}function Ac(e,t,n){const r=new yc(4==(4&n));Ui(e,t,r,r.destroy),null===t[19]&&(t[19]=new vc),t[19].queries.push(new bc(r))}function Dc(e,t,n){null===e.queries&&(e.queries=new Cc),e.queries.track(new Oc(t,n))}function Nc(e,t){return e.queries.getByIndex(t)}const Rc=new an("Application Initializer");let Fc=(()=>{class e{constructor(e){this.appInits=e,this.resolve=aa,this.reject=aa,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();if(rs(t))e.push(t);else if(os(t)){const n=new Promise((e,n)=>{t.subscribe({complete:e,error:n})});e.push(n)}}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Tn(Rc,8))},e.\u0275prov=v({token:e,factory:e.\u0275fac}),e})();const Lc=new an("AppId"),qc={provide:Lc,useFactory:function(){return`${Uc()}${Uc()}${Uc()}`},deps:[]};function Uc(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Vc=new an("Platform Initializer"),Zc=new an("Platform ID"),jc=new an("appBootstrapListener");let Bc=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=v({token:e,factory:e.\u0275fac}),e})();const zc=new an("LocaleId"),Hc=new an("DefaultCurrencyCode");class $c{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const Gc=function(e){return new cc(e)},Wc=Gc,Kc=function(e){return Promise.resolve(Gc(e))},Yc=function(e){const t=Gc(e),n=Er(ae(e).declarations).reduce((e,t)=>{const n=se(t);return n&&e.push(new ic(n)),e},[]);return new $c(t,n)},Qc=Yc,Jc=function(e){return Promise.resolve(Yc(e))};let Xc=(()=>{class e{constructor(){this.compileModuleSync=Wc,this.compileModuleAsync=Kc,this.compileModuleAndAllComponentsSync=Qc,this.compileModuleAndAllComponentsAsync=Jc}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=v({token:e,factory:e.\u0275fac}),e})();const el=(()=>Promise.resolve(0))();function tl(e){"undefined"==typeof Zone?el.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class nl{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new mc(!1),this.onMicrotaskEmpty=new mc(!1),this.onStable=new mc(!1),this.onError=new mc(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&t,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function(){let e=V.requestAnimationFrame,t=V.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const r=t[Zone.__symbol__("OriginalDelegate")];r&&(t=r)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=()=>{!function(e){e.isCheckStableRunning||-1!==e.lastRequestAnimationFrameId||(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(V,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,ol(e),e.isCheckStableRunning=!0,il(e),e.isCheckStableRunning=!1},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),ol(e))}(e)};e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,o,s,a)=>{try{return sl(e),n.invokeTask(i,o,s,a)}finally{(e.shouldCoalesceEventChangeDetection&&"eventTask"===o.type||e.shouldCoalesceRunChangeDetection)&&t(),al(e)}},onInvoke:(n,r,i,o,s,a,c)=>{try{return sl(e),n.invoke(i,o,s,a,c)}finally{e.shouldCoalesceRunChangeDetection&&t(),al(e)}},onHasTask:(t,n,r,i)=>{t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,ol(e),il(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:(t,n,r,i)=>(t.handleError(r,i),e.runOutsideAngular(()=>e.onError.emit(i)),!1)})}(r)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!nl.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(nl.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,r){const i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,e,rl,aa,aa);try{return i.runTask(o,t,n)}finally{i.cancelTask(o)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}const rl={};function il(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function ol(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&-1!==e.lastRequestAnimationFrameId)}function sl(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function al(e){e._nesting--,il(e)}class cl{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new mc,this.onMicrotaskEmpty=new mc,this.onStable=new mc,this.onError=new mc}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,r){return e.apply(t,n)}}let ll=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{nl.assertNotInAngularZone(),tl(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())tl(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let r=-1;t&&t>0&&(r=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==r),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:r,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(Tn(nl))},e.\u0275prov=v({token:e,factory:e.\u0275fac}),e})(),ul=(()=>{class e{constructor(){this._applications=new Map,pl.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return pl.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=v({token:e,factory:e.\u0275fac}),e})();class hl{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}function dl(e){pl=e}let fl,pl=new hl,gl=!0,ml=!1;function _l(){return ml=!0,gl}function yl(){if(ml)throw new Error("Cannot enable prod mode after platform setup.");gl=!1}const bl=new an("AllowMultipleToken");class vl{constructor(e,t){this.name=e,this.token=t}}function wl(e,t,n=[]){const r=`Platform: ${t}`,i=new an(r);return(t=[])=>{let o=Cl();if(!o||o.injector.get(bl,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{const e=n.concat(t).concat({provide:i,useValue:!0},{provide:mo,useValue:"platform"});!function(e){if(fl&&!fl.destroyed&&!fl.injector.get(bl,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");fl=e.get(Ol);const t=e.get(Vc,null);t&&t.forEach(e=>e())}(ko.create({providers:e,name:r}))}return function(e){const t=Cl();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Cl(){return fl&&!fl.destroyed?fl:null}let Ol=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new cl:("zone.js"===e?void 0:e)||new nl({enableLongStackTrace:_l(),shouldCoalesceEventChangeDetection:!!(null==t?void 0:t.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==t?void 0:t.ngZoneRunCoalescing)}),n}(t?t.ngZone:void 0,{ngZoneEventCoalescing:t&&t.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:t&&t.ngZoneRunCoalescing||!1}),r=[{provide:nl,useValue:n}];return n.run(()=>{const t=ko.create({providers:r,parent:this.injector,name:e.moduleType.name}),i=e.create(t),o=i.injector.get(Sr,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.runOutsideAngular(()=>{const e=n.onError.subscribe({next:e=>{o.handleError(e)}});i.onDestroy(()=>{Ml(this._modules,i),e.unsubscribe()})}),function(e,t,n){try{const r=n();return rs(r)?r.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):r}catch(r){throw t.runOutsideAngular(()=>e.handleError(r)),r}}(o,n,()=>{const e=i.injector.get(Fc);return e.runInitializers(),e.donePromise.then(()=>(Ks(i.injector.get(zc,Gs)||Gs),this._moduleDoBootstrap(i),i))})})}bootstrapModule(e,t=[]){const n=Pl({},t);return function(e,t,n){const r=new cc(n);return Promise.resolve(r)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Tl);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${u(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Tn(ko))},e.\u0275prov=v({token:e,factory:e.\u0275fac}),e})();function Pl(e,t){return Array.isArray(t)?t.reduce(Pl,e):Object.assign(Object.assign({},e),t)}let Tl=(()=>{class e{constructor(e,t,n,r,i){this._zone=e,this._injector=t,this._exceptionHandler=n,this._componentFactoryResolver=r,this._initStatus=i,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const c=new o.y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),l=new o.y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{nl.assertNotInAngularZone(),tl(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{nl.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=(0,s.T)(c,l.pipe((0,a.B)()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof ia?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const r=n.isBoundToModule?void 0:this._injector.get(Ha),i=n.create(ko.NULL,[],t||n.selector,r),o=i.location.nativeElement,s=i.injector.get(ll,null),a=s&&i.injector.get(ul);return s&&a&&a.registerApplication(o,s),i.onDestroy(()=>{this.detachView(i.hostView),Ml(this.components,i),a&&a.unregisterApplication(o)}),this._loadComponent(i),i}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Ml(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(jc,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(Tn(nl),Tn(ko),Tn(Sr),Tn(sa),Tn(Fc))},e.\u0275prov=v({token:e,factory:e.\u0275fac}),e})();function Ml(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Sl{}class Il{}const kl={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let El=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||kl}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,r]=e.split("#");return void 0===r&&(r="default"),n(8255)(t).then(e=>e[r]).then(e=>xl(e,t,r)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,r]=e.split("#"),i="NgFactory";return void 0===r&&(r="default",i=""),n(8255)(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[r+i]).then(e=>xl(e,t,r))}}return e.\u0275fac=function(t){return new(t||e)(Tn(Xc),Tn(Il,8))},e.\u0275prov=v({token:e,factory:e.\u0275fac}),e})();function xl(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const Al=function(e){return null},Dl=wl(null,"core",[{provide:Zc,useValue:"unknown"},{provide:Ol,deps:[ko]},{provide:ul,deps:[]},{provide:Bc,deps:[]}]),Nl=[{provide:Tl,useClass:Tl,deps:[nl,ko,Sr,sa,Fc]},{provide:rc,deps:[nl],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Fc,useClass:Fc,deps:[[new En,Rc]]},{provide:Xc,useClass:Xc,deps:[]},qc,{provide:ka,useFactory:function(){return qa},deps:[]},{provide:xa,useFactory:function(){return Ua},deps:[]},{provide:zc,useFactory:function(e){return Ks(e=e||"undefined"!=typeof $localize&&$localize.locale||Gs),e},deps:[[new kn(zc),new En,new xn]]},{provide:Hc,useValue:"USD"}];let Rl=(()=>{class e{constructor(e){}}return e.\u0275fac=function(t){return new(t||e)(Tn(Tl))},e.\u0275mod=te({type:e}),e.\u0275inj=w({providers:Nl}),e})()},8939:(e,t,n)=>{"use strict";n.d(t,{hO:()=>g,xv:()=>h,Dh:()=>u,GT:()=>c,cc:()=>m,on:()=>d,pX:()=>a});var r=n(7716),i=n(7841),o=n(4459);e=n.hmd(e);const s=["ngOnDestroy"],a=(e,t,n,r={})=>new Proxy(e,{get:(i,o)=>n.runOutsideAngular(()=>{var i;if(e[o])return(null===(i=null==r?void 0:r.spy)||void 0===i?void 0:i.get)&&r.spy.get(o,e[o]),e[o];if(s.indexOf(o)>-1)return()=>{};const a=t.toPromise().then(e=>{const t=e&&e[o];return"function"==typeof t?t.bind(e):t&&t.then?t.then(e=>n.run(()=>e)):n.run(()=>t)});return new Proxy(()=>{},{get:(e,t)=>a[t],apply:(e,t,n)=>a.then(e=>{var t;const i=e&&e(...n);return(null===(t=null==r?void 0:r.spy)||void 0===t?void 0:t.apply)&&r.spy.apply(o,n,i),i})})})}),c=(e,t)=>{t.forEach(t=>{Object.getOwnPropertyNames(t.prototype||t).forEach(n=>{Object.defineProperty(e.prototype,n,Object.getOwnPropertyDescriptor(t.prototype||t,n))})})};class l{constructor(e){return e}}const u=new r.OlP("angularfire2.app.options"),h=new r.OlP("angularfire2.app.name");function d(t,n,r){const o="object"==typeof r&&r||{};o.name=o.name||"string"==typeof r&&r||"[DEFAULT]";const s=i.Z.apps.filter(e=>e&&e.name===o.name)[0]||n.runOutsideAngular(()=>i.Z.initializeApp(t,o));try{JSON.stringify(t)!==JSON.stringify(s.options)&&f("error",`${s.name} Firebase App already initialized with different options${e.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(a){}return new l(s)}const f=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)},p={provide:l,useFactory:d,deps:[u,r.R0b,[new r.FiY,h]]};let g=(()=>{class e{constructor(e){i.Z.registerVersion("angularfire",o.q4.full,"core"),i.Z.registerVersion("angularfire",o.q4.full,"app-compat"),i.Z.registerVersion("angular",r.q4F.full,e.toString())}static initializeApp(t,n){return{ngModule:e,providers:[{provide:u,useValue:t},{provide:h,useValue:n}]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[p]}),e})();function m(e,t,n,r,i){const[,o,s]=globalThis.\u0275AngularfireInstanceCache.find(t=>t[0]===e)||[];if(o)return function(e,t){try{return e.toString()===t.toString()}catch(n){return e===t}}(i,s)||(y("error",`${t} was already initialized on the ${n} Firebase App with different settings.${_?" You may need to reload as Firebase is not HMR aware.":""}`),y("warn",{is:i,was:s})),o;{const t=r();return globalThis.\u0275AngularfireInstanceCache.push([e,t,i]),t}}const _=!!e.hot,y=(e,...t)=>{(0,r.X6Q)()&&"undefined"!=typeof console&&console[e](...t)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4459:(e,t,n)=>{"use strict";n.d(t,{q4:()=>Dn,iC:()=>Wn,fc:()=>Gn,HU:()=>Hn,vb:()=>Zn,JM:()=>Vn});var r=n(7716),i=n(2329),o=n(6304),s=n(279),a=n(3854),c=n(8604),l=n(9306),u=n(6508);const h="@firebase/installations",d="0.5.10",f="w:0.5.10",p="FIS_v2",g=new a.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function m(e){return e instanceof a.ZR&&e.code.includes("request-failed")}function _({projectId:e}){return`https://firebaseinstallations.googleapis.com/v1/projects/${e}/installations`}function y(e){return{token:e.token,requestStatus:2,expiresIn:(t=e.expiresIn,Number(t.replace("s","000"))),creationTime:Date.now()};var t}function b(e,t){return v.apply(this,arguments)}function v(){return(v=(0,o.Z)(function*(e,t){const n=(yield t.json()).error;return g.create("request-failed",{requestName:e,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})})).apply(this,arguments)}function w({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function C(e,{refreshToken:t}){const n=w(e);return n.append("Authorization",function(e){return`FIS_v2 ${e}`}(t)),n}function O(e){return P.apply(this,arguments)}function P(){return(P=(0,o.Z)(function*(e){const t=yield e();return t.status>=500&&t.status<600?e():t})).apply(this,arguments)}function T(e,t){return M.apply(this,arguments)}function M(){return(M=(0,o.Z)(function*({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=_(e),i=w(e),o=t.getImmediate({optional:!0});if(o){const e=yield o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:p,appId:e.appId,sdkVersion:f})},a=yield O(()=>fetch(r,s));if(a.ok){const e=yield a.json();return{fid:e.fid||n,registrationStatus:2,refreshToken:e.refreshToken,authToken:y(e.authToken)}}throw yield b("Create Installation",a)})).apply(this,arguments)}function S(e){return new Promise(t=>{setTimeout(t,e)})}const I=/^[cdef][\w-]{21}$/;function k(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const t=function(e){return(t=e,btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var t}(e);return I.test(t)?t:""}catch(e){return""}}function E(e){return`${e.appName}!${e.appId}`}const x=new Map;function A(e,t){const n=E(e);D(n,t),function(e,t){const n=(!N&&"BroadcastChannel"in self&&(N=new BroadcastChannel("[Firebase] FID Change"),N.onmessage=e=>{D(e.data.key,e.data.fid)}),N);n&&n.postMessage({key:e,fid:t}),0===x.size&&N&&(N.close(),N=null)}(n,t)}function D(e,t){const n=x.get(e);if(n)for(const r of n)r(t)}let N=null;const R="firebase-installations-store";let F=null;function L(){return F||(F=(0,u.X3)("firebase-installations-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(R)}}})),F}function q(e,t){return U.apply(this,arguments)}function U(){return(U=(0,o.Z)(function*(e,t){const n=E(e),r=(yield L()).transaction(R,"readwrite"),i=r.objectStore(R),o=yield i.get(n);return yield i.put(t,n),yield r.done,o&&o.fid===t.fid||A(e,t.fid),t})).apply(this,arguments)}function V(e){return Z.apply(this,arguments)}function Z(){return(Z=(0,o.Z)(function*(e){const t=E(e),n=(yield L()).transaction(R,"readwrite");yield n.objectStore(R).delete(t),yield n.done})).apply(this,arguments)}function j(e,t){return B.apply(this,arguments)}function B(){return(B=(0,o.Z)(function*(e,t){const n=E(e),r=(yield L()).transaction(R,"readwrite"),i=r.objectStore(R),o=yield i.get(n),s=t(o);return void 0===s?yield i.delete(n):yield i.put(s,n),yield r.done,!s||o&&o.fid===s.fid||A(e,s.fid),s})).apply(this,arguments)}function z(e){return H.apply(this,arguments)}function H(){return(H=(0,o.Z)(function*(e){let t;const n=yield j(e.appConfig,n=>{const r=$(n),i=G(e,r);return t=i.registrationPromise,i.installationEntry});return""===n.fid?{installationEntry:yield t}:{installationEntry:n,registrationPromise:t}})).apply(this,arguments)}function $(e){return J(e||{fid:k(),registrationStatus:0})}function G(e,t){if(0===t.registrationStatus){if(!navigator.onLine)return{installationEntry:t,registrationPromise:Promise.reject(g.create("app-offline"))};const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()};return{installationEntry:n,registrationPromise:function(e,t){return W.apply(this,arguments)}(e,n)}}return 1===t.registrationStatus?{installationEntry:t,registrationPromise:K(e)}:{installationEntry:t}}function W(){return(W=(0,o.Z)(function*(e,t){try{const n=yield T(e,t);return q(e.appConfig,n)}catch(n){throw m(n)&&409===n.customData.serverCode?yield V(e.appConfig):yield q(e.appConfig,{fid:t.fid,registrationStatus:0}),n}})).apply(this,arguments)}function K(e){return Y.apply(this,arguments)}function Y(){return(Y=(0,o.Z)(function*(e){let t=yield Q(e.appConfig);for(;1===t.registrationStatus;)yield S(100),t=yield Q(e.appConfig);if(0===t.registrationStatus){const{installationEntry:t,registrationPromise:n}=yield z(e);return n||t}return t})).apply(this,arguments)}function Q(e){return j(e,e=>{if(!e)throw g.create("installation-not-found");return J(e)})}function J(e){return 1===(t=e).registrationStatus&&t.registrationTime+1e4<Date.now()?{fid:e.fid,registrationStatus:0}:e;var t}function X(e,t){return ee.apply(this,arguments)}function ee(){return(ee=(0,o.Z)(function*({appConfig:e,heartbeatServiceProvider:t},n){const r=te(e,n),i=C(e,n),o=t.getImmediate({optional:!0});if(o){const e=yield o.getHeartbeatsHeader();e&&i.append("x-firebase-client",e)}const s={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:f,appId:e.appId}})},a=yield O(()=>fetch(r,s));if(a.ok)return y(yield a.json());throw yield b("Generate Auth Token",a)})).apply(this,arguments)}function te(e,{fid:t}){return`${_(e)}/${t}/authTokens:generate`}function ne(e){return re.apply(this,arguments)}function re(){return(re=(0,o.Z)(function*(e,t=!1){let n;const r=yield j(e.appConfig,r=>{if(!le(r))throw g.create("not-registered");const i=r.authToken;if(!t&&ue(i))return r;if(1===i.requestStatus)return n=ie(e,t),r;{if(!navigator.onLine)throw g.create("app-offline");const t=he(r);return n=ae(e,t),t}});return n?yield n:r.authToken})).apply(this,arguments)}function ie(e,t){return oe.apply(this,arguments)}function oe(){return(oe=(0,o.Z)(function*(e,t){let n=yield se(e.appConfig);for(;1===n.authToken.requestStatus;)yield S(100),n=yield se(e.appConfig);const r=n.authToken;return 0===r.requestStatus?ne(e,t):r})).apply(this,arguments)}function se(e){return j(e,e=>{if(!le(e))throw g.create("not-registered");return 1===(t=e.authToken).requestStatus&&t.requestTime+1e4<Date.now()?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e;var t})}function ae(e,t){return ce.apply(this,arguments)}function ce(){return(ce=(0,o.Z)(function*(e,t){try{const n=yield X(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return yield q(e.appConfig,r),n}catch(n){if(!m(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const n=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});yield q(e.appConfig,n)}else yield V(e.appConfig);throw n}})).apply(this,arguments)}function le(e){return void 0!==e&&2===e.registrationStatus}function ue(e){return 2===e.requestStatus&&!function(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+36e5}(e)}function he(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function de(){return(de=(0,o.Z)(function*(e){const t=e,{installationEntry:n,registrationPromise:r}=yield z(t);return r?r.catch(console.error):ne(t).catch(console.error),n.fid})).apply(this,arguments)}function fe(){return(fe=(0,o.Z)(function*(e,t=!1){const n=e;return yield pe(n),(yield ne(n,t)).token})).apply(this,arguments)}function pe(e){return ge.apply(this,arguments)}function ge(){return(ge=(0,o.Z)(function*(e){const{registrationPromise:t}=yield z(e);t&&(yield t)})).apply(this,arguments)}function me(e){return g.create("missing-app-config-values",{valueName:e})}const _e="installations";(0,s._registerComponent)(new c.wA(_e,e=>{const t=e.getProvider("app").getImmediate();return{app:t,appConfig:function(e){if(!e||!e.options)throw me("App Configuration");if(!e.name)throw me("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw me(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}(t),heartbeatServiceProvider:(0,s._getProvider)(t,"heartbeat"),_delete:()=>Promise.resolve()}},"PUBLIC")),(0,s._registerComponent)(new c.wA("installations-internal",e=>{const t=e.getProvider("app").getImmediate(),n=(0,s._getProvider)(t,_e).getImmediate();return{getId:()=>function(e){return de.apply(this,arguments)}(n),getToken:e=>function(e){return fe.apply(this,arguments)}(n,e)}},"PRIVATE")),(0,s.registerVersion)(h,d),(0,s.registerVersion)(h,d,"esm2017");const ye="@firebase/remote-config",be="0.3.9",ve=new a.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class we{constructor(e,t,n,r){this.client=e,this.storage=t,this.storageCache=n,this.logger=r}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const n=Date.now()-t,r=n<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${n}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${r}.`),r}fetch(e){var t=this;return(0,o.Z)(function*(){const[n,r]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(r&&t.isCachedDataFresh(e.cacheMaxAgeMillis,n))return r;e.eTag=r&&r.eTag;const i=yield t.client.fetch(e),o=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===i.status&&o.push(t.storage.setLastSuccessfulFetchResponse(i)),yield Promise.all(o),i})()}}function Ce(e=navigator){return e.languages&&e.languages[0]||e.language}class Oe{constructor(e,t,n,r,i,o){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}fetch(e){var t=this;return(0,o.Z)(function*(){var n,r,i;const[o,s]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),a=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,c={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},l={sdk_version:t.sdkVersion,app_instance_id:o,app_instance_id_token:s,app_id:t.appId,language_code:Ce()},u={method:"POST",headers:c,body:JSON.stringify(l)},h=fetch(a,u),d=new Promise((t,n)=>{e.signal.addEventListener(()=>{const e=new Error("The operation was aborted.");e.name="AbortError",n(e)})});let f;try{yield Promise.race([h,d]),f=yield h}catch(y){let e="fetch-client-network";throw"AbortError"===(null===(n=y)||void 0===n?void 0:n.name)&&(e="fetch-timeout"),ve.create(e,{originalErrorMessage:null===(r=y)||void 0===r?void 0:r.message})}let p=f.status;const g=f.headers.get("ETag")||void 0;let m,_;if(200===f.status){let e;try{e=yield f.json()}catch(y){throw ve.create("fetch-client-parse",{originalErrorMessage:null===(i=y)||void 0===i?void 0:i.message})}m=e.entries,_=e.state}if("INSTANCE_STATE_UNSPECIFIED"===_?p=500:"NO_CHANGE"===_?p=304:"NO_TEMPLATE"!==_&&"EMPTY_CONFIG"!==_||(m={}),304!==p&&200!==p)throw ve.create("fetch-status",{httpStatus:p});return{status:p,eTag:g,config:m}})()}}class Pe{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,o.Z)(function*(){const n=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,n)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:n}){var r=this;return(0,o.Z)(function*(){yield function(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(ve.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}(e.signal,t);try{const t=yield r.client.fetch(e);return yield r.storage.deleteThrottleMetadata(),t}catch(i){if(!function(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}(i))throw i;const t={throttleEndTimeMillis:Date.now()+(0,a.$s)(n),backoffCount:n+1};return yield r.storage.setThrottleMetadata(t),r.attemptFetch(e,t)}})()}}class Te{constructor(e,t,n,r,i){this.app=e,this._client=t,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Me(e,t){var n;const r=e.target.error||void 0;return ve.create(t,{originalErrorMessage:r&&(null===(n=r)||void 0===n?void 0:n.message)})}const Se="app_namespace_store";class Ie{constructor(e,t,n,r=function(){return new Promise((e,t)=>{var n;try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=e=>{t(Me(e,"storage-open"))},n.onsuccess=t=>{e(t.target.result)},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(Se,{keyPath:"compositeKey"})}}}catch(r){t(ve.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}})}()){this.appId=e,this.appName=t,this.namespace=n,this.openDbPromise=r}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,o.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{var o;const s=n.transaction([Se],"readonly").objectStore(Se),a=t.createCompositeKey(e);try{const e=s.get(a);e.onerror=e=>{i(Me(e,"storage-get"))},e.onsuccess=e=>{const t=e.target.result;r(t?t.value:void 0)}}catch(c){i(ve.create("storage-get",{originalErrorMessage:null===(o=c)||void 0===o?void 0:o.message}))}})})()}set(e,t){var n=this;return(0,o.Z)(function*(){const r=yield n.openDbPromise;return new Promise((i,o)=>{var s;const a=r.transaction([Se],"readwrite").objectStore(Se),c=n.createCompositeKey(e);try{const e=a.put({compositeKey:c,value:t});e.onerror=e=>{o(Me(e,"storage-set"))},e.onsuccess=()=>{i()}}catch(l){o(ve.create("storage-set",{originalErrorMessage:null===(s=l)||void 0===s?void 0:s.message}))}})})()}delete(e){var t=this;return(0,o.Z)(function*(){const n=yield t.openDbPromise;return new Promise((r,i)=>{var o;const s=n.transaction([Se],"readwrite").objectStore(Se),a=t.createCompositeKey(e);try{const e=s.delete(a);e.onerror=e=>{i(Me(e,"storage-delete"))},e.onsuccess=()=>{r()}}catch(c){i(ve.create("storage-delete",{originalErrorMessage:null===(o=c)||void 0===o?void 0:o.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class ke{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,o.Z)(function*(){const t=e.storage.getLastFetchStatus(),n=e.storage.getLastSuccessfulFetchTimestampMillis(),r=e.storage.getActiveConfig(),i=yield t;i&&(e.lastFetchStatus=i);const o=yield n;o&&(e.lastSuccessfulFetchTimestampMillis=o);const s=yield r;s&&(e.activeConfig=s)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function Ee(){return xe.apply(this,arguments)}function xe(){return(xe=(0,o.Z)(function*(){if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}(0,s._registerComponent)(new c.wA("remote-config",function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw ve.create("registration-window");if(!(0,a.hl)())throw ve.create("indexed-db-unavailable");const{projectId:i,apiKey:o,appId:c}=n.options;if(!i)throw ve.create("registration-project-id");if(!o)throw ve.create("registration-api-key");if(!c)throw ve.create("registration-app-id");const u=new Ie(c,n.name,t=t||"firebase"),h=new ke(u),d=new l.Yd(ye);d.logLevel=l.in.ERROR;const f=new Oe(r,s.SDK_VERSION,t,i,o,c),p=new Pe(f,u),g=new we(p,u,h,d),m=new Te(n,g,h,u,d);return function(e){const t=(0,a.m9)(e);t._initializePromise||(t._initializePromise=t._storageCache.loadFromStorage().then(()=>{t._isInitializationComplete=!0}))}(m),m},"PUBLIC").setMultipleInstances(!0)),(0,s.registerVersion)(ye,be),(0,s.registerVersion)(ye,be,"esm2017");const Ae="/firebase-messaging-sw.js",De="/firebase-cloud-messaging-push-scope",Ne="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";var Re=(()=>(function(e){e.PUSH_RECEIVED="push-received",e.NOTIFICATION_CLICKED="notification-clicked"}(Re||(Re={})),Re))();function Fe(e){const t=new Uint8Array(e);return btoa(String.fromCharCode(...t)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Le(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),r=new Uint8Array(n.length);for(let i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}const qe="fcm_token_details_db",Ue="fcm_token_object_Store";function Ve(e){return Ze.apply(this,arguments)}function Ze(){return(Ze=(0,o.Z)(function*(e){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(e=>e.name).includes(qe))return null;let t=null;var n;return(yield(0,u.X3)(qe,5,{upgrade:(n=(0,o.Z)(function*(n,r,i,o){var s;if(r<2)return;if(!n.objectStoreNames.contains(Ue))return;const a=o.objectStore(Ue),c=yield a.index("fcmSenderId").get(e);if(yield a.clear(),c)if(2===r){const e=c;if(!e.auth||!e.p256dh||!e.endpoint)return;t={token:e.fcmToken,createTime:null!==(s=e.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:e.auth,p256dh:e.p256dh,endpoint:e.endpoint,swScope:e.swScope,vapidKey:"string"==typeof e.vapidKey?e.vapidKey:Fe(e.vapidKey)}}}else if(3===r){const e=c;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Fe(e.auth),p256dh:Fe(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Fe(e.vapidKey)}}}else if(4===r){const e=c;t={token:e.fcmToken,createTime:e.createTime,subscriptionOptions:{auth:Fe(e.auth),p256dh:Fe(e.p256dh),endpoint:e.endpoint,swScope:e.swScope,vapidKey:Fe(e.vapidKey)}}}}),function(e,t,r,i){return n.apply(this,arguments)})})).close(),yield(0,u.Lj)(qe),yield(0,u.Lj)("fcm_vapid_details_db"),yield(0,u.Lj)("undefined"),je(t)?t:null})).apply(this,arguments)}function je(e){if(!e||!e.subscriptionOptions)return!1;const{subscriptionOptions:t}=e;return"number"==typeof e.createTime&&e.createTime>0&&"string"==typeof e.token&&e.token.length>0&&"string"==typeof t.auth&&t.auth.length>0&&"string"==typeof t.p256dh&&t.p256dh.length>0&&"string"==typeof t.endpoint&&t.endpoint.length>0&&"string"==typeof t.swScope&&t.swScope.length>0&&"string"==typeof t.vapidKey&&t.vapidKey.length>0}const Be="firebase-messaging-store";let ze=null;function He(){return ze||(ze=(0,u.X3)("firebase-messaging-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Be)}}})),ze}function $e(e){return Ge.apply(this,arguments)}function Ge(){return(Ge=(0,o.Z)(function*(e){const t=Je(e),n=yield He(),r=yield n.transaction(Be).objectStore(Be).get(t);if(r)return r;{const t=yield Ve(e.appConfig.senderId);if(t)return yield We(e,t),t}})).apply(this,arguments)}function We(e,t){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,o.Z)(function*(e,t){const n=Je(e),r=(yield He()).transaction(Be,"readwrite");return yield r.objectStore(Be).put(t,n),yield r.done,t})).apply(this,arguments)}function Ye(e){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,o.Z)(function*(e){const t=Je(e),n=(yield He()).transaction(Be,"readwrite");yield n.objectStore(Be).delete(t),yield n.done})).apply(this,arguments)}function Je({appConfig:e}){return e.appId}const Xe=new a.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function et(e,t){return tt.apply(this,arguments)}function tt(){return(tt=(0,o.Z)(function*(e,t){const n=yield at(e),r=lt(t),i={method:"POST",headers:n,body:JSON.stringify(r)};let o;try{const t=yield fetch(st(e.appConfig),i);o=yield t.json()}catch(s){throw Xe.create("token-subscribe-failed",{errorInfo:s})}if(o.error)throw Xe.create("token-subscribe-failed",{errorInfo:o.error.message});if(!o.token)throw Xe.create("token-subscribe-no-token");return o.token})).apply(this,arguments)}function nt(e,t){return rt.apply(this,arguments)}function rt(){return(rt=(0,o.Z)(function*(e,t){const n=yield at(e),r=lt(t.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let o;try{const n=yield fetch(`${st(e.appConfig)}/${t.token}`,i);o=yield n.json()}catch(s){throw Xe.create("token-update-failed",{errorInfo:s})}if(o.error)throw Xe.create("token-update-failed",{errorInfo:o.error.message});if(!o.token)throw Xe.create("token-update-no-token");return o.token})).apply(this,arguments)}function it(e,t){return ot.apply(this,arguments)}function ot(){return(ot=(0,o.Z)(function*(e,t){const n={method:"DELETE",headers:yield at(e)};try{const r=yield fetch(`${st(e.appConfig)}/${t}`,n),i=yield r.json();if(i.error)throw Xe.create("token-unsubscribe-failed",{errorInfo:i.error.message})}catch(r){throw Xe.create("token-unsubscribe-failed",{errorInfo:r})}})).apply(this,arguments)}function st({projectId:e}){return`https://fcmregistrations.googleapis.com/v1/projects/${e}/registrations`}function at(e){return ct.apply(this,arguments)}function ct(){return(ct=(0,o.Z)(function*({appConfig:e,installations:t}){const n=yield t.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function lt({p256dh:e,auth:t,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:t,p256dh:e}};return r!==Ne&&(i.web.applicationPubKey=r),i}const ut=6048e5;function ht(e){return dt.apply(this,arguments)}function dt(){return(dt=(0,o.Z)(function*(e){const t=yield bt(e.swRegistration,e.vapidKey),n={vapidKey:e.vapidKey,swScope:e.swRegistration.scope,endpoint:t.endpoint,auth:Fe(t.getKey("auth")),p256dh:Fe(t.getKey("p256dh"))},r=yield $e(e.firebaseDependencies);if(r){if(wt(r.subscriptionOptions,n))return Date.now()>=r.createTime+ut?gt(e,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield it(e.firebaseDependencies,r.token)}catch(i){console.warn(i)}return _t(e.firebaseDependencies,n)}return _t(e.firebaseDependencies,n)})).apply(this,arguments)}function ft(e){return pt.apply(this,arguments)}function pt(){return(pt=(0,o.Z)(function*(e){const t=yield $e(e.firebaseDependencies);t&&(yield it(e.firebaseDependencies,t.token),yield Ye(e.firebaseDependencies));const n=yield e.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()})).apply(this,arguments)}function gt(e,t){return mt.apply(this,arguments)}function mt(){return(mt=(0,o.Z)(function*(e,t){try{const n=yield nt(e.firebaseDependencies,t),r=Object.assign(Object.assign({},t),{token:n,createTime:Date.now()});return yield We(e.firebaseDependencies,r),n}catch(n){throw yield ft(e),n}})).apply(this,arguments)}function _t(e,t){return yt.apply(this,arguments)}function yt(){return(yt=(0,o.Z)(function*(e,t){const n={token:yield et(e,t),createTime:Date.now(),subscriptionOptions:t};return yield We(e,n),n.token})).apply(this,arguments)}function bt(e,t){return vt.apply(this,arguments)}function vt(){return(vt=(0,o.Z)(function*(e,t){return(yield e.pushManager.getSubscription())||e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Le(t)})})).apply(this,arguments)}function wt(e,t){return t.vapidKey===e.vapidKey&&t.endpoint===e.endpoint&&t.auth===e.auth&&t.p256dh===e.p256dh}function Ct(e){const t={from:e.from,collapseKey:e.collapse_key,messageId:e.fcmMessageId};return function(e,t){if(!t.notification)return;e.notification={};const n=t.notification.title;n&&(e.notification.title=n);const r=t.notification.body;r&&(e.notification.body=r);const i=t.notification.image;i&&(e.notification.image=i)}(t,e),function(e,t){t.data&&(e.data=t.data)}(t,e),function(e,t){var n,r,i,o,s;if(!t.fcmOptions&&!(null===(n=t.notification)||void 0===n?void 0:n.click_action))return;e.fcmOptions={};const a=null!==(i=null===(r=t.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(o=t.notification)||void 0===o?void 0:o.click_action;a&&(e.fcmOptions.link=a);const c=null===(s=t.fcmOptions)||void 0===s?void 0:s.analytics_label;c&&(e.fcmOptions.analyticsLabel=c)}(t,e),t}function Ot(e){return"object"==typeof e&&!!e&&"google.c.a.c_id"in e}function Pt(e,t){const n=[];for(let r=0;r<e.length;r++)n.push(e.charAt(r)),r<t.length&&n.push(t.charAt(r));return n.join("")}function Tt(e){return Xe.create("missing-app-config-values",{valueName:e})}Pt("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Pt("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Mt{constructor(e,t,n){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const r=function(e){if(!e||!e.options)throw Tt("App Configuration Object");if(!e.name)throw Tt("App Name");const t=["projectId","apiKey","appId","messagingSenderId"],{options:n}=e;for(const r of t)if(!n[r])throw Tt(r);return{appName:e.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:r,installations:t,analyticsProvider:n}}_delete(){return Promise.resolve()}}function St(e){return It.apply(this,arguments)}function It(){return(It=(0,o.Z)(function*(e){var t;try{e.swRegistration=yield navigator.serviceWorker.register(Ae,{scope:De}),e.swRegistration.update().catch(()=>{})}catch(n){throw Xe.create("failed-service-worker-registration",{browserErrorMessage:null===(t=n)||void 0===t?void 0:t.message})}})).apply(this,arguments)}function kt(e,t){return Et.apply(this,arguments)}function Et(){return(Et=(0,o.Z)(function*(e,t){if(t||e.swRegistration||(yield St(e)),t||!e.swRegistration){if(!(t instanceof ServiceWorkerRegistration))throw Xe.create("invalid-sw-registration");e.swRegistration=t}})).apply(this,arguments)}function xt(e,t){return At.apply(this,arguments)}function At(){return(At=(0,o.Z)(function*(e,t){t?e.vapidKey=t:e.vapidKey||(e.vapidKey=Ne)})).apply(this,arguments)}function Dt(){return(Dt=(0,o.Z)(function*(e,t){if(!navigator)throw Xe.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Xe.create("permission-blocked");return yield xt(e,null==t?void 0:t.vapidKey),yield kt(e,null==t?void 0:t.serviceWorkerRegistration),ht(e)})).apply(this,arguments)}function Nt(e,t,n){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,o.Z)(function*(e,t,n){const r=Ft(t);(yield e.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n["google.c.a.c_id"],message_name:n["google.c.a.c_l"],message_time:n["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Ft(e){switch(e){case Re.NOTIFICATION_CLICKED:return"notification_open";case Re.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Lt(){return(Lt=(0,o.Z)(function*(e,t){const n=t.data;if(!n.isFirebaseMessaging)return;e.onMessageHandler&&n.messageType===Re.PUSH_RECEIVED&&("function"==typeof e.onMessageHandler?e.onMessageHandler(Ct(n)):e.onMessageHandler.next(Ct(n)));const r=n.data;Ot(r)&&"1"===r["google.c.a.e"]&&(yield Nt(e,n.messageType,r))})).apply(this,arguments)}const qt="@firebase/messaging",Ut="0.9.14";function Vt(){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,o.Z)(function*(){try{yield(0,a.eu)()}catch(e){return!1}return"undefined"!=typeof window&&(0,a.hl)()&&(0,a.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}(0,s._registerComponent)(new c.wA("messaging",e=>{const t=new Mt(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),e.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",e=>function(e,t){return Lt.apply(this,arguments)}(t,e)),t},"PUBLIC")),(0,s._registerComponent)(new c.wA("messaging-internal",e=>{const t=e.getProvider("messaging").getImmediate();return{getToken:e=>function(e,t){return Dt.apply(this,arguments)}(t,e)}},"PRIVATE")),(0,s.registerVersion)(qt,Ut),(0,s.registerVersion)(qt,Ut,"esm2017");const jt="analytics",Bt="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zt="https://www.googletagmanager.com/gtag/js",Ht=new l.Yd("@firebase/analytics");function $t(e){return Promise.all(e.map(e=>e.catch(e=>e)))}function Gt(e,t){const n=document.createElement("script");n.src=`${zt}?l=${e}&id=${t}`,n.async=!0,document.head.appendChild(n)}function Wt(e,t,n,r,i,o){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,o.Z)(function*(e,t,n,r,i,o){const s=r[i];try{if(s)yield t[s];else{const e=(yield $t(n)).find(e=>e.measurementId===i);e&&(yield t[e.appId])}}catch(a){Ht.error(a)}e("config",i,o)})).apply(this,arguments)}function Yt(e,t,n,r,i){return Qt.apply(this,arguments)}function Qt(){return(Qt=(0,o.Z)(function*(e,t,n,r,i){try{let o=[];if(i&&i.send_to){let e=i.send_to;Array.isArray(e)||(e=[e]);const r=yield $t(n);for(const n of e){const e=r.find(e=>e.measurementId===n),i=e&&t[e.appId];if(!i){o=[];break}o.push(i)}}0===o.length&&(o=Object.values(t)),yield Promise.all(o),e("event",r,i||{})}catch(o){Ht.error(o)}})).apply(this,arguments)}function Jt(){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(zt))return t;return null}const Xt=new a.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),en=new class{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function tn(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}function nn(e){return rn.apply(this,arguments)}function rn(){return(rn=(0,o.Z)(function*(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:tn(r)},o=Bt.replace("{app-id}",n),s=yield fetch(o,i);if(200!==s.status&&304!==s.status){let e="";try{const n=yield s.json();(null===(t=n.error)||void 0===t?void 0:t.message)&&(e=n.error.message)}catch(a){}throw Xt.create("config-fetch-failed",{httpStatus:s.status,responseMessage:e})}return s.json()})).apply(this,arguments)}function on(e){return sn.apply(this,arguments)}function sn(){return(sn=(0,o.Z)(function*(e,t=en,n){const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw Xt.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Xt.create("no-api-key")}const a=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},c=new hn;return setTimeout((0,o.Z)(function*(){c.abort()}),void 0!==n?n:6e4),an({appId:r,apiKey:i,measurementId:s},a,c,t)})).apply(this,arguments)}function an(e,t,n){return cn.apply(this,arguments)}function cn(){return(cn=(0,o.Z)(function*(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=en){const{appId:o,measurementId:s}=e;try{yield ln(r,t)}catch(c){if(s)return Ht.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c.message}]`),{appId:o,measurementId:s};throw c}try{const t=yield nn(e);return i.deleteThrottleMetadata(o),t}catch(c){if(!un(c)){if(i.deleteThrottleMetadata(o),s)return Ht.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c.message}]`),{appId:o,measurementId:s};throw c}const t=503===Number(c.customData.httpStatus)?(0,a.$s)(n,i.intervalMillis,30):(0,a.$s)(n,i.intervalMillis),l={throttleEndTimeMillis:Date.now()+t,backoffCount:n+1};return i.setThrottleMetadata(o,l),Ht.debug(`Calling attemptFetch again in ${t} millis`),an(e,l,r,i)}})).apply(this,arguments)}function ln(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),o=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(o),r(Xt.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function un(e){if(!(e instanceof a.ZR&&e.customData))return!1;const t=Number(e.customData.httpStatus);return 429===t||500===t||503===t||504===t}class hn{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}function dn(){return fn.apply(this,arguments)}function fn(){return(fn=(0,o.Z)(function*(){if(!(0,a.hl)())return Ht.warn(Xt.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,a.eu)()}catch(e){return Ht.warn(Xt.create("indexeddb-unavailable",{errorInfo:e}).message),!1}return!0})).apply(this,arguments)}function pn(){return(pn=(0,o.Z)(function*(e,t,n,r,i,o,s){var a;const c=on(e);c.then(t=>{n[t.measurementId]=t.appId,e.options.measurementId&&t.measurementId!==e.options.measurementId&&Ht.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${t.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(e=>Ht.error(e)),t.push(c);const l=dn().then(e=>e?r.getId():void 0),[u,h]=yield Promise.all([c,l]);Jt()||Gt(o,u.measurementId),i("js",new Date);const d=null!==(a=null==s?void 0:s.config)&&void 0!==a?a:{};return d.origin="firebase",d.update=!0,null!=h&&(d.firebase_id=h),i("config",u.measurementId,d),u.measurementId})).apply(this,arguments)}class gn{constructor(e){this.app=e}_delete(){return delete mn[this.app.options.appId],Promise.resolve()}}let mn={},_n=[];const yn={};let bn,vn,wn="dataLayer",Cn=!1;function On(){return(On=(0,o.Z)(function*(e,t,n,r,i){if(i&&i.global)e("event",n,r);else{const i=yield t;e("event",n,Object.assign(Object.assign({},r),{send_to:i}))}})).apply(this,arguments)}function Pn(){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,o.Z)(function*(){if((0,a.ru)())return!1;if(!(0,a.zI)())return!1;if(!(0,a.hl)())return!1;try{return yield(0,a.eu)()}catch(e){return!1}})).apply(this,arguments)}const Mn="@firebase/analytics",Sn="0.7.10";(0,s._registerComponent)(new c.wA(jt,(e,{options:t})=>function(e,t,n){!function(){const e=[];if((0,a.ru)()&&e.push("This is a browser extension environment."),(0,a.zI)()||e.push("Cookies are not available."),e.length>0){const t=e.map((e,t)=>`(${t+1}) ${e}`).join(" "),n=Xt.create("invalid-analytics-context",{errorInfo:t});Ht.warn(n.message)}}();const r=e.options.appId;if(!r)throw Xt.create("no-app-id");if(!e.options.apiKey){if(!e.options.measurementId)throw Xt.create("no-api-key");Ht.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=mn[r])throw Xt.create("already-exists",{id:r});if(!Cn){!function(e){let t=[];Array.isArray(window.dataLayer)?t=window.dataLayer:window.dataLayer=t}();const{wrappedGtag:e,gtagCore:t}=function(e,t,n,r,i){let s=function(...e){window.dataLayer.push(arguments)};return window.gtag&&"function"==typeof window.gtag&&(s=window.gtag),window.gtag=function(e,t,n,r){function i(){return(i=(0,o.Z)(function*(i,o,s){try{"event"===i?yield Yt(e,t,n,o,s):"config"===i?yield Wt(e,t,n,r,o,s):e("set",o)}catch(a){Ht.error(a)}})).apply(this,arguments)}return function(e,t,n){return i.apply(this,arguments)}}(s,e,t,n),{gtagCore:s,wrappedGtag:window.gtag}}(mn,_n,yn);vn=e,bn=t,Cn=!0}return mn[r]=function(e,t,n,r,i,o,s){return pn.apply(this,arguments)}(e,_n,yn,t,bn,wn,n),new gn(e)}(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,s._registerComponent)(new c.wA("analytics-internal",function(e){try{const t=e.getProvider(jt).getImmediate();return{logEvent:(e,n,r)=>function(e,t,n,r){e=(0,a.m9)(e),function(e,t,n,r,i){return On.apply(this,arguments)}(vn,mn[e.app.options.appId],t,n,r).catch(e=>Ht.error(e))}(t,e,n,r)}}catch(t){throw Xt.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,s.registerVersion)(Mn,Sn),(0,s.registerVersion)(Mn,Sn,"esm2017");var In=n(7771),kn=n(3637),En=n(3342),xn=n(6136),An=n(3101);const Dn=new r.GfV("7.4.1"),Nn="__angularfire_symbol__analyticsIsSupportedValue",Rn="__angularfire_symbol__analyticsIsSupported",Fn="__angularfire_symbol__remoteConfigIsSupportedValue",Ln="__angularfire_symbol__remoteConfigIsSupported",qn="__angularfire_symbol__messagingIsSupportedValue",Un="__angularfire_symbol__messagingIsSupported";function Vn(e,t,n){if(t){if(1===t.length)return t[0];const e=t.filter(e=>e.app===n);if(1===e.length)return e[0]}return n.container.getProvider(e).getImmediate({optional:!0})}globalThis[Rn]||(globalThis[Rn]=Pn().then(e=>globalThis[Nn]=e).catch(()=>globalThis[Nn]=!1)),globalThis[Un]||(globalThis[Un]=Vt().then(e=>globalThis[qn]=e).catch(()=>globalThis[qn]=!1)),globalThis[Ln]||(globalThis[Ln]=Ee().then(e=>globalThis[Fn]=e).catch(()=>globalThis[Fn]=!1));const Zn=(e,t)=>{const n=t?[t]:(0,i.C6)(),r=[];return n.forEach(t=>{t.container.getProvider(e).instances.forEach(e=>{r.includes(e)||r.push(e)})}),r};function jn(){}class Bn{constructor(e,t=In.N){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,n){const r=this.zone;return this.delegate.schedule(function(t){r.runGuarded(()=>{e.apply(this,[t])})},t,n)}}class zn{constructor(e){this.zone=e,this.task=null}call(e,t){const n=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",jn,{},jn,jn)),t.pipe((0,En.b)({next:n,complete:n,error:n})).subscribe(e).add(n)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Hn=(()=>{class e{constructor(e){this.ngZone=e,this.outsideAngular=e.runOutsideAngular(()=>new Bn(Zone.current)),this.insideAngular=e.run(()=>new Bn(Zone.current,kn.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function $n(){const e=globalThis.\u0275AngularFireScheduler;if(!e)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return e}function Gn(e){return e.pipe((0,xn.QV)($n().outsideAngular))}function Wn(e){return $n(),(t=$n(),function(e){return(e=e.lift(new zn(t.ngZone))).pipe((0,An.R)(t.outsideAngular),(0,xn.QV)(t.insideAngular))})(e);var t}},156:(e,t,n)=>{"use strict";n.d(t,{Z:()=>h});var r=n(3854),i=n(8604),o=n(279),s=n(9306);class a{constructor(e,t){this._delegate=e,this.firebase=t,(0,o._addComponent)(e,new i.wA("app-compat",()=>this,"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(e=>{this._delegate.checkDestroyed(),e()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,o.deleteApp)(this._delegate)))}_getService(e,t=o._DEFAULT_ENTRY_NAME){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)||r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=o._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){(0,o._addComponent)(this._delegate,e)}_addOrOverwriteComponent(e){(0,o._addOrOverwriteComponent)(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const c=new r.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),l=function e(){const t=function(e){const t={},n={__esModule:!0,initializeApp:function(i,s={}){const a=o.initializeApp(i,s);if((0,r.r3)(t,a.name))return t[a.name];const c=new e(a,n);return t[a.name]=c,c},app:i,registerVersion:o.registerVersion,setLogLevel:o.setLogLevel,onLog:o.onLog,apps:null,SDK_VERSION:o.SDK_VERSION,INTERNAL:{registerComponent:function(t){const s=t.name,a=s.replace("-compat","");if(o._registerComponent(t)&&"PUBLIC"===t.type){const o=(e=i())=>{if("function"!=typeof e[a])throw c.create("invalid-app-argument",{appName:s});return e[a]()};void 0!==t.serviceProps&&(0,r.ZB)(o,t.serviceProps),n[a]=o,e.prototype[a]=function(...e){return this._getService.bind(this,s).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[a]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:o}};function i(e){if(!(0,r.r3)(t,e=e||o._DEFAULT_ENTRY_NAME))throw c.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map(e=>t[e])}}),i.App=e,n}(a);return t.INTERNAL=Object.assign(Object.assign({},t.INTERNAL),{createFirebaseNamespace:e,extendNamespace:function(e){(0,r.ZB)(t,e)},createSubscribe:r.ne,ErrorFactory:r.LL,deepExtend:r.ZB}),t}(),u=new s.Yd("@firebase/app-compat");if((0,r.jU)()&&void 0!==self.firebase){u.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&u.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const h=l;(0,o.registerVersion)("@firebase/app-compat","0.1.27",void 0)},279:(e,t,n)=>{"use strict";n.r(t),n.d(t,{FirebaseError:()=>s.ZR,SDK_VERSION:()=>P,_DEFAULT_ENTRY_NAME:()=>d,_addComponent:()=>m,_addOrOverwriteComponent:()=>_,_apps:()=>p,_clearComponents:()=>w,_components:()=>g,_getProvider:()=>b,_registerComponent:()=>y,_removeServiceInstance:()=>v,deleteApp:()=>I,getApp:()=>M,getApps:()=>S,initializeApp:()=>T,onLog:()=>x,registerVersion:()=>E,setLogLevel:()=>A});var r=n(6304),i=n(8604),o=n(9306),s=n(3854),a=n(6508);class c{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null}).filter(e=>e).join(" ")}}const l="@firebase/app",u="0.7.26",h=new o.Yd("@firebase/app"),d="[DEFAULT]",f={[l]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},p=new Map,g=new Map;function m(e,t){try{e.container.addComponent(t)}catch(n){h.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function _(e,t){e.container.addOrOverwriteComponent(t)}function y(e){const t=e.name;if(g.has(t))return h.debug(`There were multiple attempts to register component ${t}.`),!1;g.set(t,e);for(const n of p.values())m(n,e);return!0}function b(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function v(e,t,n=d){b(e,t).clearInstance(n)}function w(){g.clear()}const C=new s.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class O{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new i.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw C.create("app-deleted",{appName:this._name})}}const P="9.8.3";function T(e,t={}){"object"!=typeof t&&(t={name:t});const n=Object.assign({name:d,automaticDataCollectionEnabled:!1},t),r=n.name;if("string"!=typeof r||!r)throw C.create("bad-app-name",{appName:String(r)});const o=p.get(r);if(o){if((0,s.vZ)(e,o.options)&&(0,s.vZ)(n,o.config))return o;throw C.create("duplicate-app",{appName:r})}const a=new i.H0(r);for(const i of g.values())a.addComponent(i);const c=new O(e,n,a);return p.set(r,c),c}function M(e=d){const t=p.get(e);if(!t)throw C.create("no-app",{appName:e});return t}function S(){return Array.from(p.values())}function I(e){return k.apply(this,arguments)}function k(){return(k=(0,r.Z)(function*(e){const t=e.name;p.has(t)&&(p.delete(t),yield Promise.all(e.container.getProviders().map(e=>e.delete())),e.isDeleted=!0)})).apply(this,arguments)}function E(e,t,n){var r;let o=null!==(r=f[e])&&void 0!==r?r:e;n&&(o+=`-${n}`);const s=o.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=[`Unable to register library "${o}" with version "${t}":`];return s&&e.push(`library name "${o}" contains illegal characters (whitespace or "/")`),s&&a&&e.push("and"),a&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void h.warn(e.join(" "))}y(new i.wA(`${o}-version`,()=>({library:o,version:t}),"VERSION"))}function x(e,t){if(null!==e&&"function"!=typeof e)throw C.create("invalid-log-argument");(0,o.Am)(e,t)}function A(e){(0,o.Ub)(e)}const D="firebase-heartbeat-store";let N=null;function R(){return N||(N=(0,a.X3)("firebase-heartbeat-database",1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(D)}}}).catch(e=>{throw C.create("storage-open",{originalErrorMessage:e.message})})),N}function F(){return(F=(0,r.Z)(function*(e){var t;try{return(yield R()).transaction(D).objectStore(D).get(U(e))}catch(n){throw C.create("storage-get",{originalErrorMessage:null===(t=n)||void 0===t?void 0:t.message})}})).apply(this,arguments)}function L(e,t){return q.apply(this,arguments)}function q(){return(q=(0,r.Z)(function*(e,t){var n;try{const n=(yield R()).transaction(D,"readwrite"),r=n.objectStore(D);return yield r.put(t,U(e)),n.done}catch(r){throw C.create("storage-set",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message})}})).apply(this,arguments)}function U(e){return`${e.name}!${e.options.appId}`}class V{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new j(t),this._heartbeatsCachePromise=this._storage.read().then(e=>(this._heartbeatsCache=e,e))}triggerHeartbeat(){var e=this;return(0,r.Z)(function*(){const t=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=Z();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==n&&!e._heartbeatsCache.heartbeats.some(e=>e.date===n))return e._heartbeatsCache.heartbeats.push({date:n,agent:t}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return(0,r.Z)(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const t=Z(),{heartbeatsToSend:n,unsentEntries:r}=function(e,t=1024){const n=[];let r=e.slice();for(const i of e){const e=n.find(e=>e.agent===i.agent);if(e){if(e.dates.push(i.date),B(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),B(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),i=(0,s.L)(JSON.stringify({version:2,heartbeats:n}));return e._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(e._heartbeatsCache.heartbeats=r,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),i})()}}function Z(){return(new Date).toISOString().substring(0,10)}class j{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,r.Z)(function*(){return!!(0,s.hl)()&&(0,s.eu)().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return(0,r.Z)(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function(e){return F.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var t=this;return(0,r.Z)(function*(){var n;if(yield t._canUseIndexedDBPromise){const r=yield t.read();return L(t.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return(0,r.Z)(function*(){var n;if(yield t._canUseIndexedDBPromise){const r=yield t.read();return L(t.app,{lastSentHeartbeatDate:null!==(n=e.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}})()}}function B(e){return(0,s.L)(JSON.stringify({version:2,heartbeats:e})).length}y(new i.wA("platform-logger",e=>new c(e),"PRIVATE")),y(new i.wA("heartbeat",e=>new V(e),"PRIVATE")),E(l,u,""),E(l,u,"esm2017"),E("fire-js","")},8604:(e,t,n)=>{"use strict";n.d(t,{wA:()=>o,H0:()=>c,zt:()=>a});var r=n(6304),i=n(3854);class o{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const s="[DEFAULT]";class a{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new i.BH;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(n){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:s})}catch(t){}for(const[e,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:r});n.resolve(e)}catch(t){}}}}clearInstance(e="[DEFAULT]"){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return(0,r.Z)(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e="[DEFAULT]"){return this.instances.has(e)}getOptions(e="[DEFAULT]"){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,o]of this.instancesDeferred.entries())n===this.normalizeInstanceIdentifier(i)&&o.resolve(r);return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:(r=e,r===s?void 0:r),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch(i){}var r;return n||null}normalizeInstanceIdentifier(e="[DEFAULT]"){return this.component?this.component.multipleInstances?e:s:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class c{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new a(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}},9306:(e,t,n)=>{"use strict";n.d(t,{in:()=>i,Yd:()=>l,Ub:()=>u,Am:()=>h});const r=[];var i=(()=>(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(i||(i={})),i))();const o={debug:i.DEBUG,verbose:i.VERBOSE,info:i.INFO,warn:i.WARN,error:i.ERROR,silent:i.SILENT},s=i.INFO,a={[i.DEBUG]:"log",[i.VERBOSE]:"log",[i.INFO]:"info",[i.WARN]:"warn",[i.ERROR]:"error"},c=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=a[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class l{constructor(e){this.name=e,this._logLevel=s,this._logHandler=c,this._userLogHandler=null,r.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in i))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?o[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,i.DEBUG,...e),this._logHandler(this,i.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,i.VERBOSE,...e),this._logHandler(this,i.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,i.INFO,...e),this._logHandler(this,i.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,i.WARN,...e),this._logHandler(this,i.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,i.ERROR,...e),this._logHandler(this,i.ERROR,...e)}}function u(e){r.forEach(t=>{t.setLogLevel(e)})}function h(e,t){for(const n of r){let r=null;t&&t.level&&(r=o[t.level]),n.userLogHandler=null===e?null:(t,n,...o)=>{const s=o.map(e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}}).filter(e=>e).join(" ");n>=(null!=r?r:t.logLevel)&&e({level:i[n].toLowerCase(),message:s,args:o,type:t.name})}}}},3854:(e,t,n)=>{"use strict";n.d(t,{BH:()=>d,LL:()=>k,ZR:()=>I,gQ:()=>H,zI:()=>S,hu:()=>r,g5:()=>i,US:()=>s,tV:()=>l,h$:()=>a,L:()=>c,$s:()=>te,r3:()=>F,Sg:()=>f,ne:()=>$,p$:()=>u,vZ:()=>V,ZB:()=>h,gK:()=>Y,pd:()=>z,m9:()=>ne,z$:()=>p,GJ:()=>R,jU:()=>_,ru:()=>y,d:()=>v,xb:()=>q,w1:()=>w,hl:()=>T,uI:()=>g,UG:()=>m,Yr:()=>O,b$:()=>b,G6:()=>P,Mn:()=>C,w9:()=>N,cI:()=>x,UI:()=>U,xO:()=>j,zd:()=>B,DV:()=>L,ug:()=>ee,dS:()=>X,Pz:()=>A,Dv:()=>K,Wj:()=>Q,lb:()=>J,eu:()=>M});const r=function(e,t){if(!e)throw i(t)},i=function(e){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+e)},o=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},s={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],o=i+1<e.length,s=o?e[i+1]:0,a=i+2<e.length,c=a?e[i+2]:0;let l=(15&s)<<2|c>>6,u=63&c;a||(u=64,o||(l=64)),r.push(n[t>>2],n[(3&t)<<4|s>>4],n[l],n[u])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(o(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const o=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){const o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{const o=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0;++i;const s=i<e.length?n[e.charAt(i)]:64;++i;const a=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==o||null==s||null==a)throw Error();r.push(t<<2|o>>4),64!==s&&(r.push(o<<4&240|s>>2),64!==a&&r.push(s<<6&192|a))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},a=function(e){const t=o(e);return s.encodeByteArray(t,!0)},c=function(e){return a(e).replace(/\./g,"")},l=function(e){try{return s.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function u(e){return h(void 0,e)}function h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)t.hasOwnProperty(n)&&"__proto__"!==n&&(e[n]=h(e[n],t[n]));return e}class d{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,n))}}}function f(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[c(JSON.stringify({alg:"none",type:"JWT"})),c(JSON.stringify(o)),""].join(".")}function p(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function g(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(p())}function m(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(e){return!1}}function _(){return"object"==typeof self&&self.self===self}function y(){const e="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof e&&void 0!==e.id}function b(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function v(){return p().indexOf("Electron/")>=0}function w(){const e=p();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function C(){return p().indexOf("MSAppHost/")>=0}function O(){return!1}function P(){return!m()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function T(){return"object"==typeof indexedDB}function M(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})}function S(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class I extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,I.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,k.prototype.create)}}class k{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?function(e,t){return e.replace(E,(e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`})}(i,n):"Error";return new I(r,`${this.serviceName}: ${o} (${r}).`,n)}}const E=/\{\$([^}]+)}/g;function x(e){return JSON.parse(e)}function A(e){return JSON.stringify(e)}const D=function(e){let t={},n={},r={},i="";try{const o=e.split(".");t=x(l(o[0])||""),n=x(l(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(o){}return{header:t,claims:n,data:r,signature:i}},N=function(e){const t=D(e).claims;return!!t&&"object"==typeof t&&t.hasOwnProperty("iat")},R=function(e){const t=D(e).claims;return"object"==typeof t&&!0===t.admin};function F(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:void 0}function q(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function U(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function V(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],o=t[i];if(Z(n)&&Z(o)){if(!V(n,o))return!1}else if(n!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Z(e){return null!==e&&"object"==typeof e}function j(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function B(e){const t={};return e.replace(/^\?/,"").split("&").forEach(e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}}),t}function z(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class H{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,t){t||(t=0);const n=this.W_;if("string"==typeof e)for(let u=0;u<16;u++)n[u]=e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|e.charCodeAt(t+3),t+=4;else for(let u=0;u<16;u++)n[u]=e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3],t+=4;for(let u=16;u<80;u++){const e=n[u-3]^n[u-8]^n[u-14]^n[u-16];n[u]=4294967295&(e<<1|e>>>31)}let r,i,o=this.chain_[0],s=this.chain_[1],a=this.chain_[2],c=this.chain_[3],l=this.chain_[4];for(let u=0;u<80;u++){u<40?u<20?(r=c^s&(a^c),i=1518500249):(r=s^a^c,i=1859775393):u<60?(r=s&a|c&(s|a),i=2400959708):(r=s^a^c,i=3395469782);const e=(o<<5|o>>>27)+r+l+i+n[u]&4294967295;l=c,c=a,a=4294967295&(s<<30|s>>>2),s=o,o=e}this.chain_[0]=this.chain_[0]+o&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+c&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,t){if(null==e)return;void 0===t&&(t=e.length);const n=t-this.blockSize;let r=0;const i=this.buf_;let o=this.inbuf_;for(;r<t;){if(0===o)for(;r<=n;)this.compress_(e,r),r+=this.blockSize;if("string"==typeof e){for(;r<t;)if(i[o]=e.charCodeAt(r),++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<t;)if(i[o]=e[r],++o,++r,o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=t}digest(){const e=[];let t=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let r=this.blockSize-1;r>=56;r--)this.buf_[r]=255&t,t/=256;this.compress_(this.buf_);let n=0;for(let r=0;r<5;r++)for(let t=24;t>=0;t-=8)e[n]=this.chain_[r]>>t&255,++n;return e}}function $(e,t){const n=new G(e,t);return n.subscribe.bind(n)}class G{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(e=>{this.error(e)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!=typeof e||null===e)return!1;for(const n of["next","error","complete"])if(n in e&&"function"==typeof e[n])return!0;return!1}(e)?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=W),void 0===r.error&&(r.error=W),void 0===r.complete&&(r.complete=W);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(e){}}),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(n){"undefined"!=typeof console&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function W(){}const K=function(e,t,n,r){let i;if(r<t?i="at least "+t:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(e+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Y(e,t){return`${e} failed: ${t} argument `}function Q(e,t,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Y(e,t)+"must be a valid function.")}function J(e,t,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Y(e,t)+"must be a valid context object.")}const X=function(e){const t=[];let n=0;for(let i=0;i<e.length;i++){let o=e.charCodeAt(i);if(o>=55296&&o<=56319){const t=o-55296;i++,r(i<e.length,"Surrogate pair missing trail surrogate."),o=65536+(t<<10)+(e.charCodeAt(i)-56320)}o<128?t[n++]=o:o<2048?(t[n++]=o>>6|192,t[n++]=63&o|128):o<65536?(t[n++]=o>>12|224,t[n++]=o>>6&63|128,t[n++]=63&o|128):(t[n++]=o>>18|240,t[n++]=o>>12&63|128,t[n++]=o>>6&63|128,t[n++]=63&o|128)}return t},ee=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};function te(e,t=1e3,n=2){const r=t*Math.pow(n,e),i=Math.round(.5*r*(Math.random()-.5)*2);return Math.min(144e5,r+i)}function ne(e){return e&&e._delegate?e._delegate:e}},2329:(e,t,n)=>{"use strict";n.d(t,{Mq:()=>r.getApp,C6:()=>r.getApps,KN:()=>r.registerVersion});var r=n(279);(0,r.registerVersion)("firebase","9.8.3","app")},7841:(e,t,n)=>{"use strict";n.d(t,{Z:()=>r.Z});var r=n(156);r.Z.registerVersion("firebase","9.8.3","app-compat")},5468:(e,t,n)=>{"use strict";n.r(t);var r=n(6304),i=n(156),o=n(3854),s=n(279),a=n(4762),c=n(9306),l=n(8604);const u=function(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},h=new o.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),d=new c.Yd("@firebase/auth");function f(e,...t){d.logLevel<=c.in.ERROR&&d.error(`Auth (${s.SDK_VERSION}): ${e}`,...t)}function p(e,...t){throw y(e,...t)}function g(e,...t){return y(e,...t)}function m(e,t,n){const r=Object.assign(Object.assign({},{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),{[t]:n});return new o.LL("auth","Firebase",r).create(t,{appName:e.name})}function _(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&p(e,"argument-error"),m(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function y(e,...t){if("string"!=typeof e){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return h.create(e,...t)}function b(e,t,...n){if(!e)throw y(t,...n)}function v(e){const t="INTERNAL ASSERTION FAILED: "+e;throw f(t),new Error(t)}function w(e,t){e||v(t)}const C=new Map;function O(e){w(e instanceof Function,"Expected a class definition");let t=C.get(e);return t?(w(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,C.set(e,t),t)}function P(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function T(){return"http:"===M()||"https:"===M()}function M(){var e;return"undefined"!=typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}class S{constructor(e,t){this.shortDelay=e,this.longDelay=t,w(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,o.uI)()||(0,o.b$)()}get(){return"undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(T()||(0,o.ru)()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}function I(e,t){w(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}class k{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void v("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void v("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void v("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const E={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},x=new S(3e4,6e4);function A(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function D(e,t,n,r){return N.apply(this,arguments)}function N(){return(N=(0,r.Z)(function*(e,t,n,i,s={}){return R(e,s,(0,r.Z)(function*(){let r={},s={};i&&("GET"===t?s=i:r={body:JSON.stringify(i)});const a=(0,o.xO)(Object.assign({key:e.config.apiKey},s)).slice(1),c=yield e._getAdditionalHeaders();return c["Content-Type"]="application/json",e.languageCode&&(c["X-Firebase-Locale"]=e.languageCode),k.fetch()(U(e,e.config.apiHost,n,a),Object.assign({method:t,headers:c,referrerPolicy:"no-referrer"},r))}))})).apply(this,arguments)}function R(e,t,n){return F.apply(this,arguments)}function F(){return(F=(0,r.Z)(function*(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},E),t);try{const t=new V(e),i=yield Promise.race([n(),t.promise]);t.clearNetworkTimeout();const o=yield i.json();if("needConfirmation"in o)throw Z(e,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const t=i.ok?o.errorMessage:o.error.message,[n,s]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Z(e,"credential-already-in-use",o);if("EMAIL_EXISTS"===n)throw Z(e,"email-already-in-use",o);if("USER_DISABLED"===n)throw Z(e,"user-disabled",o);const a=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(s)throw m(e,a,s);p(e,a)}}catch(i){if(i instanceof o.ZR)throw i;p(e,"network-request-failed")}})).apply(this,arguments)}function L(e,t,n,r){return q.apply(this,arguments)}function q(){return(q=(0,r.Z)(function*(e,t,n,r,i={}){const o=yield D(e,t,n,r,i);return"mfaPendingCredential"in o&&p(e,"multi-factor-auth-required",{_serverResponse:o}),o})).apply(this,arguments)}function U(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?I(e.config,i):`${e.config.apiScheme}://${i}`}class V{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((e,t)=>{this.timer=setTimeout(()=>t(g(this.auth,"network-request-failed")),x.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Z(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=g(e,t,r);return i.customData._tokenResponse=n,i}function j(){return(j=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:delete",t)})).apply(this,arguments)}function B(e,t){return z.apply(this,arguments)}function z(){return(z=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function H(e,t){return $.apply(this,arguments)}function $(){return($=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:lookup",t)})).apply(this,arguments)}function G(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(t){}}function W(){return(W=(0,r.Z)(function*(e,t=!1){const n=(0,o.m9)(e),r=yield n.getIdToken(t),i=Y(r);b(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,a=null==s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:G(K(i.auth_time)),issuedAtTime:G(K(i.iat)),expirationTime:G(K(i.exp)),signInProvider:a||null,signInSecondFactor:(null==s?void 0:s.sign_in_second_factor)||null}})).apply(this,arguments)}function K(e){return 1e3*Number(e)}function Y(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return f("JWT malformed, contained fewer than 3 sections"),null;try{const e=(0,o.tV)(n);return e?JSON.parse(e):(f("Failed to decode base64 JWT payload"),null)}catch(i){return f("Caught error parsing JWT payload as JSON",i),null}}function Q(e,t){return J.apply(this,arguments)}function J(){return(J=(0,r.Z)(function*(e,t,n=!1){if(n)return t;try{return yield t}catch(r){throw r instanceof o.ZR&&X(r)&&e.auth.currentUser===e&&(yield e.auth.signOut()),r}})).apply(this,arguments)}function X({code:e}){return"auth/user-disabled"===e||"auth/user-token-expired"===e}class ee{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout((0,r.Z)(function*(){yield t.iteration()}),n)}iteration(){var e=this;return(0,r.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t.code&&e.schedule(!0))}e.schedule()})()}}class te{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=G(this.lastLoginAt),this.creationTime=G(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function ne(e){return re.apply(this,arguments)}function re(){return(re=(0,r.Z)(function*(e){var t;const n=e.auth,r=yield e.getIdToken(),i=yield Q(e,H(n,{idToken:r}));b(null==i?void 0:i.users.length,n,"internal-error");const o=i.users[0];e._notifyReloadListener(o);const s=(null===(t=o.providerUserInfo)||void 0===t?void 0:t.length)?se(o.providerUserInfo):[],a=oe(e.providerData,s),c=!!e.isAnonymous&&!(e.email&&o.passwordHash||(null==a?void 0:a.length)),l={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new te(o.createdAt,o.lastLoginAt),isAnonymous:c};Object.assign(e,l)})).apply(this,arguments)}function ie(){return(ie=(0,r.Z)(function*(e){const t=(0,o.m9)(e);yield ne(t),yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)})).apply(this,arguments)}function oe(e,t){return[...e.filter(e=>!t.some(t=>t.providerId===e.providerId)),...t]}function se(e){return e.map(e=>{var{providerId:t}=e,n=(0,a._T)(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}})}function ae(){return(ae=(0,r.Z)(function*(e,t){const n=yield R(e,{},(0,r.Z)(function*(){const n=(0,o.xO)({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=U(e,r,"/v1/token",`key=${i}`),a=yield e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",k.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class ce{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){b(e.idToken,"internal-error"),b(void 0!==e.idToken,"internal-error"),b(void 0!==e.refreshToken,"internal-error");const t="expiresIn"in e&&void 0!==e.expiresIn?Number(e.expiresIn):function(e){const t=Y(e);return b(t,"internal-error"),b(void 0!==t.exp,"internal-error"),b(void 0!==t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var n=this;return(0,r.Z)(function*(){return b(!n.accessToken||n.refreshToken,e,"user-token-expired"),t||!n.accessToken||n.isExpired?n.refreshToken?(yield n.refresh(e,n.refreshToken),n.accessToken):null:n.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var n=this;return(0,r.Z)(function*(){const{accessToken:r,refreshToken:i,expiresIn:o}=yield function(e,t){return ae.apply(this,arguments)}(e,t);n.updateTokensAndExpiration(r,i,Number(o))})()}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,o=new ce;return n&&(b("string"==typeof n,"internal-error",{appName:e}),o.refreshToken=n),r&&(b("string"==typeof r,"internal-error",{appName:e}),o.accessToken=r),i&&(b("number"==typeof i,"internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ce,this.toJSON())}_performRefresh(){return v("not implemented")}}function le(e,t){b("string"==typeof e||void 0===e,"internal-error",{appName:t})}class ue{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=(0,a._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ee(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new te(i.createdAt||void 0,i.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,r.Z)(function*(){const n=yield Q(t,t.stsTokenManager.getToken(t.auth,e));return b(n,t.auth,"internal-error"),t.accessToken!==n&&(t.accessToken=n,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),n})()}getIdTokenResult(e){return function(e){return W.apply(this,arguments)}(this,e)}reload(){return function(e){return ie.apply(this,arguments)}(this)}_assign(e){this!==e&&(b(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(e=>Object.assign({},e)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){return new ue(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(e){b(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var n=this;return(0,r.Z)(function*(){let r=!1;e.idToken&&e.idToken!==n.stsTokenManager.accessToken&&(n.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield ne(n)),yield n.auth._persistUserIfCurrent(n),r&&n.auth._notifyListenersIfCurrent(n)})()}delete(){var e=this;return(0,r.Z)(function*(){const t=yield e.getIdToken();return yield Q(e,function(e,t){return j.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,o,s,a,c,l;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,f=null!==(o=t.photoURL)&&void 0!==o?o:void 0,p=null!==(s=t.tenantId)&&void 0!==s?s:void 0,g=null!==(a=t._redirectEventId)&&void 0!==a?a:void 0,m=null!==(c=t.createdAt)&&void 0!==c?c:void 0,_=null!==(l=t.lastLoginAt)&&void 0!==l?l:void 0,{uid:y,emailVerified:v,isAnonymous:w,providerData:C,stsTokenManager:O}=t;b(y&&O,e,"internal-error");const P=ce.fromJSON(this.name,O);b("string"==typeof y,e,"internal-error"),le(u,e.name),le(h,e.name),b("boolean"==typeof v,e,"internal-error"),b("boolean"==typeof w,e,"internal-error"),le(d,e.name),le(f,e.name),le(p,e.name),le(g,e.name),le(m,e.name),le(_,e.name);const T=new ue({uid:y,auth:e,email:h,emailVerified:v,displayName:u,isAnonymous:w,photoURL:f,phoneNumber:d,tenantId:p,stsTokenManager:P,createdAt:m,lastLoginAt:_});return C&&Array.isArray(C)&&(T.providerData=C.map(e=>Object.assign({},e))),g&&(T._redirectEventId=g),T}static _fromIdTokenResponse(e,t,n=!1){return(0,r.Z)(function*(){const r=new ce;r.updateFromServerResponse(t);const i=new ue({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return yield ne(i),i})()}}const he=(()=>{class e{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,r.Z)(function*(){return!0})()}_set(e,t){var n=this;return(0,r.Z)(function*(){n.storage[e]=t})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=t.storage[e];return void 0===n?null:n})()}_remove(e){var t=this;return(0,r.Z)(function*(){delete t.storage[e]})()}_addListener(e,t){}_removeListener(e,t){}}return e.type="NONE",e})();function de(e,t,n){return`firebase:${e}:${t}:${n}`}class fe{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=de(this.userKey,r.apiKey,i),this.fullPersistenceKey=de("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,r.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ue._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,r.Z)(function*(){if(t.persistence===e)return;const n=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,n?t.setCurrentUser(n):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,n="authUser"){return(0,r.Z)(function*(){if(!t.length)return new fe(O(he),e,n);const i=(yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(yield e._isAvailable())return e});return function(t){return e.apply(this,arguments)}}()))).filter(e=>e);let o=i[0]||O(he);const s=de(n,e.config.apiKey,e.name);let a=null;for(const n of t)try{const t=yield n._get(s);if(t){const r=ue._fromJSON(e,t);n!==o&&(a=r),o=n;break}}catch(l){}const c=i.filter(e=>e._shouldAllowMigration);return o._shouldAllowMigration&&c.length?(o=c[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(function(){var e=(0,r.Z)(function*(e){if(e!==o)try{yield e._remove(s)}catch(l){}});return function(t){return e.apply(this,arguments)}}())),new fe(o,e,n)):new fe(o,e,n)})()}}function pe(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(ye(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(ge(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ve(t))return"Blackberry";if(we(t))return"Webos";if(me(t))return"Safari";if((t.includes("chrome/")||_e(t))&&!t.includes("edge/"))return"Chrome";if(be(t))return"Android";{const t=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==t?void 0:t.length))return t[1]}return"Other"}function ge(e=(0,o.z$)()){return/firefox\//i.test(e)}function me(e=(0,o.z$)()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function _e(e=(0,o.z$)()){return/crios\//i.test(e)}function ye(e=(0,o.z$)()){return/iemobile/i.test(e)}function be(e=(0,o.z$)()){return/android/i.test(e)}function ve(e=(0,o.z$)()){return/blackberry/i.test(e)}function we(e=(0,o.z$)()){return/webos/i.test(e)}function Ce(e=(0,o.z$)()){return/iphone|ipad|ipod/i.test(e)}function Oe(e=(0,o.z$)()){return Ce(e)||be(e)||we(e)||ve(e)||/windows phone/i.test(e)||ye(e)}function Pe(e,t=[]){let n;switch(e){case"Browser":n=pe((0,o.z$)());break;case"Worker":n=`${pe((0,o.z$)())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${s.SDK_VERSION}/${r}`}class Te{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise((n,r)=>{try{n(e(t))}catch(i){r(i)}});n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,r.Z)(function*(){var n;if(t.auth.currentUser===e)return;const r=[];try{for(const n of t.queue)yield n(e),n.onAbort&&r.push(n.onAbort)}catch(i){r.reverse();for(const e of r)try{e()}catch(o){}throw t.auth._errorFactory.create("login-blocked",{originalMessage:null===(n=i)||void 0===n?void 0:n.message})}})()}}class Me{constructor(e,t,n){this.app=e,this.heartbeatServiceProvider=t,this.config=n,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ie(this),this.idTokenSubscription=new Ie(this),this.beforeStateQueue=new Te(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=h,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=n.sdkClientVersion}_initializeWithPersistence(e,t){var n=this;return t&&(this._popupRedirectResolver=O(t)),this._initializationPromise=this.queue((0,r.Z)(function*(){var r,i;if(!n._deleted&&(n.persistenceManager=yield fe.create(n,e),!n._deleted)){if(null===(r=n._popupRedirectResolver)||void 0===r?void 0:r._shouldInitProactively)try{yield n._popupRedirectResolver._initialize(n)}catch(o){}yield n.initializeCurrentUser(t),n.lastNotifiedUid=(null===(i=n.currentUser)||void 0===i?void 0:i.uid)||null,n._deleted||(n._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,r.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();return e.currentUser||t?e.currentUser&&t&&e.currentUser.uid===t.uid?(e._currentUser._assign(t),void(yield e.currentUser.getIdToken())):void(yield e._updateCurrentUser(t,!0)):void 0})()}initializeCurrentUser(e){var t=this;return(0,r.Z)(function*(){var n;const r=yield t.assertedPersistence.getCurrentUser();let i=r,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const r=null===(n=t.redirectUser)||void 0===n?void 0:n._redirectEventId,s=null==i?void 0:i._redirectEventId,a=yield t.tryRedirectSignIn(e);r&&r!==s||!(null==a?void 0:a.user)||(i=a.user,o=!0)}if(!i)return t.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(i)}catch(s){i=r,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(s))}return i?t.reloadAndSetCurrentUserOrClear(i):t.directlySetCurrentUser(null)}return b(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===i._redirectEventId?t.directlySetCurrentUser(i):t.reloadAndSetCurrentUserOrClear(i)})()}tryRedirectSignIn(e){var t=this;return(0,r.Z)(function*(){let n=null;try{n=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch(r){yield t._setRedirectUser(null)}return n})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,r.Z)(function*(){try{yield ne(e)}catch(n){if("auth/network-request-failed"!==n.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function(){if("undefined"==typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}_delete(){var e=this;return(0,r.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,r.Z)(function*(){const n=e?(0,o.m9)(e):null;return n&&b(n.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(n&&n._clone(t))})()}_updateCurrentUser(e,t=!1){var n=this;return(0,r.Z)(function*(){if(!n._deleted)return e&&b(n.tenantId===e.tenantId,n,"tenant-id-mismatch"),t||(yield n.beforeStateQueue.runMiddleware(e)),n.queue((0,r.Z)(function*(){yield n.directlySetCurrentUser(e),n.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,r.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,r.Z)(function*(){yield t.assertedPersistence.setPersistence(O(e))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new o.LL("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var n=this;return(0,r.Z)(function*(){const r=yield n.getOrInitRedirectPersistenceManager(t);return null===e?r.removeCurrentUser():r.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,r.Z)(function*(){if(!t.redirectPersistenceManager){const n=e&&O(e)||t._popupRedirectResolver;b(n,t,"argument-error"),t.redirectPersistenceManager=yield fe.create(t,[O(n._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,r.Z)(function*(){var n,i;return t._isInitialized&&(yield t.queue((0,r.Z)(function*(){}))),(null===(n=t._currentUser)||void 0===n?void 0:n._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,r.Z)(function*(){if(e===t.currentUser)return t.queue((0,r.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"==typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return b(o,this,"internal-error"),o.then(()=>i(this.currentUser)),"function"==typeof t?e.addObserver(t,n,r):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,r.Z)(function*(){t.currentUser&&t.currentUser!==e&&(t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh()),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return b(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pe(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,r.Z)(function*(){var t;const n={"X-Client-Version":e.clientVersion};e.app.options.appId&&(n["X-Firebase-gmpid"]=e.app.options.appId);const r=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();return r&&(n["X-Firebase-Client"]=r),n})()}}function Se(e){return(0,o.m9)(e)}class Ie{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,o.ne)(e=>this.observer=e)}get next(){return b(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ke(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ee(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class xe{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return v("not implemented")}_getIdTokenResponse(e){return v("not implemented")}_linkToIdToken(e,t){return v("not implemented")}_getReauthenticationResolver(e){return v("not implemented")}}function Ae(e,t){return De.apply(this,arguments)}function De(){return(De=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:resetPassword",A(e,t))})).apply(this,arguments)}function Ne(e,t){return Re.apply(this,arguments)}function Re(){return(Re=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function Fe(e,t){return Le.apply(this,arguments)}function Le(){return(Le=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",A(e,t))})).apply(this,arguments)}function qe(){return(qe=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithPassword",A(e,t))})).apply(this,arguments)}function Ue(e,t){return Ve.apply(this,arguments)}function Ve(){return(Ve=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:sendOobCode",A(e,t))})).apply(this,arguments)}function Ze(e,t){return je.apply(this,arguments)}function je(){return(je=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function Be(e,t){return ze.apply(this,arguments)}function ze(){return(ze=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function He(e,t){return $e.apply(this,arguments)}function $e(){return($e=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function Ge(e,t){return We.apply(this,arguments)}function We(){return(We=(0,r.Z)(function*(e,t){return Ue(e,t)})).apply(this,arguments)}function Ke(){return(Ke=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",A(e,t))})).apply(this,arguments)}function Ye(){return(Ye=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithEmailLink",A(e,t))})).apply(this,arguments)}class Qe extends xe{constructor(e,t,n,r=null){super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new Qe(e,t,"password")}static _fromEmailAndCode(e,t,n=null){return new Qe(e,t,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if((null==t?void 0:t.email)&&(null==t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return(0,r.Z)(function*(){switch(t.signInMethod){case"password":return function(e,t){return qe.apply(this,arguments)}(e,{returnSecureToken:!0,email:t._email,password:t._password});case"emailLink":return function(e,t){return Ke.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:p(e,"internal-error")}})()}_linkToIdToken(e,t){var n=this;return(0,r.Z)(function*(){switch(n.signInMethod){case"password":return Ne(e,{idToken:t,returnSecureToken:!0,email:n._email,password:n._password});case"emailLink":return function(e,t){return Ye.apply(this,arguments)}(e,{idToken:t,email:n._email,oobCode:n._password});default:p(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Je(e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithIdp",A(e,t))})).apply(this,arguments)}class et extends xe{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new et(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):p("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=(0,a._T)(t,["providerId","signInMethod"]);if(!n||!r)return null;const o=new et(n,r);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){return Je(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Je(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Je(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=(0,o.xO)(t)}return e}}function tt(e,t){return nt.apply(this,arguments)}function nt(){return(nt=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:sendVerificationCode",A(e,t))})).apply(this,arguments)}function rt(){return(rt=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",A(e,t))})).apply(this,arguments)}function it(){return(it=(0,r.Z)(function*(e,t){const n=yield L(e,"POST","/v1/accounts:signInWithPhoneNumber",A(e,t));if(n.temporaryProof)throw Z(e,"account-exists-with-different-credential",n);return n})).apply(this,arguments)}const ot={USER_NOT_FOUND:"user-not-found"};function st(){return(st=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithPhoneNumber",A(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ot)})).apply(this,arguments)}class at extends xe{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new at({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new at({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return function(e,t){return rt.apply(this,arguments)}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return function(e,t){return it.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return function(e,t){return st.apply(this,arguments)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"==typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new at({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class ct{constructor(e){var t,n,r,i,s,a;const c=(0,o.zd)((0,o.pd)(e)),l=null!==(t=c.apiKey)&&void 0!==t?t:null,u=null!==(n=c.oobCode)&&void 0!==n?n:null,h=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=c.mode)&&void 0!==r?r:null);b(l&&u&&h,"argument-error"),this.apiKey=l,this.operation=h,this.code=u,this.continueUrl=null!==(i=c.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=c.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=(0,o.zd)((0,o.pd)(e)).link,n=t?(0,o.zd)((0,o.pd)(t)).deep_link_id:null,r=(0,o.zd)((0,o.pd)(e)).deep_link_id;return(r?(0,o.zd)((0,o.pd)(r)).link:null)||r||n||t||e}(e);try{return new ct(t)}catch(n){return null}}}let lt=(()=>{class e{constructor(){this.providerId=e.PROVIDER_ID}static credential(e,t){return Qe._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=ct.parseLink(t);return b(n,"argument-error"),Qe._fromEmailAndCode(e,n.code,n.tenantId)}}return e.PROVIDER_ID="password",e.EMAIL_PASSWORD_SIGN_IN_METHOD="password",e.EMAIL_LINK_SIGN_IN_METHOD="emailLink",e})();class ut{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class ht extends ut{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class dt extends ht{static credentialFromJSON(e){const t="string"==typeof e?JSON.parse(e):e;return b("providerId"in t&&"signInMethod"in t,"argument-error"),et._fromParams(t)}credential(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}_credential(e){return b(e.idToken||e.accessToken,"argument-error"),et._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(e){return dt.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return dt.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:n,oauthTokenSecret:r,pendingToken:i,nonce:o,providerId:s}=e;if(!(n||r||t||i))return null;if(!s)return null;try{return new dt(s)._credential({idToken:t,accessToken:n,nonce:o,pendingToken:i})}catch(a){return null}}}let ft=(()=>{class e extends ht{constructor(){super("facebook.com")}static credential(t){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.FACEBOOK_SIGN_IN_METHOD="facebook.com",e.PROVIDER_ID="facebook.com",e})(),pt=(()=>{class e extends ht{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.GOOGLE_SIGN_IN_METHOD="google.com",e.PROVIDER_ID="google.com",e})(),gt=(()=>{class e extends ht{constructor(){super("github.com")}static credential(t){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return e.credential(t.oauthAccessToken)}catch(n){return null}}}return e.GITHUB_SIGN_IN_METHOD="github.com",e.PROVIDER_ID="github.com",e})();class mt extends xe{constructor(e,t){super(e,e),this.pendingToken=t}_getIdTokenResponse(e){return Je(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,Je(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Je(e,t)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r,pendingToken:i}=t;return n&&r&&i&&n===r?new mt(n,i):null}static _create(e,t){return new mt(e,t)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class _t extends ut{constructor(e){b(e.startsWith("saml."),"argument-error"),super(e)}static credentialFromResult(e){return _t.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return _t.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const t=mt.fromJSON(e);return b(t,"argument-error"),t}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:t,providerId:n}=e;if(!t||!n)return null;try{return mt._create(n,t)}catch(r){return null}}}let yt=(()=>{class e extends ht{constructor(){super("twitter.com")}static credential(t,n){return et._fromParams({providerId:e.PROVIDER_ID,signInMethod:e.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return e.credential(n,r)}catch(i){return null}}}return e.TWITTER_SIGN_IN_METHOD="twitter.com",e.PROVIDER_ID="twitter.com",e})();function bt(e,t){return vt.apply(this,arguments)}function vt(){return(vt=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signUp",A(e,t))})).apply(this,arguments)}class wt{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,n,i=!1){return(0,r.Z)(function*(){const r=yield ue._fromIdTokenResponse(e,n,i),o=Ct(n);return new wt({user:r,providerId:o,_tokenResponse:n,operationType:t})})()}static _forOperation(e,t,n){return(0,r.Z)(function*(){yield e._updateTokensIfNecessary(n,!0);const r=Ct(n);return new wt({user:e,providerId:r,_tokenResponse:n,operationType:t})})()}}function Ct(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function Ot(){return(Ot=(0,r.Z)(function*(e){var t;const n=Se(e);if(yield n._initializationPromise,null===(t=n.currentUser)||void 0===t?void 0:t.isAnonymous)return new wt({user:n.currentUser,providerId:null,operationType:"signIn"});const r=yield bt(n,{returnSecureToken:!0}),i=yield wt._fromIdTokenResponse(n,"signIn",r,!0);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Pt extends o.ZR{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,Pt.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new Pt(e,t,n,r)}}function Tt(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(n=>{if("auth/multi-factor-auth-required"===n.code)throw Pt._fromErrorAndOperation(e,n,t,r);throw n})}function Mt(e){return new Set(e.map(({providerId:e})=>e).filter(e=>!!e))}function St(){return(St=(0,r.Z)(function*(e,t){const n=(0,o.m9)(e);yield Et(!0,n,t);const{providerUserInfo:r}=yield B(n.auth,{idToken:yield n.getIdToken(),deleteProvider:[t]}),i=Mt(r||[]);return n.providerData=n.providerData.filter(e=>i.has(e.providerId)),i.has("phone")||(n.phoneNumber=null),yield n.auth._persistUserIfCurrent(n),n})).apply(this,arguments)}function It(e,t){return kt.apply(this,arguments)}function kt(){return(kt=(0,r.Z)(function*(e,t,n=!1){const r=yield Q(e,t._linkToIdToken(e.auth,yield e.getIdToken()),n);return wt._forOperation(e,"link",r)})).apply(this,arguments)}function Et(e,t,n){return xt.apply(this,arguments)}function xt(){return(xt=(0,r.Z)(function*(e,t,n){yield ne(t);const r=!1===e?"provider-already-linked":"no-such-provider";b(Mt(t.providerData).has(n)===e,t.auth,r)})).apply(this,arguments)}function At(e,t){return Dt.apply(this,arguments)}function Dt(){return(Dt=(0,r.Z)(function*(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const o=yield Q(e,Tt(r,i,t,e),n);b(o.idToken,r,"internal-error");const s=Y(o.idToken);b(s,r,"internal-error");const{sub:a}=s;return b(e.uid===a,r,"user-mismatch"),wt._forOperation(e,i,o)}catch(o){throw"auth/user-not-found"===(null==o?void 0:o.code)&&p(r,"user-mismatch"),o}})).apply(this,arguments)}function Nt(e,t){return Rt.apply(this,arguments)}function Rt(){return(Rt=(0,r.Z)(function*(e,t,n=!1){const r="signIn",i=yield Tt(e,r,t),o=yield wt._fromIdTokenResponse(e,r,i);return n||(yield e._updateCurrentUser(o.user)),o})).apply(this,arguments)}function Ft(e,t){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,r.Z)(function*(e,t){return Nt(Se(e),t)})).apply(this,arguments)}function qt(e,t){return Ut.apply(this,arguments)}function Ut(){return(Ut=(0,r.Z)(function*(e,t){const n=(0,o.m9)(e);return yield Et(!1,n,t.providerId),It(n,t)})).apply(this,arguments)}function Vt(e,t){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,r.Z)(function*(e,t){return At((0,o.m9)(e),t)})).apply(this,arguments)}function jt(e,t){return Bt.apply(this,arguments)}function Bt(){return(Bt=(0,r.Z)(function*(e,t){return L(e,"POST","/v1/accounts:signInWithCustomToken",A(e,t))})).apply(this,arguments)}function zt(){return(zt=(0,r.Z)(function*(e,t){const n=Se(e),r=yield jt(n,{token:t,returnSecureToken:!0}),i=yield wt._fromIdTokenResponse(n,"signIn",r);return yield n._updateCurrentUser(i.user),i})).apply(this,arguments)}class Ht{constructor(e,t){this.factorId=e,this.uid=t.mfaEnrollmentId,this.enrollmentTime=new Date(t.enrolledAt).toUTCString(),this.displayName=t.displayName}static _fromServerResponse(e,t){return"phoneInfo"in t?$t._fromServerResponse(e,t):p(e,"internal-error")}}class $t extends Ht{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,t){return new $t(t)}}function Gt(e,t,n){var r;b((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),b(void 0===n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(b(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(b(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Wt(){return(Wt=(0,r.Z)(function*(e,t,n){const r=(0,o.m9)(e),i={requestType:"PASSWORD_RESET",email:t};n&&Gt(r,i,n),yield Be(r,i)})).apply(this,arguments)}function Kt(){return(Kt=(0,r.Z)(function*(e,t,n){yield Ae((0,o.m9)(e),{oobCode:t,newPassword:n})})).apply(this,arguments)}function Yt(){return(Yt=(0,r.Z)(function*(e,t){yield Fe((0,o.m9)(e),{oobCode:t})})).apply(this,arguments)}function Qt(e,t){return Jt.apply(this,arguments)}function Jt(){return(Jt=(0,r.Z)(function*(e,t){const n=(0,o.m9)(e),r=yield Ae(n,{oobCode:t}),i=r.requestType;switch(b(i,n,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":b(r.newEmail,n,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":b(r.mfaInfo,n,"internal-error");default:b(r.email,n,"internal-error")}let s=null;return r.mfaInfo&&(s=Ht._fromServerResponse(Se(n),r.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.newEmail:r.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===r.requestType?r.email:r.newEmail)||null,multiFactorInfo:s},operation:i}})).apply(this,arguments)}function Xt(){return(Xt=(0,r.Z)(function*(e,t){const{data:n}=yield Qt((0,o.m9)(e),t);return n.email})).apply(this,arguments)}function en(){return(en=(0,r.Z)(function*(e,t,n){const r=Se(e),i=yield bt(r,{returnSecureToken:!0,email:t,password:n}),o=yield wt._fromIdTokenResponse(r,"signIn",i);return yield r._updateCurrentUser(o.user),o})).apply(this,arguments)}function tn(){return(tn=(0,r.Z)(function*(e,t,n){const r=(0,o.m9)(e),i={requestType:"EMAIL_SIGNIN",email:t};b(n.handleCodeInApp,r,"argument-error"),n&&Gt(r,i,n),yield He(r,i)})).apply(this,arguments)}function nn(){return(nn=(0,r.Z)(function*(e,t,n){const r=(0,o.m9)(e),i=lt.credentialWithLink(t,n||P());return b(i._tenantId===(r.tenantId||null),r,"tenant-id-mismatch"),Ft(r,i)})).apply(this,arguments)}function rn(e,t){return on.apply(this,arguments)}function on(){return(on=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:createAuthUri",A(e,t))})).apply(this,arguments)}function sn(){return(sn=(0,r.Z)(function*(e,t){const n={identifier:t,continueUri:T()?P():"http://localhost"},{signinMethods:r}=yield rn((0,o.m9)(e),n);return r||[]})).apply(this,arguments)}function an(){return(an=(0,r.Z)(function*(e,t){const n=(0,o.m9)(e),r={requestType:"VERIFY_EMAIL",idToken:yield e.getIdToken()};t&&Gt(n.auth,r,t);const{email:i}=yield Ze(n.auth,r);i!==e.email&&(yield e.reload())})).apply(this,arguments)}function cn(){return(cn=(0,r.Z)(function*(e,t,n){const r=(0,o.m9)(e),i={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield e.getIdToken(),newEmail:t};n&&Gt(r.auth,i,n);const{email:s}=yield Ge(r.auth,i);s!==e.email&&(yield e.reload())})).apply(this,arguments)}function ln(e,t){return un.apply(this,arguments)}function un(){return(un=(0,r.Z)(function*(e,t){return D(e,"POST","/v1/accounts:update",t)})).apply(this,arguments)}function hn(){return(hn=(0,r.Z)(function*(e,{displayName:t,photoURL:n}){if(void 0===t&&void 0===n)return;const r=(0,o.m9)(e),i={idToken:yield r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},s=yield Q(r,ln(r.auth,i));r.displayName=s.displayName||null,r.photoURL=s.photoUrl||null;const a=r.providerData.find(({providerId:e})=>"password"===e);a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),yield r._updateTokensIfNecessary(s)})).apply(this,arguments)}function dn(e,t,n){return fn.apply(this,arguments)}function fn(){return(fn=(0,r.Z)(function*(e,t,n){const{auth:r}=e,i={idToken:yield e.getIdToken(),returnSecureToken:!0};t&&(i.email=t),n&&(i.password=n);const o=yield Q(e,Ne(r,i));yield e._updateTokensIfNecessary(o,!0)})).apply(this,arguments)}class pn{constructor(e,t,n={}){this.isNewUser=e,this.providerId=t,this.profile=n}}class gn extends pn{constructor(e,t,n,r){super(e,t,n),this.username=r}}class mn extends pn{constructor(e,t){super(e,"facebook.com",t)}}class _n extends gn{constructor(e,t){super(e,"github.com",t,"string"==typeof(null==t?void 0:t.login)?null==t?void 0:t.login:null)}}class yn extends pn{constructor(e,t){super(e,"google.com",t)}}class bn extends gn{constructor(e,t,n){super(e,"twitter.com",t,n)}}function vn(e){const{user:t,_tokenResponse:n}=e;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;const{providerId:r}=e,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},o=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null==e?void 0:e.idToken)){const r=null===(n=null===(t=Y(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(r)return new pn(o,"anonymous"!==r&&"custom"!==r?r:null)}if(!r)return null;switch(r){case"facebook.com":return new mn(o,i);case"github.com":return new _n(o,i);case"google.com":return new yn(o,i);case"twitter.com":return new bn(o,i,e.screenName||null);case"custom":case"anonymous":return new pn(o,null);default:return new pn(o,r,i)}}(n)}class wn{constructor(e,t){this.type=e,this.credential=t}static _fromIdtoken(e){return new wn("enroll",e)}static _fromMfaPendingCredential(e){return new wn("signin",e)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){var t,n;if(null==e?void 0:e.multiFactorSession){if(null===(t=e.multiFactorSession)||void 0===t?void 0:t.pendingCredential)return wn._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(null===(n=e.multiFactorSession)||void 0===n?void 0:n.idToken)return wn._fromIdtoken(e.multiFactorSession.idToken)}return null}}class Cn{constructor(e,t,n){this.session=e,this.hints=t,this.signInResolver=n}static _fromError(e,t){const n=Se(e),i=t.customData._serverResponse,o=(i.mfaInfo||[]).map(e=>Ht._fromServerResponse(n,e));b(i.mfaPendingCredential,n,"internal-error");const s=wn._fromMfaPendingCredential(i.mfaPendingCredential);return new Cn(s,o,function(){var e=(0,r.Z)(function*(e){const r=yield e._process(n,s);delete i.mfaInfo,delete i.mfaPendingCredential;const o=Object.assign(Object.assign({},i),{idToken:r.idToken,refreshToken:r.refreshToken});switch(t.operationType){case"signIn":const e=yield wt._fromIdTokenResponse(n,t.operationType,o);return yield n._updateCurrentUser(e.user),e;case"reauthenticate":return b(t.user,n,"internal-error"),wt._forOperation(t.user,t.operationType,o);default:p(n,"internal-error")}});return function(t){return e.apply(this,arguments)}}())}resolveSignIn(e){var t=this;return(0,r.Z)(function*(){return t.signInResolver(e)})()}}function On(e,t){return D(e,"POST","/v2/accounts/mfaEnrollment:start",A(e,t))}class Pn{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(t=>{t.mfaInfo&&(this.enrolledFactors=t.mfaInfo.map(t=>Ht._fromServerResponse(e.auth,t)))})}static _fromUser(e){return new Pn(e)}getSession(){var e=this;return(0,r.Z)(function*(){return wn._fromIdtoken(yield e.user.getIdToken())})()}enroll(e,t){var n=this;return(0,r.Z)(function*(){const r=e,i=yield n.getSession(),o=yield Q(n.user,r._process(n.user.auth,i,t));return yield n.user._updateTokensIfNecessary(o),n.user.reload()})()}unenroll(e){var t=this;return(0,r.Z)(function*(){const n="string"==typeof e?e:e.uid,r=yield t.user.getIdToken(),i=yield Q(t.user,(o=t.user.auth,s={idToken:r,mfaEnrollmentId:n},D(o,"POST","/v2/accounts/mfaEnrollment:withdraw",A(o,s))));var o,s;t.enrolledFactors=t.enrolledFactors.filter(({uid:e})=>e!==n),yield t.user._updateTokensIfNecessary(i);try{yield t.user.reload()}catch(a){if("auth/user-token-expired"!==a.code)throw a}})()}}const Tn=new WeakMap,Mn="__sak";class Sn{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Mn,"1"),this.storage.removeItem(Mn),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const In=(()=>{class e extends Sn{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function(){const e=(0,o.z$)();return me(e)||Ce(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),this.fallbackToPolling=Oe(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e,t=!1){if(!e.key)return void this.forAllChangedKeys((e,t,n)=>{this.notifyListeners(e,n)});const n=e.key;if(t?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const r=this.storage.getItem(n);if(e.newValue!==r)null!==e.newValue?this.storage.setItem(n,e.newValue):this.storage.removeItem(n);else if(this.localCache[n]===e.newValue&&!t)return}const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);(0,o.w1)()&&10===document.documentMode&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(e,t){var n=()=>super._set,i=this;return(0,r.Z)(function*(){yield n().call(i,e,t),i.localCache[e]=JSON.stringify(t)})()}_get(e){var t=()=>super._get,n=this;return(0,r.Z)(function*(){const r=yield t().call(n,e);return n.localCache[e]=JSON.stringify(r),r})()}_remove(e){var t=()=>super._remove,n=this;return(0,r.Z)(function*(){yield t().call(n,e),delete n.localCache[e]})()}}return e.type="LOCAL",e})(),kn=(()=>{class e extends Sn{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}return e.type="SESSION",e})();let En=(()=>{class e{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(e=>e.isListeningto(t));if(n)return n;const r=new e(t);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}handleEvent(e){var t=this;return(0,r.Z)(function*(){const n=e,{eventId:i,eventType:o,data:s}=n.data,a=t.handlersMap[o];if(!(null==a?void 0:a.size))return;n.ports[0].postMessage({status:"ack",eventId:i,eventType:o});const c=Array.from(a).map(function(){var e=(0,r.Z)(function*(e){return e(n.origin,s)});return function(t){return e.apply(this,arguments)}}()),l=yield function(e){return Promise.all(e.map(function(){var e=(0,r.Z)(function*(e){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}});return function(t){return e.apply(this,arguments)}}()))}(c);n.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})()}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return e.receivers=[],e})();function xn(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}class An{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,n=50){var i=this;return(0,r.Z)(function*(){const r="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,s;return new Promise((a,c)=>{const l=xn("",20);r.port1.start();const u=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(u),o=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(t.data.response);break;default:clearTimeout(u),clearTimeout(o),c(new Error("invalid_response"))}}},i.handlers.add(s),r.port1.addEventListener("message",s.onMessage),i.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])}).finally(()=>{s&&i.removeMessageHandler(s)})})()}}function Dn(){return window}function Nn(){return void 0!==Dn().WorkerGlobalScope&&"function"==typeof Dn().importScripts}function Rn(){return(Rn=(0,r.Z)(function*(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(e){return null}})).apply(this,arguments)}const Fn="firebaseLocalStorageDb",Ln="firebaseLocalStorage",qn="fbase_key";class Un{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Vn(e,t){return e.transaction([Ln],t?"readwrite":"readonly").objectStore(Ln)}function Zn(){const e=indexedDB.open(Fn,1);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const t=e.result;try{t.createObjectStore(Ln,{keyPath:qn})}catch(r){n(r)}}),e.addEventListener("success",(0,r.Z)(function*(){const n=e.result;n.objectStoreNames.contains(Ln)?t(n):(n.close(),yield function(){const e=indexedDB.deleteDatabase(Fn);return new Un(e).toPromise()}(),t(yield Zn()))}))})}function jn(e,t,n){return Bn.apply(this,arguments)}function Bn(){return(Bn=(0,r.Z)(function*(e,t,n){const r=Vn(e,!0).put({[qn]:t,value:n});return new Un(r).toPromise()})).apply(this,arguments)}function zn(){return(zn=(0,r.Z)(function*(e,t){const n=Vn(e,!1).get(t),r=yield new Un(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function Hn(e,t){const n=Vn(e,!0).delete(t);return new Un(n).toPromise()}const $n=(()=>{class e{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var e=this;return(0,r.Z)(function*(){return e.db||(e.db=yield Zn()),e.db})()}_withRetries(e){var t=this;return(0,r.Z)(function*(){let n=0;for(;;)try{const n=yield t._openDb();return yield e(n)}catch(r){if(n++>3)throw r;t.db&&(t.db.close(),t.db=void 0)}})()}initializeServiceWorkerMessaging(){var e=this;return(0,r.Z)(function*(){return Nn()?e.initializeReceiver():e.initializeSender()})()}initializeReceiver(){var e=this;return(0,r.Z)(function*(){e.receiver=En._getInstance(Nn()?self:null),e.receiver._subscribe("keyChanged",function(){var t=(0,r.Z)(function*(t,n){return{keyProcessed:(yield e._poll()).includes(n.key)}});return function(e,n){return t.apply(this,arguments)}}()),e.receiver._subscribe("ping",function(){var e=(0,r.Z)(function*(e,t){return["keyChanged"]});return function(t,n){return e.apply(this,arguments)}}())})()}initializeSender(){var e=this;return(0,r.Z)(function*(){var t,n;if(e.activeServiceWorker=yield function(){return Rn.apply(this,arguments)}(),!e.activeServiceWorker)return;e.sender=new An(e.activeServiceWorker);const r=yield e.sender._send("ping",{},800);r&&(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(e.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(e){var t=this;return(0,r.Z)(function*(){var n;if(t.sender&&t.activeServiceWorker&&((null===(n=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===n?void 0:n.controller)||null)===t.activeServiceWorker)try{yield t.sender._send("keyChanged",{key:e},t.serviceWorkerReceiverAvailable?800:50)}catch(n){}})()}_isAvailable(){return(0,r.Z)(function*(){try{if(!indexedDB)return!1;const e=yield Zn();return yield jn(e,Mn,"1"),yield Hn(e,Mn),!0}catch(e){}return!1})()}_withPendingWrite(e){var t=this;return(0,r.Z)(function*(){t.pendingWrites++;try{yield e()}finally{t.pendingWrites--}})()}_set(e,t){var n=this;return(0,r.Z)(function*(){return n._withPendingWrite((0,r.Z)(function*(){return yield n._withRetries(n=>jn(n,e,t)),n.localCache[e]=t,n.notifyServiceWorker(e)}))})()}_get(e){var t=this;return(0,r.Z)(function*(){const n=yield t._withRetries(t=>function(e,t){return zn.apply(this,arguments)}(t,e));return t.localCache[e]=n,n})()}_remove(e){var t=this;return(0,r.Z)(function*(){return t._withPendingWrite((0,r.Z)(function*(){return yield t._withRetries(t=>Hn(t,e)),delete t.localCache[e],t.notifyServiceWorker(e)}))})()}_poll(){var e=this;return(0,r.Z)(function*(){const t=yield e._withRetries(e=>{const t=Vn(e,!1).getAll();return new Un(t).toPromise()});if(!t)return[];if(0!==e.pendingWrites)return[];const n=[],r=new Set;for(const{fbase_key:i,value:o}of t)r.add(i),JSON.stringify(e.localCache[i])!==JSON.stringify(o)&&(e.notifyListeners(i,o),n.push(i));for(const i of Object.keys(e.localCache))e.localCache[i]&&!r.has(i)&&(e.notifyListeners(i,null),n.push(i));return n})()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){var e=this;this.stopPolling(),this.pollTimer=setInterval((0,r.Z)(function*(){return e._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return e.type="LOCAL",e})();function Gn(e,t){return D(e,"POST","/v2/accounts/mfaSignIn:start",A(e,t))}function Wn(){return(Wn=(0,r.Z)(function*(e){return(yield D(e,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Kn(e){return new Promise((t,n)=>{const r=document.createElement("script");var i,o;r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=g("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",(null!==(o=null===(i=document.getElementsByTagName("head"))||void 0===i?void 0:i[0])&&void 0!==o?o:document).appendChild(r)})}function Yn(e){return`__${e}${Math.floor(1e6*Math.random())}`}const Qn=1e12;class Jn{constructor(e){this.auth=e,this.counter=Qn,this._widgets=new Map}render(e,t){const n=this.counter;return this._widgets.set(n,new Xn(e,this.auth.name,t||{})),this.counter++,n}reset(e){var t;const n=e||Qn;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}getResponse(e){var t;return(null===(t=this._widgets.get(e||Qn))||void 0===t?void 0:t.getResponse())||""}execute(e){var t=this;return(0,r.Z)(function*(){var n;return null===(n=t._widgets.get(e||Qn))||void 0===n||n.execute(),""})()}}class Xn{constructor(e,t,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const r="string"==typeof e?document.getElementById(e):e;b(r,"argument-error",{appName:t}),this.container=r,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout(()=>{this.responseToken=function(e){const t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let r=0;r<50;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}();const{callback:e,"expired-callback":t}=this.params;if(e)try{e(this.responseToken)}catch(n){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,t)try{t()}catch(n){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const er=Yn("rcb"),tr=new S(3e4,6e4);class nr{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!Dn().grecaptcha}load(e,t=""){return b(function(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}(t),e,"argument-error"),this.shouldResolveImmediately(t)?Promise.resolve(Dn().grecaptcha):new Promise((n,r)=>{const i=Dn().setTimeout(()=>{r(g(e,"network-request-failed"))},tr.get());Dn()[er]=()=>{Dn().clearTimeout(i),delete Dn()[er];const o=Dn().grecaptcha;if(!o)return void r(g(e,"internal-error"));const s=o.render;o.render=(e,t)=>{const n=s(e,t);return this.counter++,n},this.hostLanguage=t,n(o)},Kn(`https://www.google.com/recaptcha/api.js??${(0,o.xO)({onload:er,render:"explicit",hl:t})}`).catch(()=>{clearTimeout(i),r(g(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!Dn().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class rr{load(e){return(0,r.Z)(function*(){return new Jn(e)})()}clearedOneInstance(){}}const ir="recaptcha",or={theme:"light",type:"image"};class sr{constructor(e,t=Object.assign({},or),n){this.parameters=t,this.type=ir,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Se(n),this.isInvisible="invisible"===this.parameters.size,b("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const r="string"==typeof e?document.getElementById(e):e;b(r,this.auth,"argument-error"),this.container=r,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new rr:new nr,this.validateStartingState()}verify(){var e=this;return(0,r.Z)(function*(){e.assertNotDestroyed();const t=yield e.render(),n=e.getAssertedRecaptcha();return n.getResponse(t)||new Promise(r=>{const i=t=>{t&&(e.tokenChangeListeners.delete(i),r(t))};e.tokenChangeListeners.add(i),e.isInvisible&&n.execute(t)})})()}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){b(!this.parameters.sitekey,this.auth,"argument-error"),b(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),b("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return t=>{if(this.tokenChangeListeners.forEach(e=>e(t)),"function"==typeof e)e(t);else if("string"==typeof e){const n=Dn()[e];"function"==typeof n&&n(t)}}}assertNotDestroyed(){b(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var e=this;return(0,r.Z)(function*(){if(yield e.init(),!e.widgetId){let t=e.container;if(!e.isInvisible){const e=document.createElement("div");t.appendChild(e),t=e}e.widgetId=e.getAssertedRecaptcha().render(t,e.parameters)}return e.widgetId})()}init(){var e=this;return(0,r.Z)(function*(){b(T()&&!Nn(),e.auth,"internal-error"),yield function(){let e=null;return new Promise(t=>{"complete"!==document.readyState?(e=()=>t(),window.addEventListener("load",e)):t()}).catch(t=>{throw e&&window.removeEventListener("load",e),t})}(),e.recaptcha=yield e._recaptchaLoader.load(e.auth,e.auth.languageCode||void 0);const t=yield function(e){return Wn.apply(this,arguments)}(e.auth);b(t,e.auth,"internal-error"),e.parameters.sitekey=t})()}getAssertedRecaptcha(){return b(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class ar{constructor(e,t){this.verificationId=e,this.onConfirmation=t}confirm(e){const t=at._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}function cr(){return(cr=(0,r.Z)(function*(e,t,n){const r=Se(e),i=yield hr(r,t,(0,o.m9)(n));return new ar(i,e=>Ft(r,e))})).apply(this,arguments)}function lr(){return(lr=(0,r.Z)(function*(e,t,n){const r=(0,o.m9)(e);yield Et(!1,r,"phone");const i=yield hr(r.auth,t,(0,o.m9)(n));return new ar(i,e=>qt(r,e))})).apply(this,arguments)}function ur(){return(ur=(0,r.Z)(function*(e,t,n){const r=(0,o.m9)(e),i=yield hr(r.auth,t,(0,o.m9)(n));return new ar(i,e=>Vt(r,e))})).apply(this,arguments)}function hr(e,t,n){return dr.apply(this,arguments)}function dr(){return(dr=(0,r.Z)(function*(e,t,n){var r;const i=yield n.verify();try{let o;if(b("string"==typeof i,e,"argument-error"),b(n.type===ir,e,"argument-error"),o="string"==typeof t?{phoneNumber:t}:t,"session"in o){const t=o.session;if("phoneNumber"in o)return b("enroll"===t.type,e,"internal-error"),(yield On(e,{idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:i}})).phoneSessionInfo.sessionInfo;{b("signin"===t.type,e,"internal-error");const n=(null===(r=o.multiFactorHint)||void 0===r?void 0:r.uid)||o.multiFactorUid;return b(n,e,"missing-multi-factor-info"),(yield Gn(e,{mfaPendingCredential:t.credential,mfaEnrollmentId:n,phoneSignInInfo:{recaptchaToken:i}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:t}=yield tt(e,{phoneNumber:o.phoneNumber,recaptchaToken:i});return t}}finally{n._reset()}})).apply(this,arguments)}function fr(){return(fr=(0,r.Z)(function*(e,t){yield It((0,o.m9)(e),t)})).apply(this,arguments)}let pr=(()=>{class e{constructor(t){this.providerId=e.PROVIDER_ID,this.auth=Se(t)}verifyPhoneNumber(e,t){return hr(this.auth,e,(0,o.m9)(t))}static credential(e,t){return at._fromVerification(e,t)}static credentialFromResult(t){return e.credentialFromTaggedObject(t)}static credentialFromError(t){return e.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:t,temporaryProof:n}=e;return t&&n?at._fromTokenResponse(t,n):null}}return e.PROVIDER_ID="phone",e.PHONE_SIGN_IN_METHOD="phone",e})();function gr(e,t){return t?O(t):(b(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}class mr extends xe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Je(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Je(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Je(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function _r(e){return Nt(e.auth,new mr(e),e.bypassAuthState)}function yr(e){const{auth:t,user:n}=e;return b(n,t,"internal-error"),At(n,new mr(e),e.bypassAuthState)}function br(e){return vr.apply(this,arguments)}function vr(){return(vr=(0,r.Z)(function*(e){const{auth:t,user:n}=e;return b(n,t,"internal-error"),It(n,new mr(e),e.bypassAuthState)})).apply(this,arguments)}class wr{constructor(e,t,n,r,i=!1){this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=(0,r.Z)(function*(t,n){e.pendingPromise={resolve:t,reject:n};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(r){e.reject(r)}});return function(e,n){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return(0,r.Z)(function*(){const{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s)return void t.reject(s);const c={auth:t.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(a)(c))}catch(l){t.reject(l)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return _r;case"linkViaPopup":case"linkViaRedirect":return br;case"reauthViaPopup":case"reauthViaRedirect":return yr;default:p(this.auth,"internal-error")}}resolve(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){w(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Cr=new S(2e3,1e4);function Or(){return(Or=(0,r.Z)(function*(e,t,n){const r=Se(e);_(e,t,ut);const i=gr(r,n);return new Mr(r,"signInViaPopup",t,i).executeNotNull()})).apply(this,arguments)}function Pr(){return(Pr=(0,r.Z)(function*(e,t,n){const r=(0,o.m9)(e);_(r.auth,t,ut);const i=gr(r.auth,n);return new Mr(r.auth,"reauthViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}function Tr(){return(Tr=(0,r.Z)(function*(e,t,n){const r=(0,o.m9)(e);_(r.auth,t,ut);const i=gr(r.auth,n);return new Mr(r.auth,"linkViaPopup",t,i,r).executeNotNull()})).apply(this,arguments)}let Mr=(()=>{class e extends wr{constructor(t,n,r,i,o){super(t,n,i,o),this.provider=r,this.authWindow=null,this.pollId=null,e.currentPopupAction&&e.currentPopupAction.cancel(),e.currentPopupAction=this}executeNotNull(){var e=this;return(0,r.Z)(function*(){const t=yield e.execute();return b(t,e.auth,"internal-error"),t})()}onExecution(){var e=this;return(0,r.Z)(function*(){w(1===e.filter.length,"Popup operations only handle one event");const t=xn();e.authWindow=yield e.resolver._openPopup(e.auth,e.provider,e.filter[0],t),e.authWindow.associatedEvent=t,e.resolver._originValidation(e.auth).catch(t=>{e.reject(t)}),e.resolver._isIframeWebStorageSupported(e.auth,t=>{t||e.reject(g(e.auth,"web-storage-unsupported"))}),e.pollUserCancellation()})()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(g(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,e.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;this.pollId=(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(g(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(e,Cr.get())};e()}}return e.currentPopupAction=null,e})();const Sr=new Map;class Ir extends wr{constructor(e,t,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,n),this.eventId=null}execute(){var e=()=>super.execute,t=this;return(0,r.Z)(function*(){let n=Sr.get(t.auth._key());if(!n){try{const r=(yield function(e,t){return kr.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;n=()=>Promise.resolve(r)}catch(r){n=()=>Promise.reject(r)}Sr.set(t.auth._key(),n)}return t.bypassAuthState||Sr.set(t.auth._key(),()=>Promise.resolve(null)),n()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,n=this;return(0,r.Z)(function*(){if("signInViaRedirect"===e.type)return t().call(n,e);if("unknown"!==e.type){if(e.eventId){const r=yield n.auth._redirectUserForId(e.eventId);if(r)return n.user=r,t().call(n,e);n.resolve(null)}}else n.resolve(null)})()}onExecution(){return(0,r.Z)(function*(){})()}cleanUp(){}}function kr(){return(kr=(0,r.Z)(function*(e,t){const n=Nr(t),r=Dr(e);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Er(e,t){return xr.apply(this,arguments)}function xr(){return(xr=(0,r.Z)(function*(e,t){return Dr(e)._set(Nr(t),"true")})).apply(this,arguments)}function Ar(e,t){Sr.set(e._key(),t)}function Dr(e){return O(e._redirectPersistence)}function Nr(e){return de("pendingRedirect",e.config.apiKey,e.name)}function Rr(){return(Rr=(0,r.Z)(function*(e,t,n){const r=Se(e);_(e,t,ut);const i=gr(r,n);return yield Er(i,r),i._openRedirect(r,t,"signInViaRedirect")})).apply(this,arguments)}function Fr(){return(Fr=(0,r.Z)(function*(e,t,n){const r=(0,o.m9)(e);_(r.auth,t,ut);const i=gr(r.auth,n);yield Er(i,r.auth);const s=yield Zr(r);return i._openRedirect(r.auth,t,"reauthViaRedirect",s)})).apply(this,arguments)}function Lr(){return(Lr=(0,r.Z)(function*(e,t,n){const r=(0,o.m9)(e);_(r.auth,t,ut);const i=gr(r.auth,n);yield Et(!1,r,t.providerId),yield Er(i,r.auth);const s=yield Zr(r);return i._openRedirect(r.auth,t,"linkViaRedirect",s)})).apply(this,arguments)}function qr(){return(qr=(0,r.Z)(function*(e,t){return yield Se(e)._initializationPromise,Ur(e,t,!1)})).apply(this,arguments)}function Ur(e,t){return Vr.apply(this,arguments)}function Vr(){return(Vr=(0,r.Z)(function*(e,t,n=!1){const r=Se(e),i=gr(r,t),o=new Ir(r,i,n),s=yield o.execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,t)),s})).apply(this,arguments)}function Zr(e){return jr.apply(this,arguments)}function jr(){return(jr=(0,r.Z)(function*(e){const t=xn(`${e.uid}:::`);return e._redirectEventId=t,yield e.auth._setRedirectUser(e),yield e.auth._persistUserIfCurrent(e),t})).apply(this,arguments)}class Br{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Hr(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!Hr(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(g(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(zr(e))}saveEventToCache(e){this.cachedEventUids.add(zr(e)),this.lastProcessedEventTime=Date.now()}}function zr(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(e=>e).join("-")}function Hr({type:e,error:t}){return"unknown"===e&&"auth/no-auth-event"===(null==t?void 0:t.code)}function $r(e){return Gr.apply(this,arguments)}function Gr(){return(Gr=(0,r.Z)(function*(e,t={}){return D(e,"GET","/v1/projects",t)})).apply(this,arguments)}const Wr=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Kr=/^https?/;function Yr(){return(Yr=(0,r.Z)(function*(e){if(e.config.emulator)return;const{authorizedDomains:t}=yield $r(e);for(const r of t)try{if(Qr(r))return}catch(n){}p(e,"unauthorized-domain")})).apply(this,arguments)}function Qr(e){const t=P(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!Kr.test(n))return!1;if(Wr.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Jr=new S(3e4,6e4);function Xr(){const e=Dn().___jsl;if(null==e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}let ei=null;function ti(e){return ei=ei||function(e){return new Promise((t,n)=>{var r,i,o;function s(){Xr(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Xr(),n(g(e,"network-request-failed"))},timeout:Jr.get()})}if(null===(i=null===(r=Dn().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(o=Dn().gapi)||void 0===o?void 0:o.load)){const t=Yn("iframefcb");return Dn()[t]=()=>{gapi.load?s():n(g(e,"network-request-failed"))},Kn(`https://apis.google.com/js/api.js?onload=${t}`).catch(e=>n(e))}s()}}).catch(e=>{throw ei=null,e})}(e),ei}const ni=new S(5e3,15e3),ri={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},ii=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function oi(e){const t=e.config;b(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?I(t,"emulator/auth/iframe"):`https://${e.config.authDomain}/__/auth/iframe`,r={apiKey:t.apiKey,appName:e.name,v:s.SDK_VERSION},i=ii.get(e.config.apiHost);i&&(r.eid=i);const a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${(0,o.xO)(r).slice(1)}`}function si(){return(si=(0,r.Z)(function*(e){const t=yield ti(e),n=Dn().gapi;return b(n,e,"internal-error"),t.open({where:document.body,url:oi(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ri,dontclear:!0},t=>new Promise(function(){var n=(0,r.Z)(function*(n,r){yield t.restyle({setHideOnLeave:!1});const i=g(e,"network-request-failed"),o=Dn().setTimeout(()=>{r(i)},ni.get());function s(){Dn().clearTimeout(o),n(t)}t.ping(s).then(s,()=>{r(i)})});return function(e,t){return n.apply(this,arguments)}}()))})).apply(this,arguments)}const ai={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ci{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(e){}}}function li(e,t,n,r,i,a){b(e.config.authDomain,e,"auth-domain-config-required"),b(e.config.apiKey,e,"invalid-api-key");const c={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:s.SDK_VERSION,eventId:i};if(t instanceof ut){t.setDefaultLanguage(e.languageCode),c.providerId=t.providerId||"",(0,o.xb)(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(a||{}))c[e]=t}if(t instanceof ht){const e=t.getScopes().filter(e=>""!==e);e.length>0&&(c.scopes=e.join(","))}e.tenantId&&(c.tid=e.tenantId);const l=c;for(const o of Object.keys(l))void 0===l[o]&&delete l[o];return`${function({config:e}){return e.emulator?I(e,"emulator/auth/handler"):`https://${e.authDomain}/__/auth/handler`}(e)}?${(0,o.xO)(l).slice(1)}`}const ui="webStorageSupport";class hi extends class{constructor(e){this.factorId=e}_process(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return v("unexpected MultiFactorSessionType")}}}{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new hi(e)}_finalizeEnroll(e,t,n){return function(e,t){return D(e,"POST","/v2/accounts/mfaEnrollment:finalize",A(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,t){return function(e,t){return D(e,"POST","/v2/accounts/mfaSignIn:finalize",A(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let di=(()=>{class e{constructor(){}static assertion(e){return hi._fromCredential(e)}}return e.FACTOR_ID="phone",e})();var fi,pi="@firebase/auth",gi="0.20.3";class mi{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,r.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(t=>{var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){b(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _i(){return window}function yi(){return(yi=(0,r.Z)(function*(e,t,n){var r;const{BuildInfo:i}=_i();w(t.sessionId,"AuthEvent did not contain a session ID");const o=yield wi(t.sessionId),s={};return Ce()?s.ibi=i.packageName:be()?s.apn=i.packageName:p(e,"operation-not-supported-in-this-environment"),i.displayName&&(s.appDisplayName=i.displayName),s.sessionId=o,li(e,n,t.type,void 0,null!==(r=t.eventId)&&void 0!==r?r:void 0,s)})).apply(this,arguments)}function bi(){return(bi=(0,r.Z)(function*(e){const{BuildInfo:t}=_i(),n={};Ce()?n.iosBundleId=t.packageName:be()?n.androidPackageName=t.packageName:p(e,"operation-not-supported-in-this-environment"),yield $r(e,n)})).apply(this,arguments)}function vi(){return(vi=(0,r.Z)(function*(e,t,n){const{cordova:r}=_i();let i=()=>{};try{yield new Promise((o,s)=>{let a=null;function c(){var e;o();const t=null===(e=r.plugins.browsertab)||void 0===e?void 0:e.close;"function"==typeof t&&t(),"function"==typeof(null==n?void 0:n.close)&&n.close()}function l(){a||(a=window.setTimeout(()=>{s(g(e,"redirect-cancelled-by-user"))},2e3))}function u(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&l()}t.addPassiveListener(c),document.addEventListener("resume",l,!1),be()&&document.addEventListener("visibilitychange",u,!1),i=()=>{t.removePassiveListener(c),document.removeEventListener("resume",l,!1),document.removeEventListener("visibilitychange",u,!1),a&&window.clearTimeout(a)}})}finally{i()}})).apply(this,arguments)}function wi(e){return Ci.apply(this,arguments)}function Ci(){return(Ci=(0,r.Z)(function*(e){const t=Oi(e),n=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(n)).map(e=>e.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Oi(e){if(w(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(e);const t=new ArrayBuffer(e.length),n=new Uint8Array(t);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}fi="Browser",(0,s._registerComponent)(new l.wA("auth",(e,{options:t})=>{const n=e.getProvider("app").getImmediate(),r=e.getProvider("heartbeat"),{apiKey:i,authDomain:o}=n.options;return((e,n)=>{b(i&&!i.includes(":"),"invalid-api-key",{appName:e.name}),b(!(null==o?void 0:o.includes(":")),"argument-error",{appName:e.name});const r={apiKey:i,authDomain:o,clientPlatform:fi,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pe(fi)},s=new Me(e,n,r);return function(e,t){const n=(null==t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(O);(null==t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null==t?void 0:t.popupRedirectResolver)}(s,t),s})(n,r)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider("auth-internal").initialize()})),(0,s._registerComponent)(new l.wA("auth-internal",e=>{return t=Se(e.getProvider("auth").getImmediate()),new mi(t);var t},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,s.registerVersion)(pi,gi,void 0),(0,s.registerVersion)(pi,gi,"esm2017");class Pi extends Br{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(e=>{this.resolveInialized=e})}addPassiveListener(e){this.passiveListeners.add(e)}removePassiveListener(e){this.passiveListeners.delete(e)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(e){return this.resolveInialized(),this.passiveListeners.forEach(t=>t(e)),super.onEvent(e)}initialized(){var e=this;return(0,r.Z)(function*(){yield e.initPromise})()}}function Ti(e){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,r.Z)(function*(e){const t=yield Ii()._get(ki(e));return t&&(yield Ii()._remove(ki(e))),t})).apply(this,arguments)}function Si(){const e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<20;n++){const n=Math.floor(Math.random()*t.length);e.push(t.charAt(n))}return e.join("")}function Ii(){return O(In)}function ki(e){return de("authEvent",e.config.apiKey,e.name)}function Ei(e){if(!(null==e?void 0:e.includes("?")))return{};const[t,...n]=e.split("?");return(0,o.zd)(n.join("?"))}function xi(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:g("no-auth-event")}}function Ai(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function Di(e=(0,o.z$)()){return!("file:"!==Ai()&&"ionic:"!==Ai()&&"capacitor:"!==Ai()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function Ni(){try{const e=self.localStorage,t=xn();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(e=(0,o.z$)()){return(0,o.w1)()&&11===(null===document||void 0===document?void 0:document.documentMode)||function(e=(0,o.z$)()){return/Edge\/\d+/.test(e)}(e)}()||(0,o.hl)()}catch(e){return Ri()&&(0,o.hl)()}return!1}function Ri(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function Fi(){return("http:"===Ai()||"https:"===Ai()||(0,o.ru)()||Di())&&!((0,o.b$)()||(0,o.UG)())&&Ni()&&!Ri()}function Li(){return Di()&&"undefined"!=typeof document}function qi(){return(qi=(0,r.Z)(function*(){return!!Li()&&new Promise(e=>{const t=setTimeout(()=>{e(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(t),e(!0)})})})).apply(this,arguments)}const Ui={LOCAL:"local",NONE:"none",SESSION:"session"},Vi=b,Zi="persistence";function ji(e){return Bi.apply(this,arguments)}function Bi(){return(Bi=(0,r.Z)(function*(e){yield e._initializationPromise;const t=zi(),n=de(Zi,e.config.apiKey,e.name);t&&t.setItem(n,e._getPersistence())})).apply(this,arguments)}function zi(){var e;try{return(null===(e="undefined"!=typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}const Hi=b;class $i{constructor(){this.browserResolver=O(class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=kn,this._completeRedirectFn=Ur,this._overrideRedirectResult=Ar}_openPopup(e,t,n,i){var s=this;return(0,r.Z)(function*(){var r;w(null===(r=s.eventManagers[e._key()])||void 0===r?void 0:r.manager,"_initialize() not called before _openPopup()");const a=li(e,t,n,P(),i);return function(e,t,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const l=Object.assign(Object.assign({},ai),{width:r.toString(),height:i.toString(),top:s,left:a}),u=(0,o.z$)().toLowerCase();n&&(c=_e(u)?"_blank":n),ge(u)&&(t=t||"http://localhost",l.scrollbars="yes");const h=Object.entries(l).reduce((e,[t,n])=>`${e}${t}=${n},`,"");if(function(e=(0,o.z$)()){var t;return Ce(e)&&!!(null===(t=window.navigator)||void 0===t?void 0:t.standalone)}(u)&&"_self"!==c)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",c),new ci(null);const d=window.open(t||"",c,h);b(d,e,"popup-blocked");try{d.focus()}catch(f){}return new ci(d)}(e,a,xn())})()}_openRedirect(e,t,n,i){var o=this;return(0,r.Z)(function*(){var r;return yield o._originValidation(e),r=li(e,t,n,P(),i),Dn().location.href=r,new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(w(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch(()=>{delete this.eventManagers[t]}),n}initAndGetManager(e){var t=this;return(0,r.Z)(function*(){const n=yield function(e){return si.apply(this,arguments)}(e),r=new Br(e);return n.register("authEvent",t=>(b(null==t?void 0:t.authEvent,e,"invalid-auth-event"),{status:r.onEvent(t.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:r},t.iframes[e._key()]=n,r})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(ui,{type:ui},n=>{var r;const i=null===(r=null==n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),p(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Yr.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Oe()||me()||Ce()}}),this.cordovaResolver=O(class{constructor(){this._redirectPersistence=kn,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Ur,this._overrideRedirectResult=Ar}_initialize(e){var t=this;return(0,r.Z)(function*(){const n=e._key();let r=t.eventManagers.get(n);return r||(r=new Pi(e),t.eventManagers.set(n,r),t.attachCallbackListeners(e,r)),r})()}_openPopup(e){p(e,"operation-not-supported-in-this-environment")}_openRedirect(e,t,n,i){var s=this;return(0,r.Z)(function*(){!function(e){var t,n,r,i,o,s,a,c,l,u;const h=_i();b("function"==typeof(null===(t=null==h?void 0:h.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),b(void 0!==(null===(n=null==h?void 0:h.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),b("function"==typeof(null===(o=null===(i=null===(r=null==h?void 0:h.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===o?void 0:o.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),b("function"==typeof(null===(c=null===(a=null===(s=null==h?void 0:h.cordova)||void 0===s?void 0:s.plugins)||void 0===a?void 0:a.browsertab)||void 0===c?void 0:c.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),b("function"==typeof(null===(u=null===(l=null==h?void 0:h.cordova)||void 0===l?void 0:l.InAppBrowser)||void 0===u?void 0:u.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(e);const r=yield s._initialize(e);yield r.initialized(),r.resetRedirect(),Sr.clear(),yield s._originValidation(e);const a=function(e,t,n=null){return{type:t,eventId:n,urlResponse:null,sessionId:Si(),postBody:null,tenantId:e.tenantId,error:g(e,"no-auth-event")}}(e,n,i);yield function(e,t){return Ii()._set(ki(e),t)}(e,a);const c=yield function(e,t,n){return yi.apply(this,arguments)}(e,a,t),l=yield function(e){const{cordova:t}=_i();return new Promise(n=>{t.plugins.browsertab.isAvailable(r=>{let i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(e=(0,o.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)})})}(c);return function(e,t,n){return vi.apply(this,arguments)}(e,r,l)})()}_isIframeWebStorageSupported(e,t){throw new Error("Method not implemented.")}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return bi.apply(this,arguments)}(e)),this.originValidationPromises[t]}attachCallbackListeners(e,t){const{universalLinks:n,handleOpenURL:i,BuildInfo:o}=_i(),s=setTimeout((0,r.Z)(function*(){yield Ti(e),t.onEvent(xi())}),500),a=function(){var n=(0,r.Z)(function*(n){clearTimeout(s);const r=yield Ti(e);let i=null;r&&(null==n?void 0:n.url)&&(i=function(e,t){var n,r;const i=function(e){const t=Ei(e),n=t.link?decodeURIComponent(t.link):void 0,r=Ei(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return Ei(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){const t=Ei(i),o=t.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(t.firebaseError)):null,s=null===(r=null===(n=null==o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],a=s?g(s):null;return a?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:a,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}(r,n.url)),t.onEvent(i||xi())});return function(e){return n.apply(this,arguments)}}();void 0!==n&&"function"==typeof n.subscribe&&n.subscribe(null,a);const c=i,l=`${o.packageName.toLowerCase()}://`;_i().handleOpenURL=function(){var e=(0,r.Z)(function*(e){if(e.toLowerCase().startsWith(l)&&a({url:e}),"function"==typeof c)try{c(e)}catch(t){console.error(t)}});return function(t){return e.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=kn,this._completeRedirectFn=Ur,this._overrideRedirectResult=Ar}_initialize(e){var t=this;return(0,r.Z)(function*(){return yield t.selectUnderlyingResolver(),t.assertedUnderlyingResolver._initialize(e)})()}_openPopup(e,t,n,i){var o=this;return(0,r.Z)(function*(){return yield o.selectUnderlyingResolver(),o.assertedUnderlyingResolver._openPopup(e,t,n,i)})()}_openRedirect(e,t,n,i){var o=this;return(0,r.Z)(function*(){return yield o.selectUnderlyingResolver(),o.assertedUnderlyingResolver._openRedirect(e,t,n,i)})()}_isIframeWebStorageSupported(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}_originValidation(e){return this.assertedUnderlyingResolver._originValidation(e)}get _shouldInitProactively(){return Li()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Hi(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var e=this;return(0,r.Z)(function*(){if(e.underlyingResolver)return;const t=yield function(){return qi.apply(this,arguments)}();e.underlyingResolver=t?e.cordovaResolver:e.browserResolver})()}}function Gi(e){return e.unwrap()}function Wi(e){const{_tokenResponse:t}=e instanceof o.ZR?e.customData:e;if(!t)return null;if(!(e instanceof o.ZR)&&"temporaryProof"in t&&"phoneNumber"in t)return pr.credentialFromResult(e);const n=t.providerId;if(!n||"password"===n)return null;let r;switch(n){case"google.com":r=pt;break;case"facebook.com":r=ft;break;case"github.com":r=gt;break;case"twitter.com":r=yt;break;default:const{oauthIdToken:e,oauthAccessToken:i,oauthTokenSecret:o,pendingToken:s,nonce:a}=t;return i||o||e||s?s?n.startsWith("saml.")?mt._create(n,s):et._fromParams({providerId:n,signInMethod:n,pendingToken:s,idToken:e,accessToken:i}):new dt(n).credential({idToken:e,accessToken:i,rawNonce:a}):null}return e instanceof o.ZR?r.credentialFromError(e):r.credentialFromResult(e)}function Ki(e,t){return t.catch(t=>{throw t instanceof o.ZR&&function(e,t){var n;const r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Ji(e,function(e,t){var n;const r=(0,o.m9)(e),i=t;return b(t.customData.operationType,r,"argument-error"),b(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),Cn._fromError(r,i)}(e,t));else if(r){const e=Wi(t),n=t;e&&(n.credential=e,n.tenantId=r.tenantId||void 0,n.email=r.email||void 0,n.phoneNumber=r.phoneNumber||void 0)}}(e,t),t}).then(e=>{const t=e.user;return{operationType:e.operationType,credential:(n=e,Wi(n)),additionalUserInfo:vn(e),user:Xi.getOrCreate(t)};var n})}function Yi(e,t){return Qi.apply(this,arguments)}function Qi(){return(Qi=(0,r.Z)(function*(e,t){const n=yield t;return{verificationId:n.verificationId,confirm:t=>Ki(e,n.confirm(t))}})).apply(this,arguments)}class Ji{constructor(e,t){this.resolver=t,this.auth=e.wrapped()}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(e){return Ki(Gi(this.auth),this.resolver.resolveSignIn(e))}}class Xi{constructor(e){this._delegate=e,this.multiFactor=function(e){const t=(0,o.m9)(e);return Tn.has(t)||Tn.set(t,Pn._fromUser(t)),Tn.get(t)}(e)}static getOrCreate(e){return Xi.USER_MAP.has(e)||Xi.USER_MAP.set(e,new Xi(e)),Xi.USER_MAP.get(e)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(e){return this._delegate.getIdTokenResult(e)}getIdToken(e){return this._delegate.getIdToken(e)}linkAndRetrieveDataWithCredential(e){return this.linkWithCredential(e)}linkWithCredential(e){var t=this;return(0,r.Z)(function*(){return Ki(t.auth,qt(t._delegate,e))})()}linkWithPhoneNumber(e,t){var n=this;return(0,r.Z)(function*(){return Yi(n.auth,function(e,t,n){return lr.apply(this,arguments)}(n._delegate,e,t))})()}linkWithPopup(e){var t=this;return(0,r.Z)(function*(){return Ki(t.auth,function(e,t,n){return Tr.apply(this,arguments)}(t._delegate,e,$i))})()}linkWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield ji(Se(t.auth)),function(e,t,n){return function(e,t,n){return Lr.apply(this,arguments)}(e,t,n)}(t._delegate,e,$i)})()}reauthenticateAndRetrieveDataWithCredential(e){return this.reauthenticateWithCredential(e)}reauthenticateWithCredential(e){var t=this;return(0,r.Z)(function*(){return Ki(t.auth,Vt(t._delegate,e))})()}reauthenticateWithPhoneNumber(e,t){return Yi(this.auth,function(e,t,n){return ur.apply(this,arguments)}(this._delegate,e,t))}reauthenticateWithPopup(e){return Ki(this.auth,function(e,t,n){return Pr.apply(this,arguments)}(this._delegate,e,$i))}reauthenticateWithRedirect(e){var t=this;return(0,r.Z)(function*(){return yield ji(Se(t.auth)),function(e,t,n){return function(e,t,n){return Fr.apply(this,arguments)}(e,t,n)}(t._delegate,e,$i)})()}sendEmailVerification(e){return function(e,t){return an.apply(this,arguments)}(this._delegate,e)}unlink(e){var t=this;return(0,r.Z)(function*(){return yield function(e,t){return St.apply(this,arguments)}(t._delegate,e),t})()}updateEmail(e){return function(e,t){return dn((0,o.m9)(e),t,null)}(this._delegate,e)}updatePassword(e){return function(e,t){return dn((0,o.m9)(e),null,t)}(this._delegate,e)}updatePhoneNumber(e){return function(e,t){return fr.apply(this,arguments)}(this._delegate,e)}updateProfile(e){return function(e,t){return hn.apply(this,arguments)}(this._delegate,e)}verifyBeforeUpdateEmail(e,t){return function(e,t,n){return cn.apply(this,arguments)}(this._delegate,e,t)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}Xi.USER_MAP=new WeakMap;const eo=b;let to=(()=>{class e{constructor(e,t){if(this.app=e,t.isInitialized())return this._delegate=t.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:n}=e.options;eo(n,"invalid-api-key",{appName:e.name}),eo(n,"invalid-api-key",{appName:e.name});const r="undefined"!=typeof window?$i:void 0;this._delegate=t.initialize({options:{persistence:ro(n,e.name),popupRedirectResolver:r}}),this._delegate._updateErrorMap(u),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?Xi.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(e){this._delegate.languageCode=e}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(e){this._delegate.tenantId=e}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(e,t){!function(e,t,n){const r=Se(e);b(r._canInitEmulator,r,"emulator-config-failed"),b(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null==n?void 0:n.disableWarnings),o=ke(t),{host:s,port:a}=function(e){const t=ke(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ee(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ee(t)}}}(t);r.config.emulator={url:`${o}//${s}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}(this._delegate,e,t)}applyActionCode(e){return function(e,t){return Yt.apply(this,arguments)}(this._delegate,e)}checkActionCode(e){return Qt(this._delegate,e)}confirmPasswordReset(e,t){return function(e,t,n){return Kt.apply(this,arguments)}(this._delegate,e,t)}createUserWithEmailAndPassword(e,t){var n=this;return(0,r.Z)(function*(){return Ki(n._delegate,function(e,t,n){return en.apply(this,arguments)}(n._delegate,e,t))})()}fetchProvidersForEmail(e){return this.fetchSignInMethodsForEmail(e)}fetchSignInMethodsForEmail(e){return function(e,t){return sn.apply(this,arguments)}(this._delegate,e)}isSignInWithEmailLink(e){return function(e,t){const n=ct.parseLink(t);return"EMAIL_SIGNIN"===(null==n?void 0:n.operation)}(0,e)}getRedirectResult(){var e=this;return(0,r.Z)(function*(){eo(Fi(),e._delegate,"operation-not-supported-in-this-environment");const t=yield function(e,t){return qr.apply(this,arguments)}(e._delegate,$i);return t?Ki(e._delegate,Promise.resolve(t)):{credential:null,user:null}})()}addFrameworkForLogging(e){!function(e,t){Se(e)._logFramework(t)}(this._delegate,e)}onAuthStateChanged(e,t,n){const{next:r,error:i,complete:o}=no(e,t,n);return this._delegate.onAuthStateChanged(r,i,o)}onIdTokenChanged(e,t,n){const{next:r,error:i,complete:o}=no(e,t,n);return this._delegate.onIdTokenChanged(r,i,o)}sendSignInLinkToEmail(e,t){return function(e,t,n){return tn.apply(this,arguments)}(this._delegate,e,t)}sendPasswordResetEmail(e,t){return function(e,t,n){return Wt.apply(this,arguments)}(this._delegate,e,t||void 0)}setPersistence(e){var t=this;return(0,r.Z)(function*(){let n;switch(function(e,t){Vi(Object.values(Ui).includes(t),e,"invalid-persistence-type"),(0,o.b$)()?Vi(t!==Ui.SESSION,e,"unsupported-persistence-type"):(0,o.UG)()?Vi(t===Ui.NONE,e,"unsupported-persistence-type"):Ri()?Vi(t===Ui.NONE||t===Ui.LOCAL&&(0,o.hl)(),e,"unsupported-persistence-type"):Vi(t===Ui.NONE||Ni(),e,"unsupported-persistence-type")}(t._delegate,e),e){case Ui.SESSION:n=kn;break;case Ui.LOCAL:n=(yield O($n)._isAvailable())?$n:In;break;case Ui.NONE:n=he;break;default:return p("argument-error",{appName:t._delegate.name})}return t._delegate.setPersistence(n)})()}signInAndRetrieveDataWithCredential(e){return this.signInWithCredential(e)}signInAnonymously(){return Ki(this._delegate,function(e){return Ot.apply(this,arguments)}(this._delegate))}signInWithCredential(e){return Ki(this._delegate,Ft(this._delegate,e))}signInWithCustomToken(e){return Ki(this._delegate,function(e,t){return zt.apply(this,arguments)}(this._delegate,e))}signInWithEmailAndPassword(e,t){return Ki(this._delegate,function(e,t,n){return Ft((0,o.m9)(e),lt.credential(t,n))}(this._delegate,e,t))}signInWithEmailLink(e,t){return Ki(this._delegate,function(e,t,n){return nn.apply(this,arguments)}(this._delegate,e,t))}signInWithPhoneNumber(e,t){return Yi(this._delegate,function(e,t,n){return cr.apply(this,arguments)}(this._delegate,e,t))}signInWithPopup(e){var t=this;return(0,r.Z)(function*(){return eo(Fi(),t._delegate,"operation-not-supported-in-this-environment"),Ki(t._delegate,function(e,t,n){return Or.apply(this,arguments)}(t._delegate,e,$i))})()}signInWithRedirect(e){var t=this;return(0,r.Z)(function*(){return eo(Fi(),t._delegate,"operation-not-supported-in-this-environment"),yield ji(t._delegate),function(e,t,n){return function(e,t,n){return Rr.apply(this,arguments)}(e,t,n)}(t._delegate,e,$i)})()}updateCurrentUser(e){return this._delegate.updateCurrentUser(e)}verifyPasswordResetCode(e){return function(e,t){return Xt.apply(this,arguments)}(this._delegate,e)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return e.Persistence=Ui,e})();function no(e,t,n){let r=e;"function"!=typeof e&&({next:r,error:t,complete:n}=e);const i=r;return{next:e=>i(e&&Xi.getOrCreate(e)),error:t,complete:n}}function ro(e,t){const n=function(e,t){const n=zi();if(!n)return[];const r=de(Zi,e,t);switch(n.getItem(r)){case Ui.NONE:return[he];case Ui.LOCAL:return[$n,kn];case Ui.SESSION:return[kn];default:return[]}}(e,t);if("undefined"==typeof self||n.includes($n)||n.push($n),"undefined"!=typeof window)for(const r of[In,kn])n.includes(r)||n.push(r);return n.includes(he)||n.push(he),n}class io{constructor(){this.providerId="phone",this._delegate=new pr(Gi(i.Z.auth()))}static credential(e,t){return pr.credential(e,t)}verifyPhoneNumber(e,t){return this._delegate.verifyPhoneNumber(e,t)}unwrap(){return this._delegate}}io.PHONE_SIGN_IN_METHOD=pr.PHONE_SIGN_IN_METHOD,io.PROVIDER_ID=pr.PROVIDER_ID;const oo=b;var so;(so=i.Z).INTERNAL.registerComponent(new l.wA("auth-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new to(t,n)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:lt,FacebookAuthProvider:ft,GithubAuthProvider:gt,GoogleAuthProvider:pt,OAuthProvider:dt,SAMLAuthProvider:_t,PhoneAuthProvider:io,PhoneMultiFactorGenerator:di,RecaptchaVerifier:class{constructor(e,t,n=i.Z.app()){var r;oo(null===(r=n.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:n.name}),this._delegate=new sr(e,t,n.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}},TwitterAuthProvider:yt,Auth:to,AuthCredential:xe,Error:o.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),so.registerVersion("@firebase/auth-compat","0.2.16")},6508:(e,t,n)=>{"use strict";n.d(t,{Lj:()=>g,X3:()=>p});var r=n(6304);let i,o;const s=new WeakMap,a=new WeakMap,c=new WeakMap,l=new WeakMap,u=new WeakMap;let h={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||c.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return d(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function d(e){if(e instanceof IDBRequest)return function(e){const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",o)},i=()=>{t(d(e.result)),r()},o=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",o)});return t.then(t=>{t instanceof IDBCursor&&s.set(t,e)}).catch(()=>{}),u.set(t,e),t}(e);if(l.has(e))return l.get(e);const t=function(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(f(this),e),d(s.get(this))}:function(...e){return d(t.apply(f(this),e))}:function(e,...n){const r=t.call(f(this),e,...n);return c.set(r,e.sort?e.sort():[e]),d(r)}:(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",o),e.removeEventListener("abort",o)},i=()=>{t(),r()},o=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",o),e.addEventListener("abort",o)});a.set(e,t)}(e),n=e,(i||(i=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some(e=>n instanceof e)?new Proxy(e,h):e);var t,n}(e);return t!==e&&(l.set(e,t),u.set(t,e)),t}const f=e=>u.get(e);function p(e,t,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){const s=indexedDB.open(e,t),a=d(s);return r&&s.addEventListener("upgradeneeded",e=>{r(d(s.result),e.oldVersion,e.newVersion,d(s.transaction))}),n&&s.addEventListener("blocked",()=>n()),a.then(e=>{o&&e.addEventListener("close",()=>o()),i&&e.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function g(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",()=>t()),d(n).then(()=>{})}const m=["get","getKey","getAll","getAllKeys","count"],_=["put","add","delete","clear"],y=new Map;function b(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(y.get(t))return y.get(t);const n=t.replace(/FromIndex$/,""),i=t!==n,o=_.includes(n);if(!(n in(i?IDBIndex:IDBObjectStore).prototype)||!o&&!m.includes(n))return;const s=function(){var e=(0,r.Z)(function*(e,...t){const r=this.transaction(e,o?"readwrite":"readonly");let s=r.store;return i&&(s=s.index(t.shift())),(yield Promise.all([s[n](...t),o&&r.done]))[0]});return function(t){return e.apply(this,arguments)}}();return y.set(t,s),s}var v;v=h,h={...v,get:(e,t,n)=>b(e,t)||v.get(e,t,n),has:(e,t)=>!!b(e,t)||v.has(e,t)}},7574:(e,t,n)=>{"use strict";n.d(t,{y:()=>l});var r=n(7393),i=n(9181),o=n(6490),s=n(6554),a=n(4487),c=n(2494);let l=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:s}=this,a=function(e,t,n){if(e){if(e instanceof r.L)return e;if(e[i.b])return e[i.b]()}return e||t||n?new r.L(e,t,n):new r.L(o.c)}(e,t,n);if(a.add(s?s.call(a,this.source):this.source||c.v.useDeprecatedSynchronousErrorHandling&&!a.syncErrorThrowable?this._subscribe(a):this._trySubscribe(a)),c.v.useDeprecatedSynchronousErrorHandling&&a.syncErrorThrowable&&(a.syncErrorThrowable=!1,a.syncErrorThrown))throw a.syncErrorValue;return a}_trySubscribe(e){try{return this._subscribe(e)}catch(t){c.v.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof r.L?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=u(t))((t,n)=>{let r;r=this.subscribe(t=>{try{e(t)}catch(i){n(i),r&&r.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[s.L](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?a.y:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=u(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function u(e){if(e||(e=c.v.Promise||Promise),!e)throw new Error("no Promise impl found");return e}},6490:(e,t,n)=>{"use strict";n.d(t,{c:()=>o});var r=n(2494),i=n(4449);const o={closed:!0,next(e){},error(e){if(r.v.useDeprecatedSynchronousErrorHandling)throw e;(0,i.z)(e)},complete(){}}},9765:(e,t,n)=>{"use strict";n.d(t,{Yc:()=>l,xQ:()=>u});var r=n(7574),i=n(7393),o=n(5319),s=n(7971),a=n(8858),c=n(9181);class l extends i.L{constructor(e){super(e),this.destination=e}}let u=(()=>{class e extends r.y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[c.b](){return new l(this)}lift(e){const t=new h(this,this);return t.operator=e,t}next(e){if(this.closed)throw new s.N;if(!this.isStopped){const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].next(e)}}error(e){if(this.closed)throw new s.N;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,r=t.slice();for(let i=0;i<n;i++)r[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new s.N;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let r=0;r<t;r++)n[r].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new s.N;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new s.N;return this.hasError?(e.error(this.thrownError),o.w.EMPTY):this.isStopped?(e.complete(),o.w.EMPTY):(this.observers.push(e),new a.W(this,e))}asObservable(){const e=new r.y;return e.source=this,e}}return e.create=(e,t)=>new h(e,t),e})();class h extends u{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):o.w.EMPTY}}},8858:(e,t,n)=>{"use strict";n.d(t,{W:()=>i});var r=n(5319);class i extends r.w{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}},7393:(e,t,n)=>{"use strict";n.d(t,{L:()=>l});var r=n(9105),i=n(6490),o=n(5319),s=n(9181),a=n(2494),c=n(4449);class l extends o.w{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=i.c;break;case 1:if(!e){this.destination=i.c;break}if("object"==typeof e){e instanceof l?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new u(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new u(this,e,t,n)}}[s.b](){return this}static create(e,t,n){const r=new l(e,t,n);return r.syncErrorThrowable=!1,r}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class u extends l{constructor(e,t,n,o){let s;super(),this._parentSubscriber=e;let a=this;(0,r.m)(t)?s=t:t&&(s=t.next,n=t.error,o=t.complete,t!==i.c&&(a=Object.create(t),(0,r.m)(a.unsubscribe)&&this.add(a.unsubscribe.bind(a)),a.unsubscribe=this.unsubscribe.bind(this))),this._context=a,this._next=s,this._error=n,this._complete=o}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;a.v.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=a.v;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):(0,c.z)(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;(0,c.z)(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);a.v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.v.useDeprecatedSynchronousErrorHandling)throw n;(0,c.z)(n)}}__tryOrSetError(e,t,n){if(!a.v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.v.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):((0,c.z)(r),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}},5319:(e,t,n)=>{"use strict";n.d(t,{w:()=>a});var r=n(9796),i=n(1555),o=n(9105);const s=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();class a{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._ctorUnsubscribe=!0,this._unsubscribe=e)}unsubscribe(){let e;if(this.closed)return;let{_parentOrParents:t,_ctorUnsubscribe:n,_unsubscribe:c,_subscriptions:u}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,t instanceof a)t.remove(this);else if(null!==t)for(let r=0;r<t.length;++r)t[r].remove(this);if((0,o.m)(c)){n&&(this._unsubscribe=void 0);try{c.call(this)}catch(h){e=h instanceof s?l(h.errors):[h]}}if((0,r.k)(u)){let t=-1,n=u.length;for(;++t<n;){const n=u[t];if((0,i.K)(n))try{n.unsubscribe()}catch(h){e=e||[],h instanceof s?e=e.concat(l(h.errors)):e.push(h)}}}if(e)throw new s(e)}add(e){let t=e;if(!e)return a.EMPTY;switch(typeof e){case"function":t=new a(e);case"object":if(t===this||t.closed||"function"!=typeof t.unsubscribe)return t;if(this.closed)return t.unsubscribe(),t;if(!(t instanceof a)){const e=t;t=new a,t._subscriptions=[e]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}let{_parentOrParents:n}=t;if(null===n)t._parentOrParents=this;else if(n instanceof a){if(n===this)return t;t._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return t;n.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[t]:r.push(t),t}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}var c;function l(e){return e.reduce((e,t)=>e.concat(t instanceof s?t.errors:t),[])}a.EMPTY=((c=new a).closed=!0,c)},2494:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=!1;const i={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}}},5345:(e,t,n)=>{"use strict";n.d(t,{IY:()=>s,Ds:()=>a,ft:()=>c});var r=n(7393),i=n(7574),o=n(7444);class s extends r.L{constructor(e){super(),this.parent=e}_next(e){this.parent.notifyNext(e)}_error(e){this.parent.notifyError(e),this.unsubscribe()}_complete(){this.parent.notifyComplete(),this.unsubscribe()}}class a extends r.L{notifyNext(e){this.destination.next(e)}notifyError(e){this.destination.error(e)}notifyComplete(){this.destination.complete()}}function c(e,t){if(t.closed)return;if(e instanceof i.y)return e.subscribe(t);let n;try{n=(0,o.s)(e)(t)}catch(r){t.error(r)}return n}},2441:(e,t,n)=>{"use strict";n.d(t,{c:()=>a,N:()=>c});var r=n(9765),i=n(7574),o=n(5319),s=n(1307);class a extends i.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new o.w,e.add(this.source.subscribe(new l(this.getSubject(),this))),e.closed&&(this._connection=null,e=o.w.EMPTY)),e}refCount(){return(0,s.x)()(this)}}const c=(()=>{const e=a.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class l extends r.Yc{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}},9193:(e,t,n)=>{"use strict";n.d(t,{E:()=>i,c:()=>o});var r=n(7574);const i=new r.y(e=>e.complete());function o(e){return e?function(e){return new r.y(t=>e.schedule(()=>t.complete()))}(e):i}},4402:(e,t,n)=>{"use strict";n.d(t,{D:()=>h});var r=n(7574),i=n(7444),o=n(5319),s=n(6554),a=n(4087),c=n(377),l=n(4072),u=n(9489);function h(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[s.L]}(e))return function(e,t){return new r.y(n=>{const r=new o.w;return r.add(t.schedule(()=>{const i=e[s.L]();r.add(i.subscribe({next(e){r.add(t.schedule(()=>n.next(e)))},error(e){r.add(t.schedule(()=>n.error(e)))},complete(){r.add(t.schedule(()=>n.complete()))}}))})),r})}(e,t);if((0,l.t)(e))return function(e,t){return new r.y(n=>{const r=new o.w;return r.add(t.schedule(()=>e.then(e=>{r.add(t.schedule(()=>{n.next(e),r.add(t.schedule(()=>n.complete()))}))},e=>{r.add(t.schedule(()=>n.error(e)))}))),r})}(e,t);if((0,u.z)(e))return(0,a.r)(e,t);if(function(e){return e&&"function"==typeof e[c.hZ]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new r.y(n=>{const r=new o.w;let i;return r.add(()=>{i&&"function"==typeof i.return&&i.return()}),r.add(t.schedule(()=>{i=e[c.hZ](),r.add(t.schedule(function(){if(n.closed)return;let e,t;try{const n=i.next();e=n.value,t=n.done}catch(r){return void n.error(r)}t?n.complete():(n.next(e),this.schedule())}))})),r})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof r.y?e:new r.y((0,i.s)(e))}},6693:(e,t,n)=>{"use strict";n.d(t,{n:()=>s});var r=n(7574),i=n(5015),o=n(4087);function s(e,t){return t?(0,o.r)(e,t):new r.y((0,i.V)(e))}},6682:(e,t,n)=>{"use strict";n.d(t,{T:()=>a});var r=n(7574),i=n(4869),o=n(3282),s=n(6693);function a(...e){let t=Number.POSITIVE_INFINITY,n=null,a=e[e.length-1];return(0,i.K)(a)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof a&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof r.y?e[0]:(0,o.J)(t)((0,s.n)(e,n))}},5917:(e,t,n)=>{"use strict";n.d(t,{of:()=>s});var r=n(4869),i=n(6693),o=n(4087);function s(...e){let t=e[e.length-1];return(0,r.K)(t)?(e.pop(),(0,o.r)(e,t)):(0,i.n)(e)}},205:(e,t,n)=>{"use strict";n.d(t,{_:()=>i});var r=n(7574);function i(e,t){return new r.y(t?n=>t.schedule(o,0,{error:e,subscriber:n}):t=>t.error(e))}function o({error:e,subscriber:t}){t.error(e)}},8002:(e,t,n)=>{"use strict";n.d(t,{U:()=>i});var r=n(7393);function i(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new o(e,t))}}class o{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new s(e,this.project,this.thisArg))}}class s extends r.L{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}},3282:(e,t,n)=>{"use strict";n.d(t,{J:()=>o});var r=n(9773),i=n(4487);function o(e=Number.POSITIVE_INFINITY){return(0,r.zg)(i.y,e)}},9773:(e,t,n)=>{"use strict";n.d(t,{zg:()=>s});var r=n(8002),i=n(4402),o=n(5345);function s(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?o=>o.pipe(s((n,o)=>(0,i.D)(e(n,o)).pipe((0,r.U)((e,r)=>t(n,e,o,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new a(e,n)))}class a{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new c(e,this.project,this.concurrent))}}class c extends o.Ds{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t)}_innerSub(e){const t=new o.IY(this),n=this.destination;n.add(t);const r=(0,o.ft)(e,t);r!==t&&n.add(r)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e){this.destination.next(e)}notifyComplete(){const e=this.buffer;this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}},6136:(e,t,n)=>{"use strict";n.d(t,{ht:()=>u,QV:()=>c});var r=n(7393),i=n(9193),o=n(5917),s=n(205);class a{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return(0,o.of)(this.value);case"E":return(0,s._)(this.error);case"C":return(0,i.c)()}throw new Error("unexpected notification kind value")}static createNext(e){return void 0!==e?new a("N",e):a.undefinedValueNotification}static createError(e){return new a("E",void 0,e)}static createComplete(){return a.completeNotification}}function c(e,t=0){return function(n){return n.lift(new l(e,t))}}a.completeNotification=new a("C"),a.undefinedValueNotification=new a("N",void 0);class l{constructor(e,t=0){this.scheduler=e,this.delay=t}call(e,t){return t.subscribe(new u(e,this.scheduler,this.delay))}}class u extends r.L{constructor(e,t,n=0){super(e),this.scheduler=t,this.delay=n}static dispatch(e){const{notification:t,destination:n}=e;t.observe(n),this.unsubscribe()}scheduleMessage(e){this.destination.add(this.scheduler.schedule(u.dispatch,this.delay,new h(e,this.destination)))}_next(e){this.scheduleMessage(a.createNext(e))}_error(e){this.scheduleMessage(a.createError(e)),this.unsubscribe()}_complete(){this.scheduleMessage(a.createComplete()),this.unsubscribe()}}class h{constructor(e,t){this.notification=e,this.destination=t}}},1307:(e,t,n)=>{"use strict";n.d(t,{x:()=>i});var r=n(7393);function i(){return function(e){return e.lift(new o(e))}}class o{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const r=new s(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}class s extends r.L{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}},8819:(e,t,n)=>{"use strict";n.d(t,{B:()=>a});var r=n(2441),i=n(1307),o=n(9765);function s(){return new o.xQ}function a(){return e=>{return(0,i.x)()((t=s,function(e){let n;n="function"==typeof t?t:function(){return t};const i=Object.create(e,r.N);return i.source=e,i.subjectFactory=n,i})(e));var t}}},3101:(e,t,n)=>{"use strict";n.d(t,{R:()=>p});var r=n(7574);let i=1;const o=Promise.resolve(),s={};function a(e){return e in s&&(delete s[e],!0)}const c={setImmediate(e){const t=i++;return s[t]=!0,o.then(()=>a(t)&&e()),t},clearImmediate(e){a(e)}};var l=n(6465),u=n(6102);const h=new class extends u.v{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,r=-1,i=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++r<i&&(e=t.shift()));if(this.active=!1,n){for(;++r<i&&(e=t.shift());)e.unsubscribe();throw n}}}(class extends l.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=c.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(c.clearImmediate(t),e.scheduled=void 0)}});var d=n(9796);class f extends r.y{constructor(e,t=0,n=h){var r;super(),this.source=e,this.delayTime=t,this.scheduler=n,((0,d.k)(r=t)||!(r-parseFloat(r)+1>=0)||t<0)&&(this.delayTime=0),n&&"function"==typeof n.schedule||(this.scheduler=h)}static create(e,t=0,n=h){return new f(e,t,n)}static dispatch(e){const{source:t,subscriber:n}=e;return this.add(t.subscribe(n))}_subscribe(e){return this.scheduler.schedule(f.dispatch,this.delayTime,{source:this.source,subscriber:e})}}function p(e,t=0){return function(n){return n.lift(new g(e,t))}}class g{constructor(e,t){this.scheduler=e,this.delay=t}call(e,t){return new f(t,this.delay,this.scheduler).subscribe(e)}}},3342:(e,t,n)=>{"use strict";n.d(t,{b:()=>s});var r=n(7393);function i(){}var o=n(9105);function s(e,t,n){return function(r){return r.lift(new a(e,t,n))}}class a{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new c(e,this.nextOrObserver,this.error,this.complete))}}class c extends r.L{constructor(e,t,n,r){super(e),this._tapNext=i,this._tapError=i,this._tapComplete=i,this._tapError=n||i,this._tapComplete=r||i,(0,o.m)(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||i,this._tapError=t.error||i,this._tapComplete=t.complete||i)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}},4087:(e,t,n)=>{"use strict";n.d(t,{r:()=>o});var r=n(7574),i=n(5319);function o(e,t){return new r.y(n=>{const r=new i.w;let o=0;return r.add(t.schedule(function(){o!==e.length?(n.next(e[o++]),n.closed||r.add(this.schedule())):n.complete()})),r})}},6465:(e,t,n)=>{"use strict";n.d(t,{o:()=>o});var r=n(5319);class i extends r.w{constructor(e,t){super()}schedule(e,t=0){return this}}class o extends i{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n,r=!1;try{this.work(e)}catch(i){r=!0,n=!!i&&i||new Error(i)}if(r)return this.unsubscribe(),n}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}},6102:(e,t,n)=>{"use strict";n.d(t,{v:()=>i});let r=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class i extends r{constructor(e,t=r.now){super(e,()=>i.delegate&&i.delegate!==this?i.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return i.delegate&&i.delegate!==this?i.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}},3637:(e,t,n)=>{"use strict";n.d(t,{z:()=>i,P:()=>o});var r=n(6465);const i=new(n(6102).v)(r.o),o=i},7771:(e,t,n)=>{"use strict";n.d(t,{c:()=>s,N:()=>o});var r=n(6465),i=n(6102);const o=new class extends i.v{}(class extends r.o{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,n=0){return null!==n&&n>0||null===n&&this.delay>0?super.requestAsyncId(e,t,n):e.flush(this)}}),s=o},377:(e,t,n)=>{"use strict";n.d(t,{hZ:()=>r});const r="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"},6554:(e,t,n)=>{"use strict";n.d(t,{L:()=>r});const r="function"==typeof Symbol&&Symbol.observable||"@@observable"},9181:(e,t,n)=>{"use strict";n.d(t,{b:()=>r});const r="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()},7971:(e,t,n)=>{"use strict";n.d(t,{N:()=>r});const r=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})()},4449:(e,t,n)=>{"use strict";function r(e){setTimeout(()=>{throw e},0)}n.d(t,{z:()=>r})},4487:(e,t,n)=>{"use strict";function r(e){return e}n.d(t,{y:()=>r})},9796:(e,t,n)=>{"use strict";n.d(t,{k:()=>r});const r=Array.isArray||(e=>e&&"number"==typeof e.length)},9489:(e,t,n)=>{"use strict";n.d(t,{z:()=>r});const r=e=>e&&"number"==typeof e.length&&"function"!=typeof e},9105:(e,t,n)=>{"use strict";function r(e){return"function"==typeof e}n.d(t,{m:()=>r})},1555:(e,t,n)=>{"use strict";function r(e){return null!==e&&"object"==typeof e}n.d(t,{K:()=>r})},4072:(e,t,n)=>{"use strict";function r(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}n.d(t,{t:()=>r})},4869:(e,t,n)=>{"use strict";function r(e){return e&&"function"==typeof e.schedule}n.d(t,{K:()=>r})},7444:(e,t,n)=>{"use strict";n.d(t,{s:()=>u});var r=n(5015),i=n(4449),o=n(377),s=n(6554),a=n(9489),c=n(4072),l=n(1555);const u=e=>{if(e&&"function"==typeof e[s.L])return u=e,e=>{const t=u[s.L]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if((0,a.z)(e))return(0,r.V)(e);if((0,c.t)(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,i.z),e);if(e&&"function"==typeof e[o.hZ])return t=e,e=>{const n=t[o.hZ]();for(;;){let t;try{t=n.next()}catch(r){return e.error(r),e}if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=(0,l.K)(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,u}},5015:(e,t,n)=>{"use strict";n.d(t,{V:()=>r});const r=e=>t=>{for(let n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.complete()}},7275:(e,t,n)=>{"use strict";var r=n(7716);let i=null;function o(){return i}const s=new r.OlP("DocumentToken");let a=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:c,token:e,providedIn:"platform"}),e})();function c(){return(0,r.LFG)(u)}const l=new r.OlP("Location Initialized");let u=(()=>{class e extends a{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return o().getBaseHref(this._doc)}onPopState(e){const t=o().getGlobalEventTarget(this._doc,"window");return t.addEventListener("popstate",e,!1),()=>t.removeEventListener("popstate",e)}onHashChange(e){const t=o().getGlobalEventTarget(this._doc,"window");return t.addEventListener("hashchange",e,!1),()=>t.removeEventListener("hashchange",e)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){h()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){h()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(s))},e.\u0275prov=(0,r.Yz7)({factory:d,token:e,providedIn:"platform"}),e})();function h(){return!!window.history.pushState}function d(){return new u((0,r.LFG)(s))}function f(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function p(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function g(e){return e&&"?"!==e[0]?"?"+e:e}let m=(()=>{class e{historyGo(e){throw new Error("Not implemented")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:_,token:e,providedIn:"root"}),e})();function _(e){const t=(0,r.LFG)(s).location;return new b((0,r.LFG)(a),t&&t.origin||"")}const y=new r.OlP("appBaseHref");let b=(()=>{class e extends m{constructor(e,t){if(super(),this._platformLocation=e,this._removeListenerFns=[],null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return f(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+g(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){const i=this.prepareExternalUrl(n+g(r));this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(y,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),v=(()=>{class e extends m{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=t&&(this._baseHref=t)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=f(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}replaceState(e,t,n,r){let i=this.prepareExternalUrl(n+g(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformLocation).historyGo)||void 0===n||n.call(t,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(a),r.LFG(y,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),w=(()=>{class e{constructor(e,t){this._subject=new r.vpe,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=p(O(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+g(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,O(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+g(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(e=0){var t,n;null===(n=(t=this._platformStrategy).historyGo)||void 0===n||n.call(t,e)}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(m),r.LFG(a))},e.normalizeQueryParams=g,e.joinWithSlash=f,e.stripTrailingSlash=p,e.\u0275prov=(0,r.Yz7)({factory:C,token:e,providedIn:"root"}),e})();function C(){return new w((0,r.LFG)(m),(0,r.LFG)(a))}function O(e){return e.replace(/\/index.html$/,"")}var P=(()=>((P=P||{})[P.Zero=0]="Zero",P[P.One=1]="One",P[P.Two=2]="Two",P[P.Few=3]="Few",P[P.Many=4]="Many",P[P.Other=5]="Other",P))(),T=(()=>((T=T||{})[T.Format=0]="Format",T[T.Standalone=1]="Standalone",T))(),M=(()=>((M=M||{})[M.Narrow=0]="Narrow",M[M.Abbreviated=1]="Abbreviated",M[M.Wide=2]="Wide",M[M.Short=3]="Short",M))(),S=(()=>((S=S||{})[S.Short=0]="Short",S[S.Medium=1]="Medium",S[S.Long=2]="Long",S[S.Full=3]="Full",S))(),I=(()=>((I=I||{})[I.Decimal=0]="Decimal",I[I.Group=1]="Group",I[I.List=2]="List",I[I.PercentSign=3]="PercentSign",I[I.PlusSign=4]="PlusSign",I[I.MinusSign=5]="MinusSign",I[I.Exponential=6]="Exponential",I[I.SuperscriptingExponent=7]="SuperscriptingExponent",I[I.PerMille=8]="PerMille",I[I[1/0]=9]="Infinity",I[I.NaN=10]="NaN",I[I.TimeSeparator=11]="TimeSeparator",I[I.CurrencyDecimal=12]="CurrencyDecimal",I[I.CurrencyGroup=13]="CurrencyGroup",I))();function k(e,t){return R((0,r.cg1)(e)[r.wAp.DateFormat],t)}function E(e,t){return R((0,r.cg1)(e)[r.wAp.TimeFormat],t)}function x(e,t){return R((0,r.cg1)(e)[r.wAp.DateTimeFormat],t)}function A(e,t){const n=(0,r.cg1)(e),i=n[r.wAp.NumberSymbols][t];if(void 0===i){if(t===I.CurrencyDecimal)return n[r.wAp.NumberSymbols][I.Decimal];if(t===I.CurrencyGroup)return n[r.wAp.NumberSymbols][I.Group]}return i}const D=r.kL8;function N(e){if(!e[r.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${e[r.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function R(e,t){for(let n=t;n>-1;n--)if(void 0!==e[n])return e[n];throw new Error("Locale data API: locale data undefined")}function F(e){const[t,n]=e.split(":");return{hours:+t,minutes:+n}}const L=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,q={},U=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var V=(()=>((V=V||{})[V.Short=0]="Short",V[V.ShortGMT=1]="ShortGMT",V[V.Long=2]="Long",V[V.Extended=3]="Extended",V))(),Z=(()=>((Z=Z||{})[Z.FullYear=0]="FullYear",Z[Z.Month=1]="Month",Z[Z.Date=2]="Date",Z[Z.Hours=3]="Hours",Z[Z.Minutes=4]="Minutes",Z[Z.Seconds=5]="Seconds",Z[Z.FractionalSeconds=6]="FractionalSeconds",Z[Z.Day=7]="Day",Z))(),j=(()=>((j=j||{})[j.DayPeriods=0]="DayPeriods",j[j.Days=1]="Days",j[j.Months=2]="Months",j[j.Eras=3]="Eras",j))();function B(e,t,n,r){let i=function(e){if(ne(e))return e;if("number"==typeof e&&!isNaN(e))return new Date(e);if("string"==typeof e){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){const[t,n=1,r=1]=e.split("-").map(e=>+e);return z(t,n-1,r)}const t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let n;if(n=e.match(L))return function(e){const t=new Date(0);let n=0,r=0;const i=e[8]?t.setUTCFullYear:t.setFullYear,o=e[8]?t.setUTCHours:t.setHours;e[9]&&(n=Number(e[9]+e[10]),r=Number(e[9]+e[11])),i.call(t,Number(e[1]),Number(e[2])-1,Number(e[3]));const s=Number(e[4]||0)-n,a=Number(e[5]||0)-r,c=Number(e[6]||0),l=Math.floor(1e3*parseFloat("0."+(e[7]||0)));return o.call(t,s,a,c,l),t}(n)}const t=new Date(e);if(!ne(t))throw new Error(`Unable to convert "${e}" into a date`);return t}(e);t=H(n,t)||t;let o,s=[];for(;t;){if(o=U.exec(t),!o){s.push(t);break}{s=s.concat(o.slice(1));const e=s.pop();if(!e)break;t=e}}let a=i.getTimezoneOffset();r&&(a=te(r,a),i=function(e,t,n){const r=e.getTimezoneOffset();return function(e,t){return(e=new Date(e.getTime())).setMinutes(e.getMinutes()+t),e}(e,-1*(te(t,r)-r))}(i,r));let c="";return s.forEach(e=>{const t=function(e){if(ee[e])return ee[e];let t;switch(e){case"G":case"GG":case"GGG":t=K(j.Eras,M.Abbreviated);break;case"GGGG":t=K(j.Eras,M.Wide);break;case"GGGGG":t=K(j.Eras,M.Narrow);break;case"y":t=W(Z.FullYear,1,0,!1,!0);break;case"yy":t=W(Z.FullYear,2,0,!0,!0);break;case"yyy":t=W(Z.FullYear,3,0,!1,!0);break;case"yyyy":t=W(Z.FullYear,4,0,!1,!0);break;case"Y":t=X(1);break;case"YY":t=X(2,!0);break;case"YYY":t=X(3);break;case"YYYY":t=X(4);break;case"M":case"L":t=W(Z.Month,1,1);break;case"MM":case"LL":t=W(Z.Month,2,1);break;case"MMM":t=K(j.Months,M.Abbreviated);break;case"MMMM":t=K(j.Months,M.Wide);break;case"MMMMM":t=K(j.Months,M.Narrow);break;case"LLL":t=K(j.Months,M.Abbreviated,T.Standalone);break;case"LLLL":t=K(j.Months,M.Wide,T.Standalone);break;case"LLLLL":t=K(j.Months,M.Narrow,T.Standalone);break;case"w":t=J(1);break;case"ww":t=J(2);break;case"W":t=J(1,!0);break;case"d":t=W(Z.Date,1);break;case"dd":t=W(Z.Date,2);break;case"c":case"cc":t=W(Z.Day,1);break;case"ccc":t=K(j.Days,M.Abbreviated,T.Standalone);break;case"cccc":t=K(j.Days,M.Wide,T.Standalone);break;case"ccccc":t=K(j.Days,M.Narrow,T.Standalone);break;case"cccccc":t=K(j.Days,M.Short,T.Standalone);break;case"E":case"EE":case"EEE":t=K(j.Days,M.Abbreviated);break;case"EEEE":t=K(j.Days,M.Wide);break;case"EEEEE":t=K(j.Days,M.Narrow);break;case"EEEEEE":t=K(j.Days,M.Short);break;case"a":case"aa":case"aaa":t=K(j.DayPeriods,M.Abbreviated);break;case"aaaa":t=K(j.DayPeriods,M.Wide);break;case"aaaaa":t=K(j.DayPeriods,M.Narrow);break;case"b":case"bb":case"bbb":t=K(j.DayPeriods,M.Abbreviated,T.Standalone,!0);break;case"bbbb":t=K(j.DayPeriods,M.Wide,T.Standalone,!0);break;case"bbbbb":t=K(j.DayPeriods,M.Narrow,T.Standalone,!0);break;case"B":case"BB":case"BBB":t=K(j.DayPeriods,M.Abbreviated,T.Format,!0);break;case"BBBB":t=K(j.DayPeriods,M.Wide,T.Format,!0);break;case"BBBBB":t=K(j.DayPeriods,M.Narrow,T.Format,!0);break;case"h":t=W(Z.Hours,1,-12);break;case"hh":t=W(Z.Hours,2,-12);break;case"H":t=W(Z.Hours,1);break;case"HH":t=W(Z.Hours,2);break;case"m":t=W(Z.Minutes,1);break;case"mm":t=W(Z.Minutes,2);break;case"s":t=W(Z.Seconds,1);break;case"ss":t=W(Z.Seconds,2);break;case"S":t=W(Z.FractionalSeconds,1);break;case"SS":t=W(Z.FractionalSeconds,2);break;case"SSS":t=W(Z.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":t=Y(V.Short);break;case"ZZZZZ":t=Y(V.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":t=Y(V.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":t=Y(V.Long);break;default:return null}return ee[e]=t,t}(e);c+=t?t(i,n,a):"''"===e?"'":e.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),c}function z(e,t,n){const r=new Date(0);return r.setFullYear(e,t,n),r.setHours(0,0,0),r}function H(e,t){const n=function(e){return(0,r.cg1)(e)[r.wAp.LocaleId]}(e);if(q[n]=q[n]||{},q[n][t])return q[n][t];let i="";switch(t){case"shortDate":i=k(e,S.Short);break;case"mediumDate":i=k(e,S.Medium);break;case"longDate":i=k(e,S.Long);break;case"fullDate":i=k(e,S.Full);break;case"shortTime":i=E(e,S.Short);break;case"mediumTime":i=E(e,S.Medium);break;case"longTime":i=E(e,S.Long);break;case"fullTime":i=E(e,S.Full);break;case"short":const t=H(e,"shortTime"),n=H(e,"shortDate");i=$(x(e,S.Short),[t,n]);break;case"medium":const r=H(e,"mediumTime"),o=H(e,"mediumDate");i=$(x(e,S.Medium),[r,o]);break;case"long":const s=H(e,"longTime"),a=H(e,"longDate");i=$(x(e,S.Long),[s,a]);break;case"full":const c=H(e,"fullTime"),l=H(e,"fullDate");i=$(x(e,S.Full),[c,l])}return i&&(q[n][t]=i),i}function $(e,t){return t&&(e=e.replace(/\{([^}]+)}/g,function(e,n){return null!=t&&n in t?t[n]:e})),e}function G(e,t,n="-",r,i){let o="";(e<0||i&&e<=0)&&(i?e=1-e:(e=-e,o=n));let s=String(e);for(;s.length<t;)s="0"+s;return r&&(s=s.substr(s.length-t)),o+s}function W(e,t,n=0,r=!1,i=!1){return function(o,s){let a=function(e,t){switch(e){case Z.FullYear:return t.getFullYear();case Z.Month:return t.getMonth();case Z.Date:return t.getDate();case Z.Hours:return t.getHours();case Z.Minutes:return t.getMinutes();case Z.Seconds:return t.getSeconds();case Z.FractionalSeconds:return t.getMilliseconds();case Z.Day:return t.getDay();default:throw new Error(`Unknown DateType value "${e}".`)}}(e,o);if((n>0||a>-n)&&(a+=n),e===Z.Hours)0===a&&-12===n&&(a=12);else if(e===Z.FractionalSeconds)return c=t,G(a,3).substr(0,c);var c;const l=A(s,I.MinusSign);return G(a,t,l,r,i)}}function K(e,t,n=T.Format,i=!1){return function(o,s){return function(e,t,n,i,o,s){switch(n){case j.Months:return function(e,t,n){const i=(0,r.cg1)(e),o=R([i[r.wAp.MonthsFormat],i[r.wAp.MonthsStandalone]],t);return R(o,n)}(t,o,i)[e.getMonth()];case j.Days:return function(e,t,n){const i=(0,r.cg1)(e),o=R([i[r.wAp.DaysFormat],i[r.wAp.DaysStandalone]],t);return R(o,n)}(t,o,i)[e.getDay()];case j.DayPeriods:const a=e.getHours(),c=e.getMinutes();if(s){const e=function(e){const t=(0,r.cg1)(e);return N(t),(t[r.wAp.ExtraData][2]||[]).map(e=>"string"==typeof e?F(e):[F(e[0]),F(e[1])])}(t),n=function(e,t,n){const i=(0,r.cg1)(e);N(i);const o=R([i[r.wAp.ExtraData][0],i[r.wAp.ExtraData][1]],t)||[];return R(o,n)||[]}(t,o,i),s=e.findIndex(e=>{if(Array.isArray(e)){const[t,n]=e,r=a>=t.hours&&c>=t.minutes,i=a<n.hours||a===n.hours&&c<n.minutes;if(t.hours<n.hours){if(r&&i)return!0}else if(r||i)return!0}else if(e.hours===a&&e.minutes===c)return!0;return!1});if(-1!==s)return n[s]}return function(e,t,n){const i=(0,r.cg1)(e),o=R([i[r.wAp.DayPeriodsFormat],i[r.wAp.DayPeriodsStandalone]],t);return R(o,n)}(t,o,i)[a<12?0:1];case j.Eras:return function(e,t){return R((0,r.cg1)(e)[r.wAp.Eras],t)}(t,i)[e.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${n}`)}}(o,s,e,t,n,i)}}function Y(e){return function(t,n,r){const i=-1*r,o=A(n,I.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(e){case V.Short:return(i>=0?"+":"")+G(s,2,o)+G(Math.abs(i%60),2,o);case V.ShortGMT:return"GMT"+(i>=0?"+":"")+G(s,1,o);case V.Long:return"GMT"+(i>=0?"+":"")+G(s,2,o)+":"+G(Math.abs(i%60),2,o);case V.Extended:return 0===r?"Z":(i>=0?"+":"")+G(s,2,o)+":"+G(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${e}"`)}}}function Q(e){return z(e.getFullYear(),e.getMonth(),e.getDate()+(4-e.getDay()))}function J(e,t=!1){return function(n,r){let i;if(t){const e=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,t=n.getDate();i=1+Math.floor((t+e)/7)}else{const e=Q(n),t=function(e){const t=z(e,0,1).getDay();return z(e,0,1+(t<=4?4:11)-t)}(e.getFullYear()),r=e.getTime()-t.getTime();i=1+Math.round(r/6048e5)}return G(i,e,A(r,I.MinusSign))}}function X(e,t=!1){return function(n,r){return G(Q(n).getFullYear(),e,A(r,I.MinusSign),t)}}const ee={};function te(e,t){e=e.replace(/:/g,"");const n=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(n)?t:n}function ne(e){return e instanceof Date&&!isNaN(e.valueOf())}class re{}let ie=(()=>{class e extends re{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(D(t||this.locale)(e)){case P.Zero:return"zero";case P.One:return"one";case P.Two:return"two";case P.Few:return"few";case P.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.soG))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function oe(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[r,i]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(r.trim()===t)return decodeURIComponent(i)}return null}let se=(()=>{class e{constructor(e,t,n,r){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&((0,r.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,r.AaK)(e.item)}`);this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.ZZ4),r.Y36(r.aQg),r.Y36(r.SBq),r.Y36(r.Qsj))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class ae{constructor(e,t,n,r){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ce=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(dT){throw new Error(`Cannot find a differ supporting object '${t}' of type '${e=t,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,r)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new ae(null,this._ngForOf,-1,-1),null===r?void 0:r),i=new le(e,n);t.push(i)}else if(null==r)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const i=this._viewContainer.get(n);this._viewContainer.move(i,r);const o=new le(e,i);t.push(o)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,r=this._viewContainer.length;n<r;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=r,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc),r.Y36(r.ZZ4))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class le{constructor(e,t){this.record=e,this.view=t}}let ue=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new he,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){de("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){de("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.s_b),r.Y36(r.Rgc))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class he{constructor(){this.$implicit=null,this.ngIf=null}}function de(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${(0,r.AaK)(t)}'.`)}function fe(e,t){return Error(`InvalidPipeArgument: '${t}' for pipe '${(0,r.AaK)(e)}'`)}class pe{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class ge{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const me=new ge,_e=new pe;let ye=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if((0,r.QGY)(t))return me;if((0,r.F4k)(t))return _e;throw fe(e,t)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.sBO,16))},e.\u0275pipe=r.Yjl({name:"async",type:e,pure:!1}),e})(),be=(()=>{class e{constructor(e){this.locale=e}transform(t,n="mediumDate",r,i){if(null==t||""===t||t!=t)return null;try{return B(t,n,i||this.locale,r)}catch(rD){throw fe(e,rD.message)}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.soG,16))},e.\u0275pipe=r.Yjl({name:"date",type:e,pure:!0}),e})();const ve=/#/g;let we=(()=>{class e{constructor(e){this._localization=e}transform(t,n,r){if(null==t)return"";if("object"!=typeof n||null===n)throw fe(e,n);return n[function(e,t,n,r){let i=`=${e}`;if(t.indexOf(i)>-1)return i;if(i=n.getPluralCategory(e,r),t.indexOf(i)>-1)return i;if(t.indexOf("other")>-1)return"other";throw new Error(`No plural message found for value "${e}"`)}(t,Object.keys(n),this._localization,r)].replace(ve,t.toString())}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(re,16))},e.\u0275pipe=r.Yjl({name:"i18nPlural",type:e,pure:!0}),e})(),Ce=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[{provide:re,useClass:ie}]}),e})();function Oe(e){return"server"===e}let Pe=(()=>{class e{}return e.\u0275prov=(0,r.Yz7)({token:e,providedIn:"root",factory:()=>new Te((0,r.LFG)(s),window)}),e})();class Te{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function(e,t){const n=e.getElementById(t)||e.getElementsByName(t)[0];if(n)return n;if("function"==typeof e.createTreeWalker&&e.body&&(e.body.createShadowRoot||e.body.attachShadow)){const n=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const e=r.shadowRoot;if(e){const n=e.getElementById(t)||e.querySelector(`[name="${t}"]`);if(n)return n}r=n.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),this.attemptFocus(t))}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}attemptFocus(e){return e.focus(),this.document.activeElement===e}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Me(this.window.history)||Me(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(dT){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(dT){return!1}}}function Me(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Se{}class Ie extends class extends class{}{constructor(){super(...arguments),this.supportsDOMEvents=!0}}{static makeCurrent(){var e;e=new Ie,i||(i=e)}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=(Ee=Ee||document.querySelector("base"),Ee?Ee.getAttribute("href"):null);return null==t?null:function(e){ke=ke||document.createElement("a"),ke.setAttribute("href",e);const t=ke.pathname;return"/"===t.charAt(0)?t:`/${t}`}(t)}resetBaseElement(){Ee=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return oe(document.cookie,e)}}let ke,Ee=null;const xe=new r.OlP("TRANSITION_ID"),Ae=[{provide:r.ip1,useFactory:function(e,t,n){return()=>{n.get(r.CZH).donePromise.then(()=>{const n=o();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[xe,s,r.zs3],multi:!0}];class De{static init(){(0,r.VLi)(new De)}addToWindow(e){r.dqk.getAngularTestability=(t,n=!0)=>{const r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},r.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),r.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),r.dqk.frameworkStabilizers||(r.dqk.frameworkStabilizers=[]),r.dqk.frameworkStabilizers.push(e=>{const t=r.dqk.getAllAngularTestabilities();let n=t.length,i=!1;const o=function(t){i=i||t,n--,0==n&&e(i)};t.forEach(function(e){e.whenStable(o)})})}findTestabilityInTree(e,t,n){if(null==t)return null;const r=e.getTestability(t);return null!=r?r:n?o().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}let Ne=(()=>{class e{build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Re=new r.OlP("EventManagerPlugins");let Fe=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let r=0;r<n.length;r++){const t=n[r];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error(`No event manager plugin found for event ${e}`)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Re),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class Le{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const r=o().getGlobalEventTarget(this._doc,e);if(!r)throw new Error(`Unsupported event target ${r} for event ${t}`);return this.addEventListener(r,t,n)}}let qe=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Ue=(()=>{class e extends qe{constructor(e){super(),this._doc=e,this._hostNodes=new Map,this._hostNodes.set(e.head,[])}_addStylesToHost(e,t,n){e.forEach(e=>{const r=this._doc.createElement("style");r.textContent=e,n.push(t.appendChild(r))})}addHost(e){const t=[];this._addStylesToHost(this._stylesSet,e,t),this._hostNodes.set(e,t)}removeHost(e){const t=this._hostNodes.get(e);t&&t.forEach(Ve),this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach((t,n)=>{this._addStylesToHost(e,n,t)})}ngOnDestroy(){this._hostNodes.forEach(e=>e.forEach(Ve))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(s))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function Ve(e){o().remove(e)}const Ze={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},je=/%COMP%/g;function Be(e,t,n){for(let r=0;r<t.length;r++){let i=t[r];Array.isArray(i)?Be(e,i,n):(i=i.replace(je,e),n.push(i))}return n}function ze(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let He=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new $e(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case r.ifc.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new Ge(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case 1:case r.ifc.ShadowDom:return new We(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=Be(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Fe),r.LFG(Ue),r.LFG(r.AFp))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class $e{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(Ze[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,r){if(r){t=r+":"+t;const i=Ze[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const r=Ze[n];r?e.removeAttributeNS(r,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&(r.JOm.DashCase|r.JOm.Important)?e.style.setProperty(t,n,i&r.JOm.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&r.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,ze(n)):this.eventManager.addEventListener(e,t,ze(n))}}class Ge extends $e{constructor(e,t,n,r){super(e),this.component=n;const i=Be(r+"-"+n.id,n.styles,[]);t.addStyles(i),this.contentAttr="_ngcontent-%COMP%".replace(je,r+"-"+n.id),this.hostAttr="_nghost-%COMP%".replace(je,r+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class We extends $e{constructor(e,t,n,r){super(e),this.sharedStylesHost=t,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const i=Be(r.id,r.styles,[]);for(let o=0;o<i.length;o++){const e=document.createElement("style");e.textContent=i[o],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Ke=(()=>{class e extends Le{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(s))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Ye=["alt","control","meta","shift"],Qe={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Je={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Xe={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let et=(()=>{class e extends Le{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,r){const i=e.parseEventName(n),s=e.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o().onAndCancel(t,i.domEventName,s))}static parseEventName(t){const n=t.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const i=e._normalizeKey(n.pop());let o="";if(Ye.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),o+=e+".")}),o+=i,0!=n.length||0===i.length)return null;const s={};return s.domEventName=r,s.fullKey=o,s}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Je.hasOwnProperty(t)&&(t=Je[t]))}return Qe[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Ye.forEach(r=>{r!=n&&(0,Xe[r])(e)&&(t+=r+".")}),t+=n,t}static eventCallback(t,n,r){return i=>{e.getEventFullKey(i)===t&&r.runGuarded(()=>n(i))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(s))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),tt=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:function(){return(0,r.LFG)(rt)},token:e,providedIn:"root"}),e})();function nt(e){return new rt(e.get(s))}let rt=(()=>{class e extends tt{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case r.q3G.NONE:return t;case r.q3G.HTML:return(0,r.qzn)(t,"HTML")?(0,r.z3N)(t):(0,r.EiD)(this._doc,String(t)).toString();case r.q3G.STYLE:return(0,r.qzn)(t,"Style")?(0,r.z3N)(t):t;case r.q3G.SCRIPT:if((0,r.qzn)(t,"Script"))return(0,r.z3N)(t);throw new Error("unsafe value used in a script context");case r.q3G.URL:return(0,r.yhl)(t),(0,r.qzn)(t,"URL")?(0,r.z3N)(t):(0,r.mCW)(String(t));case r.q3G.RESOURCE_URL:if((0,r.qzn)(t,"ResourceURL"))return(0,r.z3N)(t);throw new Error("unsafe value used in a resource URL context (see https://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see https://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return(0,r.JVY)(e)}bypassSecurityTrustStyle(e){return(0,r.L6k)(e)}bypassSecurityTrustScript(e){return(0,r.eBb)(e)}bypassSecurityTrustUrl(e){return(0,r.LAX)(e)}bypassSecurityTrustResourceUrl(e){return(0,r.pB0)(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(s))},e.\u0275prov=(0,r.Yz7)({factory:function(){return nt((0,r.LFG)(r.gxx))},token:e,providedIn:"root"}),e})();const it=(0,r.eFA)(r._c5,"browser",[{provide:r.Lbi,useValue:"browser"},{provide:r.g9A,useValue:function(){Ie.makeCurrent(),De.init()},multi:!0},{provide:s,useFactory:function(){return(0,r.RDi)(document),document},deps:[]}]),ot=[[],{provide:r.zSh,useValue:"root"},{provide:r.qLn,useFactory:function(){return new r.qLn},deps:[]},{provide:Re,useClass:Ke,multi:!0,deps:[s,r.R0b,r.Lbi]},{provide:Re,useClass:et,multi:!0,deps:[s]},[],{provide:He,useClass:He,deps:[Fe,Ue,r.AFp]},{provide:r.FYo,useExisting:He},{provide:qe,useExisting:Ue},{provide:Ue,useClass:Ue,deps:[s]},{provide:r.dDg,useClass:r.dDg,deps:[r.R0b]},{provide:Fe,useClass:Fe,deps:[Re,r.R0b]},{provide:Se,useClass:Ne,deps:[]},[]];let st=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:r.AFp,useValue:t.appId},{provide:xe,useExisting:r.AFp},Ae]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(e,12))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:ot,imports:[Ce,r.hGG]}),e})();"undefined"!=typeof window&&window;class at{}const ct="*";function lt(e,t){return{type:7,name:e,definitions:t,options:{}}}function ut(e,t=null){return{type:4,styles:t,timings:e}}function ht(e,t=null){return{type:2,steps:e,options:t}}function dt(e){return{type:6,styles:e,offset:null}}function ft(e,t,n){return{type:0,name:e,styles:t,options:n}}function pt(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function gt(e){Promise.resolve(null).then(e)}class mt{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){gt(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class _t{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,r=0;const i=this.players.length;0==i?gt(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==i&&this._onFinish()}),e.onDestroy(()=>{++n==i&&this._onDestroy()}),e.onStart(()=>{++r==i&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){const e=this.players.reduce((e,t)=>null===e||t.totalTime>e.totalTime?t:e,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}function yt(){return"undefined"!=typeof window&&void 0!==window.document}function bt(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function vt(e){switch(e.length){case 0:return new mt;case 1:return e[0];default:return new _t(e)}}function wt(e,t,n,r,i={},o={}){const s=[],a=[];let c=-1,l=null;if(r.forEach(e=>{const n=e.offset,r=n==c,u=r&&l||{};Object.keys(e).forEach(n=>{let r=n,a=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,s),a){case"!":a=i[n];break;case ct:a=o[n];break;default:a=t.normalizeStyleValue(n,r,a,s)}u[r]=a}),r||a.push(u),l=u,c=n}),s.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${s.join(e)}`)}return a}function Ct(e,t,n,r){switch(t){case"start":e.onStart(()=>r(n&&Ot(n,"start",e)));break;case"done":e.onDone(()=>r(n&&Ot(n,"done",e)));break;case"destroy":e.onDestroy(()=>r(n&&Ot(n,"destroy",e)))}}function Ot(e,t,n){const r=n.totalTime,i=Pt(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),o=e._data;return null!=o&&(i._data=o),i}function Pt(e,t,n,r,i="",o=0,s){return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:o,disabled:!!s}}function Tt(e,t,n){let r;return e instanceof Map?(r=e.get(t),r||e.set(t,r=n)):(r=e[t],r||(r=e[t]=n)),r}function Mt(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let St=(e,t)=>!1,It=(e,t)=>!1,kt=(e,t,n)=>[];const Et=bt();(Et||"undefined"!=typeof Element)&&(St=yt()?(e,t)=>{for(;t&&t!==document.documentElement;){if(t===e)return!0;t=t.parentNode||t.host}return!1}:(e,t)=>e.contains(t),It=(()=>{if(Et||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):It}})(),kt=(e,t,n)=>{let r=[];if(n){const n=e.querySelectorAll(t);for(let e=0;e<n.length;e++)r.push(n[e])}else{const n=e.querySelector(t);n&&r.push(n)}return r});let xt=null,At=!1;function Dt(e){xt||(xt=("undefined"!=typeof document?document.body:null)||{},At=!!xt.style&&"WebkitAppearance"in xt.style);let t=!0;return xt.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in xt.style,!t&&At)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in xt.style),t}const Nt=It,Rt=St,Ft=kt;function Lt(e){const t={};return Object.keys(e).forEach(n=>{const r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]}),t}let qt=(()=>{class e{validateStyleProperty(e){return Dt(e)}matchesElement(e,t){return Nt(e,t)}containsElement(e,t){return Rt(e,t)}query(e,t,n){return Ft(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,r,i,o=[],s){return new mt(n,r)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class Ut{}Ut.NOOP=new qt;const Vt="ng-enter",Zt="ng-leave",jt="ng-trigger",Bt=".ng-trigger",zt="ng-animating",Ht=".ng-animating";function $t(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Gt(parseFloat(t[1]),t[2])}function Gt(e,t){switch(t){case"s":return 1e3*e;default:return e}}function Wt(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let r,i=0,o="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};r=Gt(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(i=Gt(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else r=e;if(!n){let n=!1,o=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(o,0,`The provided timing value "${e}" is invalid.`)}return{duration:r,delay:i,easing:o}}(e,t,n)}function Kt(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function Yt(e,t,n={}){if(t)for(let r in e)n[r]=e[r];else Kt(e,n);return n}function Qt(e,t,n){return n?t+":"+n+";":""}function Jt(e){let t="";for(let n=0;n<e.style.length;n++){const r=e.style.item(n);t+=Qt(0,r,e.style.getPropertyValue(r))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=Qt(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function Xt(e,t,n){e.style&&(Object.keys(t).forEach(r=>{const i=cn(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]}),bt()&&Jt(e))}function en(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=cn(t);e.style[n]=""}),bt()&&Jt(e))}function tn(e){return Array.isArray(e)?1==e.length?e[0]:ht(e):e}const nn=new RegExp("{{\\s*(.+?)\\s*}}","g");function rn(e){let t=[];if("string"==typeof e){let n;for(;n=nn.exec(e);)t.push(n[1]);nn.lastIndex=0}return t}function on(e,t,n){const r=e.toString(),i=r.replace(nn,(e,r)=>{let i=t[r];return t.hasOwnProperty(r)||(n.push(`Please provide a value for the animation param ${r}`),i=""),i.toString()});return i==r?e:i}function sn(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const an=/-+([a-z0-9])/g;function cn(e){return e.replace(an,(...e)=>e[1].toUpperCase())}function ln(e,t){return 0===e||0===t}function un(e,t,n){const r=Object.keys(n);if(r.length&&t.length){let o=t[0],s=[];if(r.forEach(e=>{o.hasOwnProperty(e)||s.push(e),o[e]=n[e]}),s.length)for(var i=1;i<t.length;i++){let n=t[i];s.forEach(function(t){n[t]=dn(e,t)})}}return t}function hn(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error(`Unable to resolve animation metadata node #${t.type}`)}}function dn(e,t){return window.getComputedStyle(e)[t]}const fn="*";function pn(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}const r=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const i=r[1],o=r[2],s=r[3];t.push(_n(i,s)),"<"!=o[0]||i==fn&&s==fn||t.push(_n(s,i))}(e,n,t)):n.push(e),n}const gn=new Set(["true","1"]),mn=new Set(["false","0"]);function _n(e,t){const n=gn.has(e)||mn.has(e),r=gn.has(t)||mn.has(t);return(i,o)=>{let s=e==fn||e==i,a=t==fn||t==o;return!s&&n&&"boolean"==typeof i&&(s=i?gn.has(e):mn.has(e)),!a&&r&&"boolean"==typeof o&&(a=o?gn.has(t):mn.has(t)),s&&a}}const yn=new RegExp("s*:selfs*,?","g");function bn(e,t,n){return new vn(e).build(t,n)}class vn{constructor(e){this._driver=e}build(e,t){const n=new wn(t);return this._resetContextStyleTimingState(n),hn(this,tn(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,r=t.depCount=0;const i=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,r=n.name;r.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,i.push(this.visitState(n,t))}),n.name=r}else if(1==e.type){const i=this.visitTransition(e,t);n+=i.queryCount,r+=i.depCount,o.push(i)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:i,transitions:o,queryCount:n,depCount:r,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){const i=new Set,o=r||{};if(n.styles.forEach(e=>{if(Cn(e)){const t=e;Object.keys(t).forEach(e=>{rn(t[e]).forEach(e=>{o.hasOwnProperty(e)||i.add(e)})})}}),i.size){const n=sn(i.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=hn(this,tn(e.animation),t);return{type:1,matchers:pn(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:On(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>hn(this,e,t)),options:On(e.options)}}visitGroup(e,t){const n=t.currentTime;let r=0;const i=e.steps.map(e=>{t.currentTime=n;const i=hn(this,e,t);return r=Math.max(r,t.currentTime),i});return t.currentTime=r,{type:3,steps:i,options:On(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return Pn(Wt(e,t).duration,0,"");const r=e;if(r.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=Pn(0,0,"");return e.dynamic=!0,e.strValue=r,e}return n=n||Wt(r,t),Pn(n.duration,n.delay,n.easing)}(e.timings,t.errors);let r;t.currentAnimateTimings=n;let i=e.styles?e.styles:dt({});if(5==i.type)r=this.visitKeyframes(i,t);else{let i=e.styles,o=!1;if(!i){o=!0;const e={};n.easing&&(e.easing=n.easing),i=dt(e)}t.currentTime+=n.duration+n.delay;const s=this.visitStyle(i,t);s.isEmptyStep=o,r=s}return t.currentAnimateTimings=null,{type:4,timings:n,style:r,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?e==ct?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let r=!1,i=null;return n.forEach(e=>{if(Cn(e)){const t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(let e in t)if(t[e].toString().indexOf("{{")>=0){r=!0;break}}}),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let r=t.currentTime,i=t.currentTime;n&&i>0&&(i-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=t.collectedStyles[t.currentQuerySelector],s=o[n];let a=!0;s&&(i!=r&&i>=s.startTime&&r<=s.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${i}ms" and "${r}ms"`),a=!1),i=s.startTime),a&&(o[n]={startTime:i,endTime:r}),t.options&&function(e,t,n){const r=t.params||{},i=rn(e);i.length&&i.forEach(e=>{r.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let r=0;const i=[];let o=!1,s=!1,a=0;const c=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let c=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(Cn(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(Cn(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),l=0;return null!=c&&(r++,l=n.offset=c),s=s||l<0||l>1,o=o||l<a,a=l,i.push(l),n});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&t.errors.push("Please ensure that all keyframe offsets are in order");const l=e.steps.length;let u=0;r>0&&r<l?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==r&&(u=1/(l-1));const h=l-1,d=t.currentTime,f=t.currentAnimateTimings,p=f.duration;return c.forEach((e,r)=>{const o=u>0?r==h?1:u*r:i[r],s=o*p;t.currentTime=d+f.delay+s,f.duration=s,this._validateStyleAst(e,t),e.offset=o,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:hn(this,tn(e.animation),t),options:On(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:On(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:On(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;const[i,o]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(yn,"")),[e=e.replace(/@\*/g,Bt).replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,Ht),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+i:i,Tt(t.collectedStyles,t.currentQuerySelector,{});const s=hn(this,tn(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:i,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:e.selector,options:On(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:Wt(e.timings,t.errors,!0);return{type:12,animation:hn(this,tn(e.animation),t),timings:n,options:null}}}class wn{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function Cn(e){return!Array.isArray(e)&&"object"==typeof e}function On(e){var t;return e?(e=Kt(e)).params&&(e.params=(t=e.params)?Kt(t):null):e={},e}function Pn(e,t,n){return{duration:e,delay:t,easing:n}}function Tn(e,t,n,r,i,o,s=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}class Mn{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const Sn=new RegExp(":enter","g"),In=new RegExp(":leave","g");function kn(e,t,n,r,i,o={},s={},a,c,l=[]){return(new En).buildKeyframes(e,t,n,r,i,o,s,a,c,l)}class En{buildKeyframes(e,t,n,r,i,o,s,a,c,l=[]){c=c||new Mn;const u=new An(e,t,c,r,i,l,[]);u.options=a,u.currentTimeline.setStyles([o],null,u.errors,a),hn(this,n,u);const h=u.timelines.filter(e=>e.containsAnimation());if(h.length&&Object.keys(s).length){const e=h[h.length-1];e.allowOnlyTimelineStyles()||e.setStyles([s],null,u.errors,a)}return h.length?h.map(e=>e.buildKeyframes()):[Tn(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,r,r.options);i!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let r=t.currentTimeline.currentTime;const i=null!=n.duration?$t(n.duration):null,o=null!=n.delay?$t(n.delay):null;return 0!==i&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,i,o);r=Math.max(r,n.duration+n.delay)}),r}visitReference(e,t){t.updateOptions(e.options,!0),hn(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let r=t;const i=e.options;if(i&&(i.params||i.delay)&&(r=t.createSubContext(i),r.transformIntoNewTimeline(),null!=i.delay)){6==r.previousNode.type&&(r.currentTimeline.snapshotCurrentStyles(),r.previousNode=xn);const e=$t(i.delay);r.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>hn(this,e,r)),r.currentTimeline.applyStylesToKeyframe(),r.subContextCount>n&&r.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let r=t.currentTimeline.currentTime;const i=e.options&&e.options.delay?$t(e.options.delay):0;e.steps.forEach(o=>{const s=t.createSubContext(e.options);i&&s.delayNextStep(i),hn(this,o,s),r=Math.max(r,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(r),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return Wt(t.params?on(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());const i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();const i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach(e=>{o.forwardTime((e.offset||0)*i),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(r+i),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,r=e.options||{},i=r.delay?$t(r.delay):0;i&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=xn);let o=n;const s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!r.optional,t.errors);t.currentQueryTotal=s.length;let a=null;s.forEach((n,r)=>{t.currentQueryIndex=r;const s=t.createSubContext(e.options,n);i&&s.delayNextStep(i),n===t.element&&(a=s.currentTimeline),hn(this,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,r=t.currentTimeline,i=e.timings,o=Math.abs(i.duration),s=o*(t.currentQueryTotal-1);let a=o*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const c=t.currentTimeline;a&&c.delayNextStep(a);const l=c.currentTime;hn(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-l+(r.startTime-n.currentTimeline.startTime)}}const xn={};class An{constructor(e,t,n,r,i,o,s,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=r,this._leaveClassName=i,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xn,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Dn(this._driver,t,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let r=this.options;null!=n.duration&&(r.duration=$t(n.duration)),null!=n.delay&&(r.delay=$t(n.delay));const i=n.params;if(i){let e=r.params;e||(e=this.options.params={}),Object.keys(i).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=on(i[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const r=t||this.element,i=new An(this._driver,r,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(r,n||0));return i.previousNode=this.previousNode,i.currentAnimateTimings=this.currentAnimateTimings,i.options=this._copyOptions(),i.updateOptions(e),i.currentQueryIndex=this.currentQueryIndex,i.currentQueryTotal=this.currentQueryTotal,i.parentContext=this,this.subContextCount++,i}transformIntoNewTimeline(e){return this.previousNode=xn,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new Nn(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,r,i,o){let s=[];if(r&&s.push(this.element),e.length>0){e=(e=e.replace(Sn,"."+this._enterClassName)).replace(In,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),s.push(...t)}return i||0!=s.length||o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),s}}class Dn{constructor(e,t,n,r){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=r,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Dn(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||ct,this._currentKeyframe[e]=ct}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,r){t&&(this._previousKeyframe.easing=t);const i=r&&r.params||{},o=function(e,t){const n={};let r;return e.forEach(e=>{"*"===e?(r=r||Object.keys(t),r.forEach(e=>{n[e]=ct})):Yt(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(o).forEach(e=>{const t=on(o[e],i,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:ct),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],r=e._styleSummary[t];(!n||r.time>n.time)&&this._updateStyle(t,r.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let r=[];this._keyframes.forEach((i,o)=>{const s=Yt(i,!0);Object.keys(s).forEach(n=>{const r=s[n];"!"==r?e.add(n):r==ct&&t.add(n)}),n||(s.offset=o/this.duration),r.push(s)});const i=e.size?sn(e.values()):[],o=t.size?sn(t.values()):[];if(n){const e=r[0],t=Kt(e);e.offset=0,t.offset=1,r=[e,t]}return Tn(this.element,r,i,o,this.duration,this.startTime,this.easing,!1)}}class Nn extends Dn{constructor(e,t,n,r,i,o,s=!1){super(e,t,o.delay),this.keyframes=n,this.preStyleProps=r,this.postStyleProps=i,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:r}=this.timings;if(this._stretchStartingKeyframe&&t){const i=[],o=n+t,s=t/o,a=Yt(e[0],!1);a.offset=0,i.push(a);const c=Yt(e[0],!1);c.offset=Rn(s),i.push(c);const l=e.length-1;for(let r=1;r<=l;r++){let s=Yt(e[r],!1);s.offset=Rn((t+s.offset*n)/o),i.push(s)}n=o,t=0,r="",e=i}return Tn(this.element,e,this.preStyleProps,this.postStyleProps,n,t,r,!0)}}function Rn(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class Fn{}class Ln extends Fn{normalizePropertyName(e,t){return cn(e)}normalizeStyleValue(e,t,n,r){let i="";const o=n.toString().trim();if(qn[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&r.push(`Please provide a CSS unit value for ${e}:${n}`)}return o+i}}const qn=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function Un(e,t,n,r,i,o,s,a,c,l,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:o,toState:r,toStyles:s,timelines:a,queriedElements:c,preStyleProps:l,postStyleProps:u,totalTime:h,errors:d}}const Vn={};class Zn{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,r){return function(e,t,n,r,i){return e.some(e=>e(t,n,r,i))}(this.ast.matchers,e,t,n,r)}buildStyles(e,t,n){const r=this._stateStyles["*"],i=this._stateStyles[e],o=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):o}build(e,t,n,r,i,o,s,a,c,l){const u=[],h=this.ast.options&&this.ast.options.params||Vn,d=this.buildStyles(n,s&&s.params||Vn,u),f=a&&a.params||Vn,p=this.buildStyles(r,f,u),g=new Set,m=new Map,_=new Map,y="void"===r,b={params:Object.assign(Object.assign({},h),f)},v=l?[]:kn(e,t,this.ast.animation,i,o,d,p,b,c,u);let w=0;if(v.forEach(e=>{w=Math.max(e.duration+e.delay,w)}),u.length)return Un(t,this._triggerName,n,r,y,d,p,[],[],m,_,w,u);v.forEach(e=>{const n=e.element,r=Tt(m,n,{});e.preStyleProps.forEach(e=>r[e]=!0);const i=Tt(_,n,{});e.postStyleProps.forEach(e=>i[e]=!0),n!==t&&g.add(n)});const C=sn(g.values());return Un(t,this._triggerName,n,r,y,d,p,v,C,m,_,w)}}class jn{constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){const n={},r=Kt(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(r[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const i=e;Object.keys(i).forEach(e=>{let o=i[e];o.length>1&&(o=on(o,r,t));const s=this.normalizer.normalizePropertyName(e,t);o=this.normalizer.normalizeStyleValue(e,s,o,t),n[s]=o})}}),n}}class Bn{constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new jn(e.style,e.options&&e.options.params||{},n)}),zn(this.states,"true","1"),zn(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new Zn(e,t,this.states))}),this.fallbackTransition=new Zn(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,r){return this.transitionFactories.find(i=>i.match(e,t,n,r))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function zn(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const Hn=new Mn;class $n{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],r=bn(this._driver,t,n);if(n.length)throw new Error(`Unable to build the animation due to the following errors: ${n.join("\n")}`);this._animations[e]=r}_buildPlayer(e,t,n){const r=e.element,i=wt(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const r=[],i=this._animations[e];let o;const s=new Map;if(i?(o=kn(this._driver,t,i,Vt,Zt,{},{},n,Hn,r),o.forEach(e=>{const t=Tt(s,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(r.push("The requested animation doesn't exist or has already been destroyed"),o=[]),r.length)throw new Error(`Unable to create the animation due to the following errors: ${r.join("\n")}`);s.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,ct)})});const a=vt(o.map(e=>{const t=s.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error(`Unable to find the timeline player referenced by ${e}`);return t}listen(e,t,n,r){const i=Pt(t,"","","");return Ct(this._getPlayer(e),n,i,r),()=>{}}command(e,t,n,r){if("register"==n)return void this.register(e,r[0]);if("create"==n)return void this.create(e,t,r[0]||{});const i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}}const Gn="ng-animate-queued",Wn="ng-animate-disabled",Kn=".ng-animate-disabled",Yn=[],Qn={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Jn={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class Xn{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(r=n?e.value:e)?r:null,n){const t=Kt(e);delete t.value,this.options=t}else this.options={};var r;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const er="void",tr=new Xn(er);class nr{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,lr(t,this._hostClassName)}listen(e,t,n,r){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(i=n)&&"done"!=i)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var i;const o=Tt(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};o.push(s);const a=Tt(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(lr(e,jt),lr(e,"ng-trigger-"+t),a[t]=tr),()=>{this._engine.afterFlush(()=>{const e=o.indexOf(s);e>=0&&o.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,r=!0){const i=this._getTrigger(t),o=new ir(this.id,t,e);let s=this._engine.statesByElement.get(e);s||(lr(e,jt),lr(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));let a=s[t];const c=new Xn(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&c.absorbOptions(a.options),s[t]=c,a||(a=tr),c.value!==er&&a.value===c.value){if(!function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(let i=0;i<n.length;i++){const r=n[i];if(!t.hasOwnProperty(r)||e[r]!==t[r])return!1}return!0}(a.params,c.params)){const t=[],n=i.matchStyles(a.value,a.params,t),r=i.matchStyles(c.value,c.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{en(e,n),Xt(e,r)})}return}const l=Tt(this._engine.playersByElement,e,[]);l.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let u=i.matchTransition(a.value,c.value,e,c.params),h=!1;if(!u){if(!r)return;u=i.fallbackTransition,h=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:u,fromState:a,toState:c,player:o,isFallbackTransition:h}),h||(lr(e,Gn),o.onStart(()=>{ur(e,Gn)})),o.onDone(()=>{let t=this.players.indexOf(o);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(o);e>=0&&n.splice(e,1)}}),this.players.push(o),l.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,Bt,!0);n.forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,r){const i=this._engine.statesByElement.get(e);if(i){const o=[];if(Object.keys(i).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,er,r);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&vt(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){const r=new Set;t.forEach(t=>{const i=t.name;if(r.has(i))return;r.add(i);const o=this._triggers[i].fallbackTransition,s=n[i]||tr,a=new Xn(er),c=new ir(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:o,fromState:s,toState:a,player:c,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let r=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)r=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){r=!0;break}}}if(this.prepareLeaveAnimationListeners(e),r)n.markElementAsRemoved(this.id,e,!1,t);else{const r=e.__ng_removed;r&&r!==Qn||(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){lr(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const r=n.player;if(r.destroyed)return;const i=n.element,o=this._elementListeners.get(i);o&&o.forEach(t=>{if(t.name==n.triggerName){const r=Pt(i,n.triggerName,n.fromState.value,n.toState.value);r._data=e,Ct(n.player,t.phase,r,t.callback)}}),r.markedForDestroy?this._engine.afterFlush(()=>{r.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,r=t.transition.ast.depCount;return 0==n||0==r?n-r:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class rr{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new nr(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let r=!1;for(let i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let r=0;r<e.length;r++){const i=n[e[r]].namespaceId;if(i){const e=this._fetchNamespace(i);e&&t.add(e)}}}return t}trigger(e,t,n,r){if(or(t)){const i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}insertNode(e,t,n,r){if(!or(t))return;const i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const r=this._fetchNamespace(e);r&&r.insertNode(t,n)}r&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),lr(e,Wn)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),ur(e,Wn))}removeNode(e,t,n,r){if(or(t)){const i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,r)}}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,r,i){return or(t)?this._fetchNamespace(e).listen(t,n,r,i):()=>{}}_buildInstruction(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}destroyInnerAnimations(e){let t=this.driver.query(e,Bt,!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,Ht,!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return vt(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=Qn,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,Kn)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Kn,!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)lr(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?vt(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error(`Unable to process animations due to the following failed trigger transitions\n ${e.join("\n")}`)}_flushAnimations(e,t){const n=new Mn,r=[],i=new Map,o=[],s=new Map,a=new Map,c=new Map,l=new Set;this.disabledNodes.forEach(e=>{l.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)l.add(t[n])});const u=this.bodyNode,h=Array.from(this.statesByElement.keys()),d=cr(h,this.collectedEnterElements),f=new Map;let p=0;d.forEach((e,t)=>{const n=Vt+p++;f.set(t,n),e.forEach(e=>lr(e,n))});const g=[],m=new Set,_=new Set;for(let E=0;E<this.collectedLeaveElements.length;E++){const e=this.collectedLeaveElements[E],t=e.__ng_removed;t&&t.setForRemoval&&(g.push(e),m.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>m.add(e)):_.add(e))}const y=new Map,b=cr(h,Array.from(m));b.forEach((e,t)=>{const n=Zt+p++;y.set(t,n),e.forEach(e=>lr(e,n))}),e.push(()=>{d.forEach((e,t)=>{const n=f.get(t);e.forEach(e=>ur(e,n))}),b.forEach((e,t)=>{const n=y.get(t);e.forEach(e=>ur(e,n))}),g.forEach(e=>{this.processLeaveNode(e)})});const v=[],w=[];for(let E=this._namespaceList.length-1;E>=0;E--)this._namespaceList[E].drainQueuedTransitions(t).forEach(e=>{const t=e.player,i=e.element;if(v.push(t),this.collectedEnterElements.length){const e=i.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const l=!u||!this.driver.containsElement(u,i),h=y.get(i),d=f.get(i),p=this._buildInstruction(e,n,d,h,l);if(p.errors&&p.errors.length)w.push(p);else{if(l)return t.onStart(()=>en(i,p.fromStyles)),t.onDestroy(()=>Xt(i,p.toStyles)),void r.push(t);if(e.isFallbackTransition)return t.onStart(()=>en(i,p.fromStyles)),t.onDestroy(()=>Xt(i,p.toStyles)),void r.push(t);p.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(i,p.timelines),o.push({instruction:p,player:t,element:i}),p.queriedElements.forEach(e=>Tt(s,e,[]).push(t)),p.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),p.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let r=c.get(t);r||c.set(t,r=new Set),n.forEach(e=>r.add(e))})}});if(w.length){const e=[];w.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),v.forEach(e=>e.destroy()),this.reportError(e)}const C=new Map,O=new Map;o.forEach(e=>{const t=e.element;n.has(t)&&(O.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,C))}),r.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{Tt(C,t,[]).push(e),e.destroy()})});const P=g.filter(e=>fr(e,a,c)),T=new Map;ar(T,this.driver,_,c,ct).forEach(e=>{fr(e,a,c)&&P.push(e)});const M=new Map;d.forEach((e,t)=>{ar(M,this.driver,new Set(e),a,"!")}),P.forEach(e=>{const t=T.get(e),n=M.get(e);T.set(e,Object.assign(Object.assign({},t),n))});const S=[],I=[],k={};o.forEach(e=>{const{element:t,player:o,instruction:s}=e;if(n.has(t)){if(l.has(t))return o.onDestroy(()=>Xt(t,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void r.push(o);let e=k;if(O.size>1){let n=t;const r=[];for(;n=n.parentNode;){const t=O.get(n);if(t){e=t;break}r.push(n)}r.forEach(t=>O.set(t,e))}const n=this._buildAnimation(o.namespaceId,s,C,i,M,T);if(o.setRealPlayer(n),e===k)S.push(o);else{const t=this.playersByElement.get(e);t&&t.length&&(o.parentPlayer=vt(t)),r.push(o)}}else en(t,s.fromStyles),o.onDestroy(()=>Xt(t,s.toStyles)),I.push(o),l.has(t)&&r.push(o)}),I.forEach(e=>{const t=i.get(e.element);if(t&&t.length){const n=vt(t);e.setRealPlayer(n)}}),r.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let E=0;E<g.length;E++){const e=g[E],t=e.__ng_removed;if(ur(e,Zt),t&&t.hasAnimation)continue;let n=[];if(s.size){let t=s.get(e);t&&t.length&&n.push(...t);let r=this.driver.query(e,Ht,!0);for(let e=0;e<r.length;e++){let t=s.get(r[e]);t&&t.length&&n.push(...t)}}const r=n.filter(e=>!e.destroyed);r.length?hr(this,e,r):this.processLeaveNode(e)}return g.length=0,S.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),S}elementContainsData(e,t){let n=!1;const r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,r,i){let o=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(o=t)}else{const t=this.playersByElement.get(e);if(t){const e=!i||i==er;t.forEach(t=>{t.queued||(e||t.triggerName==r)&&o.push(t)})}}return(n||r)&&(o=o.filter(e=>!(n&&n!=e.namespaceId||r&&r!=e.triggerName))),o}_beforeAnimationBuild(e,t,n){const r=t.element,i=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:t.triggerName;for(const s of t.timelines){const e=s.element,a=e!==r,c=Tt(n,e,[]);this._getPreviousPlayers(e,a,i,o,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)})}en(r,t.fromStyles)}_buildAnimation(e,t,n,r,i,o){const s=t.triggerName,a=t.element,c=[],l=new Set,u=new Set,h=t.timelines.map(t=>{const h=t.element;l.add(h);const d=h.__ng_removed;if(d&&d.removedBeforeQueried)return new mt(t.duration,t.delay);const f=h!==a,p=function(e){const t=[];return dr(e,t),t}((n.get(h)||Yn).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===h),g=i.get(h),m=o.get(h),_=wt(0,this._normalizer,0,t.keyframes,g,m),y=this._buildPlayer(t,_,p);if(t.subTimeline&&r&&u.add(h),f){const t=new ir(e,s,h);t.setRealPlayer(y),c.push(t)}return y});c.forEach(e=>{Tt(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let r;if(e instanceof Map){if(r=e.get(t),r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&e.delete(t)}}else if(r=e[t],r){if(r.length){const e=r.indexOf(n);r.splice(e,1)}0==r.length&&delete e[t]}return r}(this.playersByQueriedElement,e.element,e))}),l.forEach(e=>lr(e,zt));const d=vt(h);return d.onDestroy(()=>{l.forEach(e=>ur(e,zt)),Xt(a,t.toStyles)}),u.forEach(e=>{Tt(r,e,[]).push(d)}),d}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new mt(e.duration,e.delay)}}class ir{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new mt,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>Ct(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Tt(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function or(e){return e&&1===e.nodeType}function sr(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function ar(e,t,n,r,i){const o=[];n.forEach(e=>o.push(sr(e)));const s=[];r.forEach((n,r)=>{const o={};n.forEach(e=>{const n=o[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=Jn,s.push(r))}),e.set(r,o)});let a=0;return n.forEach(e=>sr(e,o[a++])),s}function cr(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const r=new Set(t),i=new Map;function o(e){if(!e)return 1;let t=i.get(e);if(t)return t;const s=e.parentNode;return t=n.has(s)?s:r.has(s)?1:o(s),i.set(e,t),t}return t.forEach(e=>{const t=o(e);1!==t&&n.get(t).push(e)}),n}function lr(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function ur(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function hr(e,t,n){vt(n).onDone(()=>e.processLeaveNode(t))}function dr(e,t){for(let n=0;n<e.length;n++){const r=e[n];r instanceof _t?dr(r.players,t):t.push(r)}}function fr(e,t,n){const r=n.get(e);if(!r)return!1;let i=t.get(e);return i?r.forEach(e=>i.add(e)):t.set(e,r),n.delete(e),!0}class pr{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new rr(e,t,n),this._timelineEngine=new $n(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,r,i){const o=e+"-"+r;let s=this._triggerCache[o];if(!s){const e=[],t=bn(this._driver,i,e);if(e.length)throw new Error(`The animation trigger "${r}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);s=function(e,t,n){return new Bn(e,t,n)}(r,t,this._normalizer),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(t,r,s)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}onRemove(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,r){if("@"==n.charAt(0)){const[e,i]=Mt(n);this._timelineEngine.command(e,t,i,r)}else this._transitionEngine.trigger(e,t,n,r)}listen(e,t,n,r,i){if("@"==n.charAt(0)){const[e,r]=Mt(n);return this._timelineEngine.listen(e,t,r,i)}return this._transitionEngine.listen(e,t,n,r,i)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function gr(e,t){let n=null,r=null;return Array.isArray(t)&&t.length?(n=_r(t[0]),t.length>1&&(r=_r(t[t.length-1]))):t&&(n=_r(t)),n||r?new mr(e,n,r):null}class mr{constructor(e,t,n){this._element=e,this._startStyles=t,this._endStyles=n,this._state=0;let r=mr.initialStylesByElement.get(e);r||mr.initialStylesByElement.set(e,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Xt(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Xt(this._element,this._initialStyles),this._endStyles&&(Xt(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(mr.initialStylesByElement.delete(this._element),this._startStyles&&(en(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(en(this._element,this._endStyles),this._endStyles=null),Xt(this._element,this._initialStyles),this._state=3)}}function _r(e){let t=null;const n=Object.keys(e);for(let r=0;r<n.length;r++){const i=n[r];yr(i)&&(t=t||{},t[i]=e[i])}return t}function yr(e){return"display"===e||"position"===e}mr.initialStylesByElement=new WeakMap;const br="animation",vr="animationend";class wr{constructor(e,t,n,r,i,o,s){this._element=e,this._name=t,this._duration=n,this._delay=r,this._easing=i,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=Sr(e,"").trim();n.length&&(function(e,t){let n=0;for(let r=0;r<e.length;r++)","===e.charAt(r)&&n++}(n),t=`${n}, ${t}`),Mr(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),Tr(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){Cr(this._element,this._name,"paused")}resume(){Cr(this._element,this._name,"running")}setPosition(e){const t=Or(this._element,this._name);this._position=e*this._duration,Mr(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),Tr(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=Sr(e,"").split(","),r=Pr(n,t);r>=0&&(n.splice(r,1),Mr(e,"",n.join(",")))}(this._element,this._name))}}function Cr(e,t,n){Mr(e,"PlayState",n,Or(e,t))}function Or(e,t){const n=Sr(e,"");return n.indexOf(",")>0?Pr(n.split(","),t):Pr([n],t)}function Pr(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function Tr(e,t,n){n?e.removeEventListener(vr,t):e.addEventListener(vr,t)}function Mr(e,t,n,r){const i=br+t;if(null!=r){const t=e.style[i];if(t.length){const e=t.split(",");e[r]=n,n=e.join(",")}}e.style[i]=n}function Sr(e,t){return e.style[br+t]||""}class Ir{constructor(e,t,n,r,i,o,s,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=r,this._delay=i,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=r+i,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._state=0,this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new wr(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:dn(this.element,n))})}this.currentSnapshot=e}}class kr extends mt{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=Lt(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class Er{constructor(){this._count=0}validateStyleProperty(e){return Dt(e)}matchesElement(e,t){return Nt(e,t)}containsElement(e,t){return Rt(e,t)}query(e,t,n){return Ft(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>Lt(e));let r=`@keyframes ${t} {\n`,i="";n.forEach(e=>{i=" ";const t=parseFloat(e.offset);r+=`${i}${100*t}% {\n`,i+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+=`${i}animation-timing-function: ${n};\n`));default:return void(r+=`${i}${t}: ${n};\n`)}}),r+=`${i}}\n`}),r+="}\n";const o=document.createElement("style");return o.textContent=r,o}animate(e,t,n,r,i,o=[],s){const a=o.filter(e=>e instanceof Ir),c={};ln(n,r)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>c[e]=t[e])});const l=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=un(e,t,c));if(0==n)return new kr(e,l);const u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,u,t);(function(e){var t;const n=null===(t=e.getRootNode)||void 0===t?void 0:t.call(e);return"undefined"!=typeof ShadowRoot&&n instanceof ShadowRoot?n:document.head})(e).appendChild(h);const d=gr(e,t),f=new Ir(e,t,u,n,r,i,l,d);return f.onDestroy(()=>{var e;(e=h).parentNode.removeChild(e)}),f}}class xr{constructor(e,t,n,r){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=r,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:dn(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class Ar{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(Dr().toString()),this._cssKeyframesDriver=new Er}validateStyleProperty(e){return Dt(e)}matchesElement(e,t){return Nt(e,t)}containsElement(e,t){return Rt(e,t)}query(e,t,n){return Ft(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,r,i,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,o);const a={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(a.easing=i);const c={},l=o.filter(e=>e instanceof xr);ln(n,r)&&l.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>c[e]=t[e])});const u=gr(e,t=un(e,t=t.map(e=>Yt(e,!1)),c));return new xr(e,t,a,u)}}function Dr(){return yt()&&Element.prototype.animate||{}}let Nr=(()=>{class e extends at{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:r.ifc.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?ht(e):e;return Lr(this._renderer,null,t,"register",[n]),new Rr(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.FYo),r.LFG(s))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class Rr extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new Fr(this._id,e,t||{},this._renderer)}}class Fr{constructor(e,t,n,r){this.id=e,this.element=t,this._renderer=r,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return Lr(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){var e,t;return null!==(t=null===(e=this._renderer.engine.players[+this.id])||void 0===e?void 0:e.getPosition())&&void 0!==t?t:0}}function Lr(e,t,n,r,i){return e.setProperty(t,`@@${n}:${r}`,i)}const qr="@",Ur="@.disabled";let Vr=(()=>{class e{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new Zr("",n,this.engine),this._rendererCache.set(n,e)),e}const r=t.id,i=t.id+"-"+this._currentId;this._currentId++,this.engine.register(i,e);const o=t=>{Array.isArray(t)?t.forEach(o):this.engine.registerTrigger(r,i,e,t.name,t)};return t.data.animation.forEach(o),new jr(this,i,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.FYo),r.LFG(pr),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class Zr{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,r=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,r)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,r){this.delegate.setStyle(e,t,n,r)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==qr&&t==Ur?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class jr extends Zr{constructor(e,t,n,r){super(t,n,r),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==qr?"."==t.charAt(1)&&t==Ur?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if(t.charAt(0)==qr){const r=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let i=t.substr(1),o="";return i.charAt(0)!=qr&&([i,o]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(i)),this.engine.listen(this.namespaceId,r,i,o,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}let Br=(()=>{class e extends pr{constructor(e,t,n){super(e.body,t,n)}ngOnDestroy(){this.flush()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(s),r.LFG(Ut),r.LFG(Fn))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const zr=new r.OlP("AnimationModuleType"),Hr=[{provide:at,useClass:Nr},{provide:Fn,useFactory:function(){return new Ln}},{provide:pr,useClass:Br},{provide:r.FYo,useFactory:function(e,t,n){return new Vr(e,t,n)},deps:[He,pr,r.R0b]}],$r=[{provide:Ut,useFactory:function(){return"function"==typeof Dr()?new Ar:new Er}},{provide:zr,useValue:"BrowserAnimations"},...Hr],Gr=[{provide:Ut,useClass:qt},{provide:zr,useValue:"NoopAnimations"},...Hr];let Wr=(()=>{class e{static withConfig(t){return{ngModule:e,providers:t.disableAnimations?Gr:$r}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:$r,imports:[st]}),e})();var Kr=n(9765),Yr=n(7971);class Qr extends Kr.xQ{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new Yr.N;return this._value}next(e){super.next(this._value=e)}}var Jr=n(5917),Xr=n(7393);const ei=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})();var ti=n(9193);function ni(e){return t=>0===e?(0,ti.c)():t.lift(new ri(e))}class ri{constructor(e){if(this.total=e,this.total<0)throw new ei}call(e,t){return t.subscribe(new ii(e,this.total))}}class ii extends Xr.L{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function oi(e,t){return n=>n.lift(new si(e,t))}class si{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new ai(e,this.compare,this.keySelector))}}class ai extends Xr.L{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(r){return this.destination.error(r)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(r){return this.destination.error(r)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}var ci=n(5345);let li;try{li="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(dT){li=!1}let ui=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!li)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(r.Lbi))},token:e,providedIn:"root"}),e})(),hi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();var di=n(7574),fi=n(3637);class pi{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new gi(e,this.dueTime,this.scheduler))}}class gi extends Xr.L{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(mi,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function mi(e){e.debouncedNext()}"undefined"!=typeof Element&&Element;const _i="cdk-high-contrast-black-on-white",yi="cdk-high-contrast-white-on-black",bi="cdk-high-contrast-active";let vi=(()=>{class e{constructor(e,t){this._platform=e,this._document=t}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,r=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),r){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(bi),e.remove(_i),e.remove(yi),this._hasCheckedHighContrastMode=!0;const t=this.getHighContrastMode();1===t?(e.add(bi),e.add(_i)):2===t&&(e.add(bi),e.add(yi))}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ui),r.LFG(s))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(ui),r.LFG(s))},token:e,providedIn:"root"}),e})(),wi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const Ci=new r.GfV("12.2.13"),Oi=new r.GfV("12.2.13"),Pi=new r.OlP("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Ti,Mi=(()=>{class e{constructor(e,t,n){this._hasDoneGlobalChecks=!1,this._document=n,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=t,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!(!(0,r.X6Q)()||"undefined"!=typeof __karma__&&__karma__||"undefined"!=typeof jasmine&&jasmine||"undefined"!=typeof jest&&jest||"undefined"!=typeof Mocha&&Mocha)&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}_checkDoctypeIsDefined(){this._checkIsEnabled("doctype")&&!this._document.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){if(!this._checkIsEnabled("theme")||!this._document.body||"function"!=typeof getComputedStyle)return;const e=this._document.createElement("div");e.classList.add("mat-theme-loaded-marker"),this._document.body.appendChild(e);const t=getComputedStyle(e);t&&"none"!==t.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),this._document.body.removeChild(e)}_checkCdkVersionMatch(){this._checkIsEnabled("version")&&Oi.full!==Ci.full&&console.warn("The Angular Material version ("+Oi.full+") does not match the Angular CDK version ("+Ci.full+").\nPlease ensure the versions of these two packages exactly match.")}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(vi),r.LFG(Pi,8),r.LFG(s))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[wi],wi]}),e})();function Si(e,t){return class extends e{constructor(...e){super(...e),this.defaultColor=t,this.color=t}get color(){return this._color}set color(e){const t=e||this.defaultColor;t!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),t&&this._elementRef.nativeElement.classList.add(`mat-${t}`),this._color=t)}}}try{Ti="undefined"!=typeof Intl}catch(dT){Ti=!1}let Ii=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Mi,hi],Mi]}),e})(),ki=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Mi],Mi]}),e})(),Ei=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Ii,Mi],Mi]}),e})(),xi=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Mi],Mi]}),e})();var Ai=n(205),Di=n(9796),Ni=n(8002),Ri=n(1555),Fi=n(4402);function Li(...e){if(1===e.length){const t=e[0];if((0,Di.k)(t))return qi(t,null);if((0,Ri.K)(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return qi(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return qi(e=1===e.length&&(0,Di.k)(e[0])?e[0]:e,null).pipe((0,Ni.U)(e=>t(...e)))}return qi(e,null)}function qi(e,t){return new di.y(n=>{const r=e.length;if(0===r)return void n.complete();const i=new Array(r);let o=0,s=0;for(let a=0;a<r;a++){const c=(0,Fi.D)(e[a]);let l=!1;n.add(c.subscribe({next:e=>{l||(l=!0,s++),i[a]=e},error:e=>n.error(e),complete:()=>{o++,o!==r&&l||(s===r&&n.next(t?t.reduce((e,t,n)=>(e[t]=i[n],e),{}):i),n.complete())}}))}})}var Ui=n(5319),Vi=n(3342);function Zi(e){return function(t){const n=new ji(e),r=t.lift(n);return n.caught=r}}class ji{constructor(e){this.selector=e}call(e,t){return t.subscribe(new Bi(e,this.selector,this.caught))}}class Bi extends ci.Ds{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const r=new ci.IY(this);this.add(r);const i=(0,ci.ft)(n,r);i!==r&&this.add(i)}}}function zi(e){return t=>t.lift(new Hi(e))}class Hi{constructor(e){this.callback=e}call(e,t){return t.subscribe(new $i(e,this.callback))}}class $i extends Xr.L{constructor(e,t){super(e),this.add(new Ui.w(t))}}var Gi=n(8819),Wi=n(9773);function Ki(e,t){return(0,Wi.zg)(e,t,1)}function Yi(e,t){return function(n){return n.lift(new Qi(e,t))}}class Qi{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Ji(e,this.predicate,this.thisArg))}}class Ji extends Xr.L{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}class Xi{}class eo{}class to{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),r=n.toLowerCase(),i=e.slice(t+1).trim();this.maybeSetNormalizedName(n,r),this.headers.has(r)?this.headers.get(r).push(i):this.headers.set(r,[i])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const r=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(r,n),this.maybeSetNormalizedName(t,r))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof to?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new to;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof to?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const r=("a"===e.op?this.headers.get(t):void 0)||[];r.push(...n),this.headers.set(t,r);break;case"d":const i=e.value;if(i){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===i.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class no{encodeKey(e){return ro(e)}encodeValue(e){return ro(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function ro(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function io(e){return`${e}`}class oo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new no,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(e=>{const r=e.indexOf("="),[i,o]=-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],s=n.get(i)||[];s.push(o),n.set(i,s)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(n=>{const r=e[n];Array.isArray(r)?r.forEach(e=>{t.push({param:n,value:e,op:"a"})}):t.push({param:n,value:r,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new oo({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(io(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(io(e.value));-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class so{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}keys(){return this.map.keys()}}function ao(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function co(e){return"undefined"!=typeof Blob&&e instanceof Blob}function lo(e){return"undefined"!=typeof FormData&&e instanceof FormData}class uo{constructor(e,t,n,r){let i;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.context&&(this.context=i.context),i.params&&(this.params=i.params)),this.headers||(this.headers=new to),this.context||(this.context=new so),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new oo,this.urlWithParams=t}serializeBody(){return null===this.body?null:ao(this.body)||co(this.body)||lo(this.body)||"undefined"!=typeof URLSearchParams&&this.body instanceof URLSearchParams||"string"==typeof this.body?this.body:this.body instanceof oo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||lo(this.body)?null:co(this.body)?this.body.type||null:ao(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof oo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){var t;const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,s=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=null!==(t=e.context)&&void 0!==t?t:this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),l)),new uo(n,r,o,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:s})}}var ho=(()=>((ho=ho||{})[ho.Sent=0]="Sent",ho[ho.UploadProgress=1]="UploadProgress",ho[ho.ResponseHeader=2]="ResponseHeader",ho[ho.DownloadProgress=3]="DownloadProgress",ho[ho.Response=4]="Response",ho[ho.User=5]="User",ho))();class fo{constructor(e,t=200,n="OK"){this.headers=e.headers||new to,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class po extends fo{constructor(e={}){super(e),this.type=ho.ResponseHeader}clone(e={}){return new po({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class go extends fo{constructor(e={}){super(e),this.type=ho.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new go({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class mo extends fo{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function _o(e,t){return{body:t,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let yo=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let r;if(e instanceof uo)r=e;else{let i,o;i=n.headers instanceof to?n.headers:new to(n.headers),n.params&&(o=n.params instanceof oo?n.params:new oo({fromObject:n.params})),r=new uo(e,t,void 0!==n.body?n.body:null,{headers:i,context:n.context,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const i=(0,Jr.of)(r).pipe(Ki(e=>this.handler.handle(e)));if(e instanceof uo||"events"===n.observe)return i;const o=i.pipe(Yi(e=>e instanceof go));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return o.pipe((0,Ni.U)(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return o.pipe((0,Ni.U)(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return o.pipe((0,Ni.U)(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return o.pipe((0,Ni.U)(e=>e.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new oo).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,_o(n,t))}post(e,t,n={}){return this.request("POST",e,_o(n,t))}put(e,t,n={}){return this.request("PUT",e,_o(n,t))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Xi))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class bo{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const vo=new r.OlP("HTTP_INTERCEPTORS");let wo=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Co=/^\)\]\}',?\n/;let Oo=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new di.y(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const r=e.serializeBody();let i=null;const o=()=>{if(null!==i)return i;const t=1223===n.status?204:n.status,r=n.statusText||"OK",o=new to(n.getAllResponseHeaders()),s=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return i=new po({headers:o,status:t,statusText:r,url:s}),i},s=()=>{let{headers:r,status:i,statusText:s,url:a}=o(),c=null;204!==i&&(c=void 0===n.response?n.responseText:n.response),0===i&&(i=c?200:0);let l=i>=200&&i<300;if("json"===e.responseType&&"string"==typeof c){const e=c;c=c.replace(Co,"");try{c=""!==c?JSON.parse(c):null}catch(rD){c=e,l&&(l=!1,c={error:rD,text:c})}}l?(t.next(new go({body:c,headers:r,status:i,statusText:s,url:a||void 0})),t.complete()):t.error(new mo({error:c,headers:r,status:i,statusText:s,url:a||void 0}))},a=e=>{const{url:r}=o(),i=new mo({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:r||void 0});t.error(i)};let c=!1;const l=r=>{c||(t.next(o()),c=!0);let i={type:ho.DownloadProgress,loaded:r.loaded};r.lengthComputable&&(i.total=r.total),"text"===e.responseType&&n.responseText&&(i.partialText=n.responseText),t.next(i)},u=e=>{let n={type:ho.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),n.addEventListener("timeout",a),n.addEventListener("abort",a),e.reportProgress&&(n.addEventListener("progress",l),null!==r&&n.upload&&n.upload.addEventListener("progress",u)),n.send(r),t.next({type:ho.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("abort",a),n.removeEventListener("load",s),n.removeEventListener("timeout",a),e.reportProgress&&(n.removeEventListener("progress",l),null!==r&&n.upload&&n.upload.removeEventListener("progress",u)),n.readyState!==n.DONE&&n.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Se))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Po=new r.OlP("XSRF_COOKIE_NAME"),To=new r.OlP("XSRF_HEADER_NAME");class Mo{}let So=(()=>{class e{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=oe(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(s),r.LFG(r.Lbi),r.LFG(Po))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Io=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Mo),r.LFG(To))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),ko=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(vo,[]);this.chain=e.reduceRight((e,t)=>new bo(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(eo),r.LFG(r.zs3))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Eo=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:Io,useClass:wo}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:Po,useValue:t.cookieName}:[],t.headerName?{provide:To,useValue:t.headerName}:[]]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[Io,{provide:vo,useExisting:Io,multi:!0},{provide:Mo,useClass:So},{provide:Po,useValue:"XSRF-TOKEN"},{provide:To,useValue:"X-XSRF-TOKEN"}]}),e})(),xo=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[yo,{provide:Xi,useClass:ko},Oo,{provide:eo,useExisting:Oo}],imports:[[Eo.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})();const Ao=["*"];function Do(e){return Error(`Unable to find icon with the name "${e}"`)}function No(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function Ro(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class Fo{constructor(e,t,n){this.url=e,this.svgText=t,this.options=n}}let Lo=(()=>{class e{constructor(e,t,n,r){this._httpClient=e,this._sanitizer=t,this._errorHandler=r,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(e,t,n){return this.addSvgIconInNamespace("",e,t,n)}addSvgIconLiteral(e,t,n){return this.addSvgIconLiteralInNamespace("",e,t,n)}addSvgIconInNamespace(e,t,n,r){return this._addSvgIconConfig(e,t,new Fo(n,null,r))}addSvgIconResolver(e){return this._resolvers.push(e),this}addSvgIconLiteralInNamespace(e,t,n,i){const o=this._sanitizer.sanitize(r.q3G.HTML,n);if(!o)throw Ro(n);return this._addSvgIconConfig(e,t,new Fo("",o,i))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,n){return this._addSvgIconSetConfig(e,new Fo(t,null,n))}addSvgIconSetLiteralInNamespace(e,t,n){const i=this._sanitizer.sanitize(r.q3G.HTML,t);if(!i)throw Ro(t);return this._addSvgIconSetConfig(e,new Fo("",i,n))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const t=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,e);if(!t)throw No(e);const n=this._cachedIconsByUrl.get(t);return n?(0,Jr.of)(qo(n)):this._loadSvgIconFromConfig(new Fo(e,null)).pipe((0,Vi.b)(e=>this._cachedIconsByUrl.set(t,e)),(0,Ni.U)(e=>qo(e)))}getNamedSvgIcon(e,t=""){const n=Uo(t,e);let r=this._svgIconConfigs.get(n);if(r)return this._getSvgFromConfig(r);if(r=this._getIconConfigFromResolvers(t,e),r)return this._svgIconConfigs.set(n,r),this._getSvgFromConfig(r);const i=this._iconSetConfigs.get(t);return i?this._getSvgFromIconSetConfigs(e,i):(0,Ai._)(Do(n))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgText?(0,Jr.of)(qo(this._svgElementFromConfig(e))):this._loadSvgIconFromConfig(e).pipe((0,Ni.U)(e=>qo(e)))}_getSvgFromIconSetConfigs(e,t){const n=this._extractIconWithNameFromAnySet(e,t);return n?(0,Jr.of)(n):Li(t.filter(e=>!e.svgText).map(e=>this._loadSvgIconSetFromConfig(e).pipe(Zi(t=>{const n=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,e.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${t.message}`)),(0,Jr.of)(null)})))).pipe((0,Ni.U)(()=>{const n=this._extractIconWithNameFromAnySet(e,t);if(!n)throw Do(e);return n}))}_extractIconWithNameFromAnySet(e,t){for(let n=t.length-1;n>=0;n--){const r=t[n];if(r.svgText&&r.svgText.indexOf(e)>-1){const t=this._svgElementFromConfig(r),n=this._extractSvgIconFromSet(t,e,r.options);if(n)return n}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe((0,Vi.b)(t=>e.svgText=t),(0,Ni.U)(()=>this._svgElementFromConfig(e)))}_loadSvgIconSetFromConfig(e){return e.svgText?(0,Jr.of)(null):this._fetchIcon(e).pipe((0,Vi.b)(t=>e.svgText=t))}_extractSvgIconFromSet(e,t,n){const r=e.querySelector(`[id="${t}"]`);if(!r)return null;const i=r.cloneNode(!0);if(i.removeAttribute("id"),"svg"===i.nodeName.toLowerCase())return this._setSvgAttributes(i,n);if("symbol"===i.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(i),n);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(i),this._setSvgAttributes(o,n)}_svgElementFromString(e){const t=this._document.createElement("DIV");t.innerHTML=e;const n=t.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(e){const t=this._svgElementFromString("<svg></svg>"),n=e.attributes;for(let r=0;r<n.length;r++){const{name:e,value:i}=n[r];"id"!==e&&t.setAttribute(e,i)}for(let r=0;r<e.childNodes.length;r++)e.childNodes[r].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[r].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){var t;const{url:n,options:i}=e,o=null!==(t=null==i?void 0:i.withCredentials)&&void 0!==t&&t;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const s=this._sanitizer.sanitize(r.q3G.RESOURCE_URL,n);if(!s)throw No(n);const a=this._inProgressUrlFetches.get(s);if(a)return a;const c=this._httpClient.get(s,{responseType:"text",withCredentials:o}).pipe(zi(()=>this._inProgressUrlFetches.delete(s)),(0,Gi.B)());return this._inProgressUrlFetches.set(s,c),c}_addSvgIconConfig(e,t,n){return this._svgIconConfigs.set(Uo(e,t),n),this}_addSvgIconSetConfig(e,t){const n=this._iconSetConfigs.get(e);return n?n.push(t):this._iconSetConfigs.set(e,[t]),this}_svgElementFromConfig(e){if(!e.svgElement){const t=this._svgElementFromString(e.svgText);this._setSvgAttributes(t,e.options),e.svgElement=t}return e.svgElement}_getIconConfigFromResolvers(e,t){for(let r=0;r<this._resolvers.length;r++){const i=this._resolvers[r](t,e);if(i)return(n=i).url&&n.options?new Fo(i.url,null,i.options):new Fo(i,null)}var n}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(yo,8),r.LFG(tt),r.LFG(s,8),r.LFG(r.qLn))},e.\u0275prov=r.Yz7({factory:function(){return new e(r.LFG(yo,8),r.LFG(tt),r.LFG(s,8),r.LFG(r.qLn))},token:e,providedIn:"root"}),e})();function qo(e){return e.cloneNode(!0)}function Uo(e,t){return e+":"+t}const Vo=Si(class{constructor(e){this._elementRef=e}}),Zo=new r.OlP("mat-icon-location",{providedIn:"root",factory:function(){const e=(0,r.f3M)(s),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),jo=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Bo=jo.map(e=>`[${e}]`).join(", "),zo=/^url\(['"]?#(.*?)['"]?\)$/;let Ho=(()=>{class e extends Vo{constructor(e,t,n,r,i){super(e),this._iconRegistry=t,this._location=r,this._errorHandler=i,this._inline=!1,this._currentIconFetch=Ui.w.EMPTY,n||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){var t;this._inline=null!=(t=e)&&"false"!=`${t}`}get svgIcon(){return this._svgIcon}set svgIcon(e){e!==this._svgIcon&&(e?this._updateSvgIcon(e):this._svgIcon&&this._clearSvgElement(),this._svgIcon=e)}get fontSet(){return this._fontSet}set fontSet(e){const t=this._cleanupFontValue(e);t!==this._fontSet&&(this._fontSet=t,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(e){const t=this._cleanupFontValue(e);t!==this._fontIcon&&(this._fontIcon=t,this._updateFontIconClasses())}_splitIconName(e){if(!e)return["",""];const t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const t=e.querySelectorAll("style");for(let r=0;r<t.length;r++)t[r].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){const n=e.childNodes[t];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||e.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,t=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();t!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),t&&e.classList.add(t),this._previousFontSetClass=t),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const t=this._elementsWithExternalReferences;t&&t.forEach((t,n)=>{t.forEach(t=>{n.setAttribute(t.name,`url('${e}#${t.value}')`)})})}_cacheChildrenWithExternalReferences(e){const t=e.querySelectorAll(Bo),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let r=0;r<t.length;r++)jo.forEach(e=>{const i=t[r],o=i.getAttribute(e),s=o?o.match(zo):null;if(s){let t=n.get(i);t||(t=[],n.set(i,t)),t.push({name:e,value:s[1]})}})}_updateSvgIcon(e){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),e){const[t,n]=this._splitIconName(e);t&&(this._svgNamespace=t),n&&(this._svgName=n),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(n,t).pipe(ni(1)).subscribe(e=>this._setSvgElement(e),e=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${t}:${n}! ${e.message}`))})}}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(Lo),r.$8M("aria-hidden"),r.Y36(Zo),r.Y36(r.qLn))},e.\u0275cmp=r.Xpm({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:7,hostBindings:function(e,t){2&e&&(r.uIk("data-mat-icon-type",t._usingFontIcon()?"font":"svg")("data-mat-icon-name",t._svgName||t.fontIcon)("data-mat-icon-namespace",t._svgNamespace||t.fontSet),r.ekj("mat-icon-inline",t.inline)("mat-icon-no-color","primary"!==t.color&&"accent"!==t.color&&"warn"!==t.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[r.qOj],ngContentSelectors:Ao,decls:1,vars:0,template:function(e,t){1&e&&(r.F$t(),r.Hsn(0))},styles:[".mat-icon{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),e})(),$o=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Mi],Mi]}),e})();function Go(e,t){return"function"==typeof t?n=>n.pipe(Go((n,r)=>(0,Fi.D)(e(n,r)).pipe((0,Ni.U)((e,i)=>t(n,e,r,i))))):t=>t.lift(new Wo(e))}class Wo{constructor(e){this.project=e}call(e,t){return t.subscribe(new Ko(e,this.project))}}class Ko extends ci.Ds{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(rD){return void this.destination.error(rD)}this._innerSub(t)}_innerSub(e){const t=this.innerSubscription;t&&t.unsubscribe();const n=new ci.IY(this),r=this.destination;r.add(n),this.innerSubscription=(0,ci.ft)(e,n),this.innerSubscription!==n&&r.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=void 0}notifyComplete(){this.innerSubscription=void 0,this.isStopped&&super._complete()}notifyNext(e){this.destination.next(e)}}var Yo=n(6682),Qo=n(6136),Jo=n(7771),Xo=n(8858);class es extends Kr.xQ{constructor(e=Number.POSITIVE_INFINITY,t=Number.POSITIVE_INFINITY,n){super(),this.scheduler=n,this._events=[],this._infiniteTimeWindow=!1,this._bufferSize=e<1?1:e,this._windowTime=t<1?1:t,t===Number.POSITIVE_INFINITY?(this._infiniteTimeWindow=!0,this.next=this.nextInfiniteTimeWindow):this.next=this.nextTimeWindow}nextInfiniteTimeWindow(e){if(!this.isStopped){const t=this._events;t.push(e),t.length>this._bufferSize&&t.shift()}super.next(e)}nextTimeWindow(e){this.isStopped||(this._events.push(new ts(this._getNow(),e)),this._trimBufferThenGetEvents()),super.next(e)}_subscribe(e){const t=this._infiniteTimeWindow,n=t?this._events:this._trimBufferThenGetEvents(),r=this.scheduler,i=n.length;let o;if(this.closed)throw new Yr.N;if(this.isStopped||this.hasError?o=Ui.w.EMPTY:(this.observers.push(e),o=new Xo.W(this,e)),r&&e.add(e=new Qo.ht(e,r)),t)for(let s=0;s<i&&!e.closed;s++)e.next(n[s]);else for(let s=0;s<i&&!e.closed;s++)e.next(n[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),o}_getNow(){return(this.scheduler||Jo.c).now()}_trimBufferThenGetEvents(){const e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length;let o=0;for(;o<i&&!(e-r[o].time<n);)o++;return i>t&&(o=Math.max(o,i-t)),o>0&&r.splice(0,o),r}}class ts{constructor(e,t){this.time=e,this.value=t}}function ns(e,t,n){let r;return r=e&&"object"==typeof e?e:{bufferSize:e,windowTime:t,refCount:!1,scheduler:n},e=>e.lift(function({bufferSize:e=Number.POSITIVE_INFINITY,windowTime:t=Number.POSITIVE_INFINITY,refCount:n,scheduler:r}){let i,o,s=0,a=!1,c=!1;return function(l){let u;s++,!i||a?(a=!1,i=new es(e,t,r),u=i.subscribe(this),o=l.subscribe({next(e){i.next(e)},error(e){a=!0,i.error(e)},complete(){c=!0,o=void 0,i.complete()}}),c&&(o=void 0)):u=i.subscribe(this),this.add(()=>{s--,u.unsubscribe(),u=void 0,o&&!c&&n&&0===s&&(o.unsubscribe(),o=void 0,i=void 0)})}}(r))}const rs=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();function is(e=null){return t=>t.lift(new os(e))}class os{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new ss(e,this.defaultValue))}}class ss extends Xr.L{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function as(e=us){return t=>t.lift(new cs(e))}class cs{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new ls(e,this.errorFactory))}}class ls extends Xr.L{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function us(){return new rs}var hs=n(4487);function ds(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Yi((t,n)=>e(t,n,r)):hs.y,ni(1),n?is(t):as(()=>new rs))}function fs(e,t){return t?Go(()=>e,t):Go(()=>e)}var ps=n(3101),gs=n(4459),ms=n(8939),_s=n(2329);class ys{constructor(e){return e}}const bs=new r.OlP("angularfire2._apps"),vs={provide:ys,useFactory:function(e){return e&&1===e.length?e[0]:new ys((0,_s.Mq)())},deps:[[new r.FiY,bs]]},ws={provide:class{constructor(){return(0,_s.C6)()}},deps:[[new r.FiY,bs]]};let Cs=(()=>{class e{constructor(e){(0,_s.KN)("angularfire",gs.q4.full,"core"),(0,_s.KN)("angularfire",gs.q4.full,"app"),(0,_s.KN)("angular",r.q4F.full,e.toString())}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.Lbi))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[vs,ws]}),e})();var Os=n(6304),Ps=n(279),Ts=n(8604),Ms=n(3854),Ss=n(9306);const Is=new Map,ks={activated:!1,tokenObservers:[]},Es={initialized:!1,enabled:!1};function xs(e){return Is.get(e)||ks}function As(e,t){Is.set(e,t)}function Ds(){return Es}class Ns{constructor(e,t,n,r,i){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=n,this.lowerBound=r,this.upperBound=i,this.pending=null,this.nextErrorWaitInterval=r,r>i)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Os.Z)(function*(){t.stop();try{t.pending=new Ms.BH,yield function(e){return new Promise(t=>{setTimeout(t,e)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ms.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(rD){t.retryPolicy(rD)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const e=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),e}}}const Rs=new Ms.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Fs(e){if(!xs(e).activated)throw Rs.create("use-before-activation",{appName:e.name})}function Ls(e,t){return qs.apply(this,arguments)}function qs(){return(qs=(0,Os.Z)(function*({url:e,body:t},n){var r,i;const o={"Content-Type":"application/json"},s=n.getImmediate({optional:!0});if(s){const e=yield s.getHeartbeatsHeader();e&&(o["X-Firebase-Client"]=e)}const a={method:"POST",body:JSON.stringify(t),headers:o};let c,l;try{c=yield fetch(e,a)}catch(f){throw Rs.create("fetch-network-error",{originalErrorMessage:null===(r=f)||void 0===r?void 0:r.message})}if(200!==c.status)throw Rs.create("fetch-status-error",{httpStatus:c.status});try{l=yield c.json()}catch(f){throw Rs.create("fetch-parse-error",{originalErrorMessage:null===(i=f)||void 0===i?void 0:i.message})}const u=l.ttl.match(/^([\d.]+)(s)$/);if(!u||!u[2]||isNaN(Number(u[1])))throw Rs.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${l.ttl}`});const h=1e3*Number(u[1]),d=Date.now();return{token:l.token,expireTimeMillis:d+h,issuedAtTimeMillis:d}})).apply(this,arguments)}function Us(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${n}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:t}}}const Vs="firebase-app-check-store";let Zs=null;function js(){return Zs||(Zs=new Promise((e,t)=>{var n;try{const n=indexedDB.open("firebase-app-check-database",1);n.onsuccess=t=>{e(t.target.result)},n.onerror=e=>{var n;t(Rs.create("storage-open",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))},n.onupgradeneeded=e=>{const t=e.target.result;switch(e.oldVersion){case 0:t.createObjectStore(Vs,{keyPath:"compositeKey"})}}}catch(r){t(Rs.create("storage-open",{originalErrorMessage:null===(n=r)||void 0===n?void 0:n.message}))}}),Zs)}function Bs(){return(Bs=(0,Os.Z)(function*(e,t){const n=(yield js()).transaction(Vs,"readwrite"),r=n.objectStore(Vs).put({compositeKey:e,value:t});return new Promise((e,t)=>{r.onsuccess=t=>{e()},n.onerror=e=>{var n;t(Rs.create("storage-set",{originalErrorMessage:null===(n=e.target.error)||void 0===n?void 0:n.message}))}})})).apply(this,arguments)}const zs=new Ss.Yd("@firebase/app-check");function Hs(e,t){return(0,Ms.hl)()?function(e,t){return function(e,t){return Bs.apply(this,arguments)}(function(e){return`${e.options.appId}-${e.name}`}(e),t)}(e,t).catch(e=>{zs.warn(`Failed to write token to IndexedDB. Error: ${e}`)}):Promise.resolve()}function $s(){return Ds().enabled}function Gs(){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,Os.Z)(function*(){const e=Ds();if(e.enabled&&e.token)return e.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const Ks={error:"UNKNOWN_ERROR"};function Ys(e){return Qs.apply(this,arguments)}function Qs(){return(Qs=(0,Os.Z)(function*(e,t=!1){const n=e.app;Fs(n);const r=xs(n);let i,o=r.token;if(!o){const e=yield r.cachedTokenPromise;e&&ta(e)&&(o=e)}if(!t&&o&&ta(o))return{token:o.token};let s,a=!1;if($s()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Ls(Us(n,yield Gs()),e.heartbeatServiceProvider).then(e=>(r.exchangeTokenPromise=void 0,e)),a=!0);const t=yield r.exchangeTokenPromise;return yield Hs(n,t),As(n,Object.assign(Object.assign({},r),{token:t})),{token:t.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().then(e=>(r.exchangeTokenPromise=void 0,e)),a=!0),o=yield r.exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?zs.warn(c.message):zs.error(c),i=c}return o?(s={token:o.token},As(n,Object.assign(Object.assign({},r),{token:o})),yield Hs(n,o)):s=na(i),a&&ea(n,s),s})).apply(this,arguments)}function Js(e,t){const n=xs(e),r=n.tokenObservers.filter(e=>e.next!==t);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),As(e,Object.assign(Object.assign({},n),{tokenObservers:r}))}function Xs(e){const{app:t}=e,n=xs(t);let r=n.tokenRefresher;r||(r=function(e){const{app:t}=e;return new Ns((0,Os.Z)(function*(){let n;if(n=xs(t).token?yield Ys(e,!0):yield Ys(e),n.error)throw n.error}),()=>!0,()=>{const e=xs(t);if(e.token){let t=e.token.issuedAtTimeMillis+.5*(e.token.expireTimeMillis-e.token.issuedAtTimeMillis)+3e5;return t=Math.min(t,e.token.expireTimeMillis-3e5),Math.max(0,t-Date.now())}return 0},3e4,96e4)}(e),As(t,Object.assign(Object.assign({},n),{tokenRefresher:r}))),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function ea(e,t){const n=xs(e).tokenObservers;for(const i of n)try{"EXTERNAL"===i.type&&null!=t.error?i.error(t.error):i.next(t)}catch(r){}}function ta(e){return e.expireTimeMillis-Date.now()>0}function na(e){return{token:(t=Ks,Ms.US.encodeString(JSON.stringify(t),!1)),error:e};var t}class ra{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=xs(this.app);for(const t of e)Js(this.app,t.next);return Promise.resolve()}}const ia="app-check-internal";(0,Ps._registerComponent)(new Ts.wA("app-check",e=>{return t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat"),new ra(t,n);var t,n},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(ia).initialize()})),(0,Ps._registerComponent)(new Ts.wA(ia,e=>{return t=e.getProvider("app-check").getImmediate(),{getToken:e=>Ys(t,e),addTokenListener:e=>function(e,t,n,r){const{app:i}=e,o=xs(i),s={next:n,error:void 0,type:"INTERNAL"};if(As(i,Object.assign(Object.assign({},o),{tokenObservers:[...o.tokenObservers,s]})),o.token&&ta(o.token)){const t=o.token;Promise.resolve().then(()=>{n({token:t.token}),Xs(e)}).catch(()=>{})}o.cachedTokenPromise.then(()=>Xs(e))}(t,0,e),removeTokenListener:e=>Js(t.app,e)};var t},"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ps.registerVersion)("@firebase/app-check","0.5.9");class oa{constructor(){return(0,gs.vb)("app-check")}}"undefined"!=typeof window&&window;var sa=n(7841);const aa=new r.OlP("angularfire2.auth.use-emulator"),ca=new r.OlP("angularfire2.auth.settings"),la=new r.OlP("angularfire2.auth.tenant-id"),ua=new r.OlP("angularfire2.auth.langugage-code"),ha=new r.OlP("angularfire2.auth.use-device-language"),da=new r.OlP("angularfire.auth.persistence"),fa=(e,t,n,r,i,o,s,a)=>(0,ms.cc)(`${e.name}.auth`,"AngularFireAuth",e.name,()=>{const c=t.runOutsideAngular(()=>e.auth());if(n&&c.useEmulator(...n),r&&(c.tenantId=r),c.languageCode=i,o&&c.useDeviceLanguage(),s)for(const[e,t]of Object.entries(s))c.settings[e]=t;return a&&c.setPersistence(a),c},[n,r,i,o,s,a]);let pa=(()=>{class e{constructor(e,t,r,i,o,s,a,c,l,u,h,d){const f=new Kr.xQ,p=(0,Jr.of)(void 0).pipe((0,Qo.QV)(o.outsideAngular),Go(()=>i.runOutsideAngular(()=>Promise.resolve().then(n.bind(n,5468)))),(0,Ni.U)(()=>(0,ms.on)(e,i,t)),(0,Ni.U)(e=>fa(e,i,s,c,l,u,a,h)),ns({bufferSize:1,refCount:!1}));if(Oe(r))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Jr.of)(null);else{p.pipe(ds()).subscribe();const e=p.pipe(Go(e=>e.getRedirectResult().then(e=>e,()=>null)),gs.iC,ns({bufferSize:1,refCount:!1})),t=p.pipe(Go(e=>new di.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onAuthStateChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))})))),n=p.pipe(Go(e=>new di.y(t=>({unsubscribe:i.runOutsideAngular(()=>e.onIdTokenChanged(e=>t.next(e),e=>t.error(e),()=>t.complete()))}))));this.authState=e.pipe(fs(t),(0,ps.R)(o.outsideAngular),(0,Qo.QV)(o.insideAngular)),this.user=e.pipe(fs(n),(0,ps.R)(o.outsideAngular),(0,Qo.QV)(o.insideAngular)),this.idToken=this.user.pipe(Go(e=>e?(0,Fi.D)(e.getIdToken()):(0,Jr.of)(null))),this.idTokenResult=this.user.pipe(Go(e=>e?(0,Fi.D)(e.getIdTokenResult()):(0,Jr.of)(null))),this.credential=(0,Yo.T)(e,f,this.authState.pipe(Yi(e=>!e))).pipe((0,Ni.U)(e=>(null==e?void 0:e.user)?e:null),(0,ps.R)(o.outsideAngular),(0,Qo.QV)(o.insideAngular))}return(0,ms.pX)(this,p,i,{spy:{apply:(e,t,n)=>{(e.startsWith("signIn")||e.startsWith("createUser"))&&n.then(e=>f.next(e))}}})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ms.Dh),r.LFG(ms.xv,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(gs.HU),r.LFG(aa,8),r.LFG(ca,8),r.LFG(la,8),r.LFG(ua,8),r.LFG(ha,8),r.LFG(da,8),r.LFG(oa,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),ga=(()=>{class e{constructor(){sa.Z.registerVersion("angularfire",gs.q4.full,"auth-compat")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[pa]}),e})();const ma=["toast-component",""];function _a(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",5),r.NdJ("click",function(){return r.CHM(e),r.oxw().remove()}),r.TgZ(1,"span",6),r._uU(2,"\xd7"),r.qZA(),r.qZA()}}function ya(e,t){if(1&e&&(r.ynx(0),r._uU(1),r.BQk()),2&e){const e=r.oxw(2);r.xp6(1),r.hij("[",e.duplicatesCount+1,"]")}}function ba(e,t){if(1&e&&(r.TgZ(0,"div"),r._uU(1),r.YNc(2,ya,2,1,"ng-container",4),r.qZA()),2&e){const e=r.oxw();r.Tol(e.options.titleClass),r.uIk("aria-label",e.title),r.xp6(1),r.hij(" ",e.title," "),r.xp6(1),r.Q6J("ngIf",e.duplicatesCount)}}function va(e,t){if(1&e&&r._UZ(0,"div",7),2&e){const e=r.oxw();r.Tol(e.options.messageClass),r.Q6J("innerHTML",e.message,r.oJD)}}function wa(e,t){if(1&e&&(r.TgZ(0,"div",8),r._uU(1),r.qZA()),2&e){const e=r.oxw();r.Tol(e.options.messageClass),r.uIk("aria-label",e.message),r.xp6(1),r.hij(" ",e.message," ")}}function Ca(e,t){if(1&e&&(r.TgZ(0,"div"),r._UZ(1,"div",9),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Udp("width",e.width+"%")}}class Oa{constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class Pa{constructor(e,t,n,r,i,o){this.toastId=e,this.config=t,this.message=n,this.title=r,this.toastType=i,this.toastRef=o,this._onTap=new Kr.xQ,this._onAction=new Kr.xQ,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const Ta=new r.OlP("ToastConfig");class Ma{constructor(e){this._overlayRef=e,this.duplicatesCount=0,this._afterClosed=new Kr.xQ,this._activate=new Kr.xQ,this._manualClose=new Kr.xQ,this._resetTimeout=new Kr.xQ,this._countDuplicate=new Kr.xQ}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class Sa{constructor(e,t){this._toastPackage=e,this._parentInjector=t}get(e,t,n){return e===Pa?this._toastPackage:this._parentInjector.get(e,t,n)}}class Ia extends class{attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}{constructor(e,t,n){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=n}attachComponentPortal(e,t){const n=this._componentFactoryResolver.resolveComponentFactory(e.component);let r;return r=n.create(e.injector),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.detachView(r.hostView),r.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(r),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(r)),r}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}class ka{constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let Ea=(()=>{class e{constructor(e){this._document=e}ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._document.createElement("div");e.classList.add("overlay-container"),e.setAttribute("aria-live","polite"),this._document.body.appendChild(e),this._containerElement=e}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(s))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),xa=(()=>{class e{constructor(e,t,n,r){this._overlayContainer=e,this._componentFactoryResolver=t,this._appRef=n,this._document=r,this._paneElements=new Map}create(e,t){return this._createOverlayRef(this.getPaneElement(e,t))}getPaneElement(e="",t){return this._paneElements.get(t)||this._paneElements.set(t,{}),this._paneElements.get(t)[e]||(this._paneElements.get(t)[e]=this._createPaneElement(e,t)),this._paneElements.get(t)[e]}_createPaneElement(e,t){const n=this._document.createElement("div");return n.id="toast-container",n.classList.add(e),n.classList.add("toast-container"),t?t.getContainerElement().appendChild(n):this._overlayContainer.getContainerElement().appendChild(n),n}_createPortalHost(e){return new Ia(e,this._componentFactoryResolver,this._appRef)}_createOverlayRef(e){return new ka(this._createPortalHost(e))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ea),r.LFG(r._Vd),r.LFG(r.z2F),r.LFG(s))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),Aa=(()=>{class e{constructor(e,t,n,r,i){this.overlay=t,this._injector=n,this.sanitizer=r,this.ngZone=i,this.currentlyActive=0,this.toasts=[],this.index=0,this.toastrConfig={...e.default,...e.config},e.config.iconClasses&&(this.toastrConfig.iconClasses={...e.default.iconClasses,...e.config.iconClasses})}show(e,t,n={},r=""){return this._preBuildNotification(r,e,t,this.applyConfig(n))}success(e,t,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",e,t,this.applyConfig(n))}error(e,t,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",e,t,this.applyConfig(n))}info(e,t,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",e,t,this.applyConfig(n))}warning(e,t,n={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",e,t,this.applyConfig(n))}clear(e){for(const t of this.toasts)if(void 0!==e){if(t.toastId===e)return void t.toastRef.manualClose()}else t.toastRef.manualClose()}remove(e){const t=this._findToast(e);if(!t)return!1;if(t.activeToast.toastRef.close(),this.toasts.splice(t.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length)return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const e=this.toasts[this.currentlyActive].toastRef;e.isInactive()||(this.currentlyActive=this.currentlyActive+1,e.activate())}return!0}findDuplicate(e="",t="",n,r){const{includeTitleDuplicates:i}=this.toastrConfig;for(const o of this.toasts){const s=i&&o.title===e;if((!i||s)&&o.message===t)return o.toastRef.onDuplicate(n,r),o}return null}applyConfig(e={}){return{...this.toastrConfig,...e}}_findToast(e){for(let t=0;t<this.toasts.length;t++)if(this.toasts[t].toastId===e)return{index:t,activeToast:this.toasts[t]};return null}_preBuildNotification(e,t,n,r){return r.onActivateTick?this.ngZone.run(()=>this._buildNotification(e,t,n,r)):this._buildNotification(e,t,n,r)}_buildNotification(e,t,n,i){if(!i.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(n,t,this.toastrConfig.resetTimeoutOnDuplicate&&i.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&n||t)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=t;let s=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(s=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const a=this.overlay.create(i.positionClass,this.overlayContainer);this.index=this.index+1;let c=t;t&&i.enableHtml&&(c=this.sanitizer.sanitize(r.q3G.HTML,t));const l=new Ma(a),u=new Pa(this.index,i,c,n,e,l),h=new Sa(u,this._injector),d=new Oa(i.toastComponent,h),f=a.attach(d,this.toastrConfig.newestOnTop);l.componentInstance=f.instance;const p={toastId:this.index,title:n||"",message:t||"",toastRef:l,onShown:l.afterActivate(),onHidden:l.afterClosed(),onTap:u.onTap(),onAction:u.onAction(),portal:f};return s||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{p.toastRef.activate()})),this.toasts.push(p),p}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(Ta),r.LFG(xa),r.LFG(r.zs3),r.LFG(tt),r.LFG(r.R0b))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();const Da={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",payload:null,toastComponent:(()=>{class e{constructor(e,t,n){this.toastrService=e,this.toastPackage=t,this.ngZone=n,this.width=-1,this.toastClasses="",this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}},this.message=t.message,this.title=t.title,this.options=t.config,this.originalTimeout=t.config.timeOut,this.toastClasses=`${t.toastType} ${t.config.toastClass}`,this.sub=t.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=t.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=t.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=t.toastRef.countDuplicate().subscribe(e=>{this.duplicatesCount=e})}get displayStyle(){if("inactive"===this.state.value)return"none"}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const e=(new Date).getTime();this.width=(this.hideTime-e)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0!==this.options.disableTimeOut&&"extendedTimeOut"!==this.options.disableTimeOut&&0!==this.options.extendedTimeOut&&"removed"!==this.state.value&&(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(e,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(e),t)):this.timeout=setTimeout(()=>e(),t)}outsideInterval(e,t){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(e),t)):this.intervalId=setInterval(()=>e(),t)}runInsideAngular(e){this.ngZone?this.ngZone.run(()=>e()):e()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Aa),r.Y36(Pa),r.Y36(r.R0b))},e.\u0275cmp=r.Xpm({type:e,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(e,t){1&e&&r.NdJ("click",function(){return t.tapToast()})("mouseenter",function(){return t.stickAround()})("mouseleave",function(){return t.delayedHideToast()}),2&e&&(r.d8E("@flyInOut",t.state),r.Tol(t.toastClasses),r.Udp("display",t.displayStyle))},attrs:ma,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(e,t){1&e&&(r.YNc(0,_a,3,0,"button",0),r.YNc(1,ba,3,5,"div",1),r.YNc(2,va,1,3,"div",2),r.YNc(3,wa,2,4,"div",3),r.YNc(4,Ca,2,2,"div",4)),2&e&&(r.Q6J("ngIf",t.options.closeButton),r.xp6(1),r.Q6J("ngIf",t.title),r.xp6(1),r.Q6J("ngIf",t.message&&t.options.enableHtml),r.xp6(1),r.Q6J("ngIf",t.message&&!t.options.enableHtml),r.xp6(1),r.Q6J("ngIf",t.options.progressBar))},directives:[ue],encapsulation:2,data:{animation:[lt("flyInOut",[ft("inactive",dt({opacity:0})),ft("active",dt({opacity:1})),ft("removed",dt({opacity:0})),pt("inactive => active",ut("{{ easeTime }}ms {{ easing }}")),pt("active => removed",ut("{{ easeTime }}ms {{ easing }}"))])]}}),e})()};let Na=(()=>{class e{static forRoot(t={}){return{ngModule:e,providers:[{provide:Ta,useValue:{default:Da,config:t}}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Ce]]}),e})();var Ra=n(4869);class Fa extends Xr.L{notifyNext(e,t,n,r,i){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}class La extends Xr.L{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}var qa=n(7444);function Ua(e,t,n,r,i=new La(e,n,r)){if(!i.closed)return t instanceof di.y?t.subscribe(i):(0,qa.s)(t)(i)}var Va=n(6693);const Za={};class ja{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new Ba(e,this.resultSelector))}}class Ba extends Fa{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(Za),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++)this.add(Ua(this,e[n],void 0,n))}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n){const r=this.values,i=this.toRespond?r[n]===Za?--this.toRespond:this.toRespond:0;r[n]=t,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}var za=n(3282);function Ha(...e){return(0,za.J)(1)((0,Jr.of)(...e))}function $a(e){return new di.y(t=>{let n;try{n=e()}catch(r){return void t.error(r)}return(n?(0,Fi.D)(n):(0,ti.c)()).subscribe(t)})}var Ga=n(2441);function Wa(...e){const t=e[e.length-1];return(0,Ra.K)(t)?(e.pop(),n=>Ha(e,n,t)):t=>Ha(e,t)}function Ka(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Ya(e,t,n))}}class Ya{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new Qa(e,this.accumulator,this.seed,this.hasSeed))}}class Qa extends Xr.L{constructor(e,t,n,r){super(e),this.accumulator=t,this._seed=n,this.hasSeed=r,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(r){this.destination.error(r)}this.seed=n,this.destination.next(n)}}function Ja(e){return function(t){return 0===e?(0,ti.c)():t.lift(new Xa(e))}}class Xa{constructor(e){if(this.total=e,this.total<0)throw new ei}call(e,t){return t.subscribe(new ec(e,this.total))}}class ec extends Xr.L{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,r=this.ring;for(let i=0;i<n;i++){const i=t++%n;e.next(r[i])}}e.complete()}}var tc=n(1307);class nc{constructor(e,t){this.id=e,this.url=t}}class rc extends nc{constructor(e,t,n="imperative",r=null){super(e,t),this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class ic extends nc{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class oc extends nc{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class sc extends nc{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class ac extends nc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cc extends nc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class lc extends nc{constructor(e,t,n,r,i){super(e,t),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=i}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class uc extends nc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class hc extends nc{constructor(e,t,n,r){super(e,t),this.urlAfterRedirects=n,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dc{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class fc{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pc{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gc{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class mc{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class _c{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class yc{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const bc="primary";class vc{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function wc(e){return new vc(e)}function Cc(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Oc(e,t,n){const r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;const i={};for(let o=0;o<r.length;o++){const t=r[o],n=e[o];if(t.startsWith(":"))i[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}function Pc(e,t){const n=e?Object.keys(e):void 0,r=t?Object.keys(t):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!Tc(e[i],t[i]))return!1;return!0}function Tc(e,t){if(Array.isArray(e)&&Array.isArray(t)){if(e.length!==t.length)return!1;const n=[...e].sort(),r=[...t].sort();return n.every((e,t)=>r[t]===e)}return e===t}function Mc(e){return Array.prototype.concat.apply([],e)}function Sc(e){return e.length>0?e[e.length-1]:null}function Ic(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function kc(e){return(0,r.CqO)(e)?e:(0,r.QGY)(e)?(0,Fi.D)(Promise.resolve(e)):(0,Jr.of)(e)}const Ec={exact:function e(t,n,r){if(!Uc(t.segments,n.segments))return!1;if(!Rc(t.segments,n.segments,r))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i],r))return!1}return!0},subset:Dc},xc={exact:function(e,t){return Pc(e,t)},subset:function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>Tc(e[n],t[n]))},ignored:()=>!0};function Ac(e,t,n){return Ec[n.paths](e.root,t.root,n.matrixParams)&&xc[n.queryParams](e.queryParams,t.queryParams)&&!("exact"===n.fragment&&e.fragment!==t.fragment)}function Dc(e,t,n){return Nc(e,t,t.segments,n)}function Nc(e,t,n,r){if(e.segments.length>n.length){const i=e.segments.slice(0,n.length);return!!Uc(i,n)&&!t.hasChildren()&&!!Rc(i,n,r)}if(e.segments.length===n.length){if(!Uc(e.segments,n))return!1;if(!Rc(e.segments,n,r))return!1;for(const n in t.children){if(!e.children[n])return!1;if(!Dc(e.children[n],t.children[n],r))return!1}return!0}{const i=n.slice(0,e.segments.length),o=n.slice(e.segments.length);return!!Uc(e.segments,i)&&!!Rc(e.segments,i,r)&&!!e.children.primary&&Nc(e.children.primary,t,o,r)}}function Rc(e,t,n){return t.every((t,r)=>xc[n](e[r].parameters,t.parameters))}class Fc{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wc(this.queryParams)),this._queryParamMap}toString(){return jc.serialize(this)}}class Lc{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Ic(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Bc(this)}}class qc{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=wc(this.parameters)),this._parameterMap}toString(){return Yc(this)}}function Uc(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}class Vc{}class Zc{parse(e){const t=new tl(e);return new Fc(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){var t;return`/${zc(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${$c(t)}=${$c(e)}`).join("&"):`${$c(t)}=${$c(n)}`}).filter(e=>!!e);return t.length?`?${t.join("&")}`:""}(e.queryParams)}${"string"==typeof e.fragment?`#${t=e.fragment,encodeURI(t)}`:""}`}}const jc=new Zc;function Bc(e){return e.segments.map(e=>Yc(e)).join("/")}function zc(e,t){if(!e.hasChildren())return Bc(e);if(t){const t=e.children.primary?zc(e.children.primary,!1):"",n=[];return Ic(e.children,(e,t)=>{t!==bc&&n.push(`${t}:${zc(e,!1)}`)}),n.length>0?`${t}(${n.join("//")})`:t}{const t=function(e,t){let n=[];return Ic(e.children,(e,r)=>{r===bc&&(n=n.concat(t(e,r)))}),Ic(e.children,(e,r)=>{r!==bc&&(n=n.concat(t(e,r)))}),n}(e,(t,n)=>n===bc?[zc(e.children.primary,!1)]:[`${n}:${zc(t,!1)}`]);return 1===Object.keys(e.children).length&&null!=e.children.primary?`${Bc(e)}/${t[0]}`:`${Bc(e)}/(${t.join("//")})`}}function Hc(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $c(e){return Hc(e).replace(/%3B/gi,";")}function Gc(e){return Hc(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Wc(e){return decodeURIComponent(e)}function Kc(e){return Wc(e.replace(/\+/g,"%20"))}function Yc(e){return`${Gc(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${Gc(e)}=${Gc(t[e])}`).join("")}`;var t}const Qc=/^[^\/()?;=#]+/;function Jc(e){const t=e.match(Qc);return t?t[0]:""}const Xc=/^[^=?&#]+/,el=/^[^?&#]+/;class tl{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Lc([],{}):new Lc([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Lc(e,t)),n}parseSegment(){const e=Jc(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new qc(Wc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Jc(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=Jc(this.remaining);e&&(n=e,this.capture(n))}e[Wc(t)]=Wc(n)}parseQueryParam(e){const t=function(e){const t=e.match(Xc);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(el);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const r=Kc(t),i=Kc(n);if(e.hasOwnProperty(r)){let t=e[r];Array.isArray(t)||(t=[t],e[r]=t),t.push(i)}else e[r]=i}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=Jc(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error(`Cannot parse url '${this.url}'`);let i;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i=bc);const o=this.parseChildren();t[i]=1===Object.keys(o).length?o.primary:new Lc([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class nl{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=rl(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=rl(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=il(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return il(e,this._root).map(e=>e.value)}}function rl(e,t){if(e===t.value)return t;for(const n of t.children){const t=rl(e,n);if(t)return t}return null}function il(e,t){if(e===t.value)return[t];for(const n of t.children){const r=il(e,n);if(r.length)return r.unshift(t),r}return[]}class ol{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function sl(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class al extends nl{constructor(e,t){super(e),this.snapshot=t,fl(this,e)}toString(){return this.snapshot.toString()}}function cl(e,t){const n=function(e,t){const n=new hl([],{},{},"",{},bc,t,null,e.root,-1,{});return new dl("",new ol(n,[]))}(e,t),r=new Qr([new qc("",{})]),i=new Qr({}),o=new Qr({}),s=new Qr({}),a=new Qr(""),c=new ll(r,i,s,a,o,bc,t,n.root);return c.snapshot=n.root,new al(new ol(c,[]),n)}class ll{constructor(e,t,n,r,i,o,s,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Ni.U)(e=>wc(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Ni.U)(e=>wc(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ul(e,t="emptyOnly"){const n=e.pathFromRoot;let r=0;if("always"!==t)for(r=n.length-1;r>=1;){const e=n[r],t=n[r-1];if(e.routeConfig&&""===e.routeConfig.path)r--;else{if(t.component)break;r--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(r))}class hl{constructor(e,t,n,r,i,o,s,a,c,l,u){this.url=e,this.params=t,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=c,this._lastPathIndex=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=wc(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=wc(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class dl extends nl{constructor(e,t){super(t),this.url=e,fl(this,t)}toString(){return pl(this._root)}}function fl(e,t){t.value._routerState=e,t.children.forEach(t=>fl(e,t))}function pl(e){const t=e.children.length>0?` { ${e.children.map(pl).join(", ")} } `:"";return`${e.value}${t}`}function gl(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Pc(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Pc(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!Pc(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Pc(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function ml(e,t){return Pc(e.params,t.params)&&function(e,t){return Uc(e,t)&&e.every((e,n)=>Pc(e.parameters,t[n].parameters))}(e.url,t.url)&&!(!e.parent!=!t.parent)&&(!e.parent||ml(e.parent,t.parent))}function _l(e,t,n){if(n&&e.shouldReuseRoute(t.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=t.value;const i=function(e,t,n){return t.children.map(t=>{for(const r of n.children)if(e.shouldReuseRoute(t.value,r.value.snapshot))return _l(e,t,r);return _l(e,t)})}(e,t,n);return new ol(r,i)}{if(e.shouldAttach(t.value)){const n=e.retrieve(t.value);if(null!==n){const e=n.route;return yl(t,e),e}}const n=new ll(new Qr((r=t.value).url),new Qr(r.params),new Qr(r.queryParams),new Qr(r.fragment),new Qr(r.data),r.outlet,r.component,r),i=t.children.map(t=>_l(e,t));return new ol(n,i)}var r}function yl(e,t){if(e.value.routeConfig!==t.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==t.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");t.value._futureSnapshot=e.value;for(let n=0;n<e.children.length;++n)yl(e.children[n],t.children[n])}function bl(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function vl(e){return"object"==typeof e&&null!=e&&e.outlets}function wl(e,t,n,r,i){let o={};return r&&Ic(r,(e,t)=>{o[t]=Array.isArray(e)?e.map(e=>`${e}`):`${e}`}),new Fc(n.root===e?t:Cl(n.root,e,t),o,i)}function Cl(e,t,n){const r={};return Ic(e.children,(e,i)=>{r[i]=e===t?n:Cl(e,t,n)}),new Lc(e.segments,r)}class Ol{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&bl(n[0]))throw new Error("Root segment cannot have matrix parameters");const r=n.find(vl);if(r&&r!==Sc(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Pl{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function Tl(e,t,n){if(e||(e=new Lc([],{})),0===e.segments.length&&e.hasChildren())return Ml(e,t,n);const r=function(e,t,n){let r=0,i=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<e.segments.length;){if(r>=n.length)return o;const t=e.segments[i],s=n[r];if(vl(s))break;const a=`${s}`,c=r<n.length-1?n[r+1]:null;if(i>0&&void 0===a)break;if(a&&c&&"object"==typeof c&&void 0===c.outlets){if(!El(a,c,t))return o;r+=2}else{if(!El(a,{},t))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){const t=new Lc(e.segments.slice(0,r.pathIndex),{});return t.children.primary=new Lc(e.segments.slice(r.pathIndex),e.children),Ml(t,0,i)}return r.match&&0===i.length?new Lc(e.segments,{}):r.match&&!e.hasChildren()?Sl(e,t,n):r.match?Ml(e,0,i):Sl(e,t,n)}function Ml(e,t,n){if(0===n.length)return new Lc(e.segments,{});{const r=function(e){return vl(e[0])?e[0].outlets:{[bc]:e}}(n),i={};return Ic(r,(n,r)=>{"string"==typeof n&&(n=[n]),null!==n&&(i[r]=Tl(e.children[r],t,n))}),Ic(e.children,(e,t)=>{void 0===r[t]&&(i[t]=e)}),new Lc(e.segments,i)}}function Sl(e,t,n){const r=e.segments.slice(0,t);let i=0;for(;i<n.length;){const o=n[i];if(vl(o)){const e=Il(o.outlets);return new Lc(r,e)}if(0===i&&bl(n[0])){r.push(new qc(e.segments[t].path,kl(n[0]))),i++;continue}const s=vl(o)?o.outlets.primary:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&bl(a)?(r.push(new qc(s,kl(a))),i+=2):(r.push(new qc(s,{})),i++)}return new Lc(r,{})}function Il(e){const t={};return Ic(e,(e,n)=>{"string"==typeof e&&(e=[e]),null!==e&&(t[n]=Sl(new Lc([],{}),0,e))}),t}function kl(e){const t={};return Ic(e,(e,n)=>t[n]=`${e}`),t}function El(e,t,n){return e==n.path&&Pc(t,n.parameters)}class xl{constructor(e,t,n,r){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=r}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),gl(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const r=sl(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,r[t],n),delete r[t]}),Ic(r,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(r===i)if(r.component){const i=n.getContext(r.outlet);i&&this.deactivateChildRoutes(e,t,i.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),r=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:r})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet),r=n&&e.value.component?n.children:t,i=sl(e);for(const o of Object.keys(i))this.deactivateRouteAndItsChildren(i[o],r);n&&n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated(),n.attachRef=null,n.resolver=null,n.route=null)}activateChildRoutes(e,t,n){const r=sl(t);e.children.forEach(e=>{this.activateRoutes(e,r[e.value.outlet],n),this.forwardEvent(new _c(e.value.snapshot))}),e.children.length&&this.forwardEvent(new gc(e.value.snapshot))}activateRoutes(e,t,n){const r=e.value,i=t?t.value:null;if(gl(r),r===i)if(r.component){const i=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,i.children)}else this.activateChildRoutes(e,t,n);else if(r.component){const t=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const e=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),Al(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(r.snapshot),i=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=r,t.resolver=i,t.outlet&&t.outlet.activateWith(r,i),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function Al(e){gl(e.value),e.children.forEach(Al)}class Dl{constructor(e,t){this.routes=e,this.module=t}}function Nl(e){return"function"==typeof e}function Rl(e){return e instanceof Fc}const Fl=Symbol("INITIAL_VALUE");function Ll(){return Go(e=>function(...e){let t,n;return(0,Ra.K)(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&(0,Di.k)(e[0])&&(e=e[0]),(0,Va.n)(e,n).lift(new ja(t))}(e.map(e=>e.pipe(ni(1),Wa(Fl)))).pipe(Ka((e,t)=>{let n=!1;return t.reduce((e,r,i)=>{if(e!==Fl)return e;if(r===Fl&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Rl(r))return r}return e},e)},Fl),Yi(e=>e!==Fl),(0,Ni.U)(e=>Rl(e)?e:!0===e),ni(1)))}let ql=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&r._UZ(0,"router-outlet")},directives:function(){return[Ru]},encapsulation:2}),e})();function Ul(e,t=""){for(let n=0;n<e.length;n++){const r=e[n];Vl(r,Zl(t,r))}}function Vl(e,t){e.children&&Ul(e.children,t)}function Zl(e,t){return t?e||t.path?e&&!t.path?`${e}/`:!e&&t.path?t.path:`${e}/${t.path}`:"":e}function jl(e){const t=e.children&&e.children.map(jl),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&n.outlet!==bc&&(n.component=ql),n}function Bl(e){return e.outlet||bc}function zl(e,t){const n=e.filter(e=>Bl(e)===t);return n.push(...e.filter(e=>Bl(e)!==t)),n}const Hl={matched:!1,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};function $l(e,t,n){var r;if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?Object.assign({},Hl):{matched:!0,consumedSegments:[],lastChild:0,parameters:{},positionalParamSegments:{}};const i=(t.matcher||Oc)(n,e,t);if(!i)return Object.assign({},Hl);const o={};Ic(i.posParams,(e,t)=>{o[t]=e.path});const s=i.consumed.length>0?Object.assign(Object.assign({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:s,positionalParamSegments:null!==(r=i.posParams)&&void 0!==r?r:{}}}function Gl(e,t,n,r,i="corrected"){if(n.length>0&&function(e,t,n){return n.some(n=>Wl(e,t,n)&&Bl(n)!==bc)}(e,n,r)){const i=new Lc(t,function(e,t,n,r){const i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&Bl(o)!==bc){const n=new Lc([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,i[Bl(o)]=n}return i}(e,t,r,new Lc(n,e.children)));return i._sourceSegment=e,i._segmentIndexShift=t.length,{segmentGroup:i,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>Wl(e,t,n))}(e,n,r)){const o=new Lc(e.segments,function(e,t,n,r,i,o){const s={};for(const a of r)if(Wl(e,n,a)&&!i[Bl(a)]){const n=new Lc([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[Bl(a)]=n}return Object.assign(Object.assign({},i),s)}(e,t,n,r,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const o=new Lc(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function Wl(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path}function Kl(e,t,n,r){return!!(Bl(e)===r||r!==bc&&Wl(t,n,e))&&("**"===e.path||$l(t,e,n).matched)}function Yl(e,t,n){return 0===t.length&&!e.children[n]}class Ql{constructor(e){this.segmentGroup=e||null}}class Jl{constructor(e){this.urlTree=e}}function Xl(e){return new di.y(t=>t.error(new Ql(e)))}function eu(e){return new di.y(t=>t.error(new Jl(e)))}function tu(e){return new di.y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class nu{constructor(e,t,n,i,o){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=o,this.allowRedirects=!0,this.ngModule=e.get(r.h0i)}apply(){const e=Gl(this.urlTree.root,[],[],this.config).segmentGroup,t=new Lc(e.segments,e.children);return this.expandSegmentGroup(this.ngModule,this.config,t,bc).pipe((0,Ni.U)(e=>this.createUrlTree(ru(e),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Zi(e=>{if(e instanceof Jl)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof Ql)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,bc).pipe((0,Ni.U)(t=>this.createUrlTree(ru(t),e.queryParams,e.fragment))).pipe(Zi(e=>{if(e instanceof Ql)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const r=e.segments.length>0?new Lc([],{[bc]:e}):e;return new Fc(r,t,n)}expandSegmentGroup(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe((0,Ni.U)(e=>new Lc([],e))):this.expandSegment(e,n,t,n.segments,r,!0)}expandChildren(e,t,n){const r=[];for(const i of Object.keys(n.children))"primary"===i?r.unshift(i):r.push(i);return(0,Fi.D)(r).pipe(Ki(r=>{const i=n.children[r],o=zl(t,r);return this.expandSegmentGroup(e,o,i,r).pipe((0,Ni.U)(e=>({segment:e,outlet:r})))}),Ka((e,t)=>(e[t.outlet]=t.segment,e),{}),function(e,t){const n=arguments.length>=2;return r=>r.pipe(e?Yi((t,n)=>e(t,n,r)):hs.y,Ja(1),n?is(t):as(()=>new rs))}())}expandSegment(e,t,n,r,i,o){return(0,Fi.D)(n).pipe(Ki(s=>this.expandSegmentAgainstRoute(e,t,n,s,r,i,o).pipe(Zi(e=>{if(e instanceof Ql)return(0,Jr.of)(null);throw e}))),ds(e=>!!e),Zi((e,n)=>{if(e instanceof rs||"EmptyError"===e.name){if(Yl(t,r,i))return(0,Jr.of)(new Lc([],{}));throw new Ql(t)}throw e}))}expandSegmentAgainstRoute(e,t,n,r,i,o,s){return Kl(r,t,i,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i,o):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o):Xl(t):Xl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,r){const i=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?eu(i):this.lineralizeSegments(n,i).pipe((0,Wi.zg)(n=>{const i=new Lc(n,{});return this.expandSegment(e,i,t,n,r,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,o){const{matched:s,consumedSegments:a,lastChild:c,positionalParamSegments:l}=$l(t,r,i);if(!s)return Xl(t);const u=this.applyRedirectCommands(a,r.redirectTo,l);return r.redirectTo.startsWith("/")?eu(u):this.lineralizeSegments(r,u).pipe((0,Wi.zg)(r=>this.expandSegment(e,t,n,r.concat(i.slice(c)),o,!1)))}matchSegmentAgainstRoute(e,t,n,r,i){if("**"===n.path)return n.loadChildren?(n._loadedConfig?(0,Jr.of)(n._loadedConfig):this.configLoader.load(e.injector,n)).pipe((0,Ni.U)(e=>(n._loadedConfig=e,new Lc(r,{})))):(0,Jr.of)(new Lc(r,{}));const{matched:o,consumedSegments:s,lastChild:a}=$l(t,n,r);if(!o)return Xl(t);const c=r.slice(a);return this.getChildConfig(e,n,r).pipe((0,Wi.zg)(e=>{const r=e.module,o=e.routes,{segmentGroup:a,slicedSegments:l}=Gl(t,s,c,o),u=new Lc(a.segments,a.children);if(0===l.length&&u.hasChildren())return this.expandChildren(r,o,u).pipe((0,Ni.U)(e=>new Lc(s,e)));if(0===o.length&&0===l.length)return(0,Jr.of)(new Lc(s,{}));const h=Bl(n)===i;return this.expandSegment(r,u,o,l,h?bc:i,!0).pipe((0,Ni.U)(e=>new Lc(s.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?(0,Jr.of)(new Dl(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?(0,Jr.of)(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe((0,Wi.zg)(n=>n?this.configLoader.load(e.injector,t).pipe((0,Ni.U)(e=>(t._loadedConfig=e,e))):function(e){return new di.y(t=>t.error(Cc(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):(0,Jr.of)(new Dl([],e))}runCanLoadGuards(e,t,n){const r=t.canLoad;if(!r||0===r.length)return(0,Jr.of)(!0);const i=r.map(r=>{const i=e.get(r);let o;if(function(e){return e&&Nl(e.canLoad)}(i))o=i.canLoad(t,n);else{if(!Nl(i))throw new Error("Invalid CanLoad guard");o=i(t,n)}return kc(o)});return(0,Jr.of)(i).pipe(Ll(),(0,Vi.b)(e=>{if(!Rl(e))return;const t=Cc(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(0,Ni.U)(e=>!0===e))}lineralizeSegments(e,t){let n=[],r=t.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return(0,Jr.of)(n);if(r.numberOfChildren>1||!r.children.primary)return tu(e.redirectTo);r=r.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,r){const i=this.createSegmentGroup(e,t.root,n,r);return new Fc(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return Ic(e,(e,r)=>{if("string"==typeof e&&e.startsWith(":")){const i=e.substring(1);n[r]=t[i]}else n[r]=e}),n}createSegmentGroup(e,t,n,r){const i=this.createSegments(e,t.segments,n,r);let o={};return Ic(t.children,(t,i)=>{o[i]=this.createSegmentGroup(e,t,n,r)}),new Lc(i,o)}createSegments(e,t,n,r){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,r):this.findOrReturn(t,n))}findPosParam(e,t,n){const r=n[t.path.substring(1)];if(!r)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return r}findOrReturn(e,t){let n=0;for(const r of t){if(r.path===e.path)return t.splice(n),r;n++}return e}}function ru(e){const t={};for(const n of Object.keys(e.children)){const r=ru(e.children[n]);(r.segments.length>0||r.hasChildren())&&(t[n]=r)}return function(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new Lc(e.segments.concat(t.segments),t.children)}return e}(new Lc(e.segments,t))}class iu{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class ou{constructor(e,t){this.component=e,this.route=t}}function su(e,t,n){const r=e._root;return cu(r,t?t._root:null,n,[r.value])}function au(e,t,n){const r=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function cu(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=sl(t);return e.children.forEach(e=>{!function(e,t,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=e.value,s=t?t.value:null,a=n?n.getContext(e.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){const c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!Uc(e.url,t.url);case"pathParamsOrQueryParamsChange":return!Uc(e.url,t.url)||!Pc(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ml(e,t)||!Pc(e.queryParams,t.queryParams);case"paramsChange":default:return!ml(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new iu(r)):(o.data=s.data,o._resolvedData=s._resolvedData),cu(e,t,o.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ou(a.outlet.component,s))}else s&&lu(t,a,i),i.canActivateChecks.push(new iu(r)),cu(e,null,o.component?a?a.children:null:n,r,i)}(e,o[e.value.outlet],n,r.concat([e.value]),i),delete o[e.value.outlet]}),Ic(o,(e,t)=>lu(e,n.getContext(t),i)),i}function lu(e,t,n){const r=sl(e),i=e.value;Ic(r,(e,r)=>{lu(e,i.component?t?t.children.getContext(r):null:t,n)}),n.canDeactivateChecks.push(new ou(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}class uu{}function hu(e){return new di.y(t=>t.error(e))}class du{constructor(e,t,n,r,i,o){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}recognize(){const e=Gl(this.urlTree.root,[],[],this.config.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,bc);if(null===t)return null;const n=new hl([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},bc,this.rootComponentType,null,this.urlTree.root,-1,{}),r=new ol(n,t),i=new dl(this.url,r);return this.inheritParamsAndData(i._root),i}inheritParamsAndData(e){const t=e.value,n=ul(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=[];for(const i of Object.keys(t.children)){const r=t.children[i],o=zl(e,i),s=this.processSegmentGroup(o,r,i);if(null===s)return null;n.push(...s)}const r=pu(n);return r.sort((e,t)=>e.value.outlet===bc?-1:t.value.outlet===bc?1:e.value.outlet.localeCompare(t.value.outlet)),r}processSegment(e,t,n,r){for(const i of e){const e=this.processSegmentAgainstRoute(i,t,n,r);if(null!==e)return e}return Yl(t,n,r)?[]:null}processSegmentAgainstRoute(e,t,n,r){if(e.redirectTo||!Kl(e,t,n,r))return null;let i,o=[],s=[];if("**"===e.path){const r=n.length>0?Sc(n).parameters:{};i=new hl(n,r,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_u(e),Bl(e),e.component,e,gu(t),mu(t)+n.length,yu(e))}else{const r=$l(t,e,n);if(!r.matched)return null;o=r.consumedSegments,s=n.slice(r.lastChild),i=new hl(o,r.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,_u(e),Bl(e),e.component,e,gu(t),mu(t)+o.length,yu(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:c,slicedSegments:l}=Gl(t,o,s,a.filter(e=>void 0===e.redirectTo),this.relativeLinkResolution);if(0===l.length&&c.hasChildren()){const e=this.processChildren(a,c);return null===e?null:[new ol(i,e)]}if(0===a.length&&0===l.length)return[new ol(i,[])];const u=Bl(e)===r,h=this.processSegment(a,c,l,u?bc:r);return null===h?null:[new ol(i,h)]}}function fu(e){const t=e.value.routeConfig;return t&&""===t.path&&void 0===t.redirectTo}function pu(e){const t=[],n=new Set;for(const r of e){if(!fu(r)){t.push(r);continue}const e=t.find(e=>r.value.routeConfig===e.value.routeConfig);void 0!==e?(e.children.push(...r.children),n.add(e)):t.push(r)}for(const r of n){const e=pu(r.children);t.push(new ol(r.value,e))}return t.filter(e=>!n.has(e))}function gu(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function mu(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function _u(e){return e.data||{}}function yu(e){return e.resolve||{}}function bu(e){return Go(t=>{const n=e(t);return n?(0,Fi.D)(n).pipe((0,Ni.U)(()=>t)):(0,Jr.of)(t)})}class vu extends class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}{}const wu=new r.OlP("ROUTES");class Cu{constructor(e,t,n,r){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=r}load(e,t){if(t._loader$)return t._loader$;this.onLoadStartListener&&this.onLoadStartListener(t);const n=this.loadModuleFactory(t.loadChildren).pipe((0,Ni.U)(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new Dl(Mc(i.injector.get(wu,void 0,r.XFs.Self|r.XFs.Optional)).map(jl),i)}),Zi(e=>{throw t._loader$=void 0,e}));return t._loader$=new Ga.c(n,()=>new Kr.xQ).pipe((0,tc.x)()),t._loader$}loadModuleFactory(e){return"string"==typeof e?(0,Fi.D)(this.loader.load(e)):kc(e()).pipe((0,Wi.zg)(e=>e instanceof r.YKP?(0,Jr.of)(e):(0,Fi.D)(this.compiler.compileModuleAsync(e))))}}class Ou{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Pu,this.attachRef=null}}class Pu{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new Ou,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class Tu{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function Mu(e){throw e}function Su(e,t,n){return t.parse("/")}function Iu(e,t){return(0,Jr.of)(null)}const ku={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Eu={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let xu=(()=>{class e{constructor(e,t,n,i,o,s,a,c){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=c,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.lastLocationChangeInfo=null,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new Kr.xQ,this.errorHandler=Mu,this.malformedUriErrorHandler=Su,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Iu,afterPreactivation:Iu},this.urlHandlingStrategy=new Tu,this.routeReuseStrategy=new vu,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=o.get(r.h0i),this.console=o.get(r.c2e);const l=o.get(r.R0b);this.isNgZoneEnabled=l instanceof r.R0b&&r.R0b.isInAngularZone(),this.resetConfig(c),this.currentUrlTree=new Fc(new Lc([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new Cu(s,a,e=>this.triggerEvent(new dc(e)),e=>this.triggerEvent(new fc(e))),this.routerState=cl(this.currentUrlTree,this.rootComponentType),this.transitions=new Qr({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var e;return null===(e=this.location.getState())||void 0===e?void 0:e.\u0275routerPageId}setupNavigations(e){const t=this.events;return e.pipe(Yi(e=>0!==e.id),(0,Ni.U)(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),Go(e=>{let n=!1,r=!1;return(0,Jr.of)(e).pipe((0,Vi.b)(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),Go(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return(0,Jr.of)(e).pipe(Go(e=>{const n=this.transitions.getValue();return t.next(new rc(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?ti.E:Promise.resolve(e)}),(r=this.ngModule.injector,i=this.configLoader,o=this.urlSerializer,s=this.config,Go(e=>function(e,t,n,r,i){return new nu(e,t,n,r,i).apply()}(r,i,o,e.extractedUrl,s).pipe((0,Ni.U)(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t}))))),(0,Vi.b)(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,r,i){return(0,Wi.zg)(o=>function(e,t,n,r,i="emptyOnly",o="legacy"){try{const s=new du(e,t,n,r,i,o).recognize();return null===s?hu(new uu):(0,Jr.of)(s)}catch(s){return hu(s)}}(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),r,i).pipe((0,Ni.U)(e=>Object.assign(Object.assign({},o),{targetSnapshot:e}))))}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,Vi.b)(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,e),this.browserUrlTree=e.urlAfterRedirects);const n=new ac(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var r,i,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:r,source:i,restoredState:o,extras:s}=e,a=new rc(n,this.serializeUrl(r),i,o);t.next(a);const c=cl(r,this.rootComponentType).snapshot;return(0,Jr.of)(Object.assign(Object.assign({},e),{targetSnapshot:c,urlAfterRedirects:r,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),ti.E}),bu(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,Vi.b)(e=>{const t=new cc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),(0,Ni.U)(e=>Object.assign(Object.assign({},e),{guards:su(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return(0,Wi.zg)(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?(0,Jr.of)(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,r){return(0,Fi.D)(e).pipe((0,Wi.zg)(e=>function(e,t,n,r,i){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!o||0===o.length)return(0,Jr.of)(!0);const s=o.map(o=>{const s=au(o,t,i);let a;if(function(e){return e&&Nl(e.canDeactivate)}(s))a=kc(s.canDeactivate(e,t,n,r));else{if(!Nl(s))throw new Error("Invalid CanDeactivate guard");a=kc(s(e,t,n,r))}return a.pipe(ds())});return(0,Jr.of)(s).pipe(Ll())}(e.component,e.route,n,t,r)),ds(e=>!0!==e,!0))}(s,r,i,e).pipe((0,Wi.zg)(n=>n&&function(e){return"boolean"==typeof e}(n)?function(e,t,n,r){return(0,Fi.D)(t).pipe(Ki(t=>Ha(function(e,t){return null!==e&&t&&t(new pc(e)),(0,Jr.of)(!0)}(t.route.parent,r),function(e,t){return null!==e&&t&&t(new mc(e)),(0,Jr.of)(!0)}(t.route,r),function(e,t,n){const r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>$a(()=>{const i=t.guards.map(i=>{const o=au(i,t.node,n);let s;if(function(e){return e&&Nl(e.canActivateChild)}(o))s=kc(o.canActivateChild(r,e));else{if(!Nl(o))throw new Error("Invalid CanActivateChild guard");s=kc(o(r,e))}return s.pipe(ds())});return(0,Jr.of)(i).pipe(Ll())}));return(0,Jr.of)(i).pipe(Ll())}(e,t.path,n),function(e,t,n){const r=t.routeConfig?t.routeConfig.canActivate:null;if(!r||0===r.length)return(0,Jr.of)(!0);const i=r.map(r=>$a(()=>{const i=au(r,t,n);let o;if(function(e){return e&&Nl(e.canActivate)}(i))o=kc(i.canActivate(t,e));else{if(!Nl(i))throw new Error("Invalid CanActivate guard");o=kc(i(t,e))}return o.pipe(ds())}));return(0,Jr.of)(i).pipe(Ll())}(e,t.route,n))),ds(e=>!0!==e,!0))}(r,o,e,t):(0,Jr.of)(n)),(0,Ni.U)(e=>Object.assign(Object.assign({},n),{guardsResult:e})))})}(this.ngModule.injector,e=>this.triggerEvent(e)),(0,Vi.b)(e=>{if(Rl(e.guardsResult)){const t=Cc(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}const t=new lc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Yi(e=>!!e.guardsResult||(this.restoreHistory(e),this.cancelNavigationTransition(e,""),!1)),bu(e=>{if(e.guards.canActivateChecks.length)return(0,Jr.of)(e).pipe((0,Vi.b)(e=>{const t=new uc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),Go(e=>{let t=!1;return(0,Jr.of)(e).pipe((n=this.paramsInheritanceStrategy,r=this.ngModule.injector,(0,Wi.zg)(e=>{const{targetSnapshot:t,guards:{canActivateChecks:i}}=e;if(!i.length)return(0,Jr.of)(e);let o=0;return(0,Fi.D)(i).pipe(Ki(e=>function(e,t,n,r){return function(e,t,n,r){const i=Object.keys(e);if(0===i.length)return(0,Jr.of)({});const o={};return(0,Fi.D)(i).pipe((0,Wi.zg)(i=>function(e,t,n,r){const i=au(e,t,r);return kc(i.resolve?i.resolve(t,n):i(t,n))}(e[i],t,n,r).pipe((0,Vi.b)(e=>{o[i]=e}))),Ja(1),(0,Wi.zg)(()=>Object.keys(o).length===i.length?(0,Jr.of)(o):ti.E))}(e._resolve,e,t,r).pipe((0,Ni.U)(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),ul(e,n).resolve),null)))}(e.route,t,n,r)),(0,Vi.b)(()=>o++),Ja(1),(0,Wi.zg)(t=>o===i.length?(0,Jr.of)(e):ti.E))})),(0,Vi.b)({next:()=>t=!0,complete:()=>{t||(this.restoreHistory(e),this.cancelNavigationTransition(e,"At least one route resolver didn't emit any value."))}}));var n,r}),(0,Vi.b)(e=>{const t=new hc(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),bu(e=>{const{targetSnapshot:t,id:n,extractedUrl:r,rawUrl:i,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:r,rawUrlTree:i,skipLocationChange:!!o,replaceUrl:!!s})}),(0,Ni.U)(e=>{const t=function(e,t,n){const r=_l(e,t._root,n?n._root:void 0);return new al(r,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),(0,Vi.b)(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,e),this.browserUrlTree=e.urlAfterRedirects)}),(i=this.rootContexts,o=this.routeReuseStrategy,s=e=>this.triggerEvent(e),(0,Ni.U)(e=>(new xl(o,e.targetRouterState,e.currentRouterState,s).activate(i),e))),(0,Vi.b)({next(){n=!0},complete(){n=!0}}),zi(()=>{if(!n&&!r){const t=`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`;"replace"===this.canceledNavigationResolution?(this.restoreHistory(e),this.cancelNavigationTransition(e,t)):this.cancelNavigationTransition(e,t)}this.currentNavigation=null}),Zi(n=>{if(r=!0,function(e){return e&&e.ngNavigationCancelingError}(n)){const r=Rl(n.url);r||(this.navigated=!0,this.restoreHistory(e,!0));const i=new oc(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(i),r?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.restoreHistory(e,!0);const r=new sc(e.id,this.serializeUrl(e.extractedUrl),n);t.next(r);try{e.resolve(this.errorHandler(n))}catch(Nm){e.reject(Nm)}}return ti.E}));var i,o,s}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{const t=this.extractLocationChangeInfoFromEvent(e);this.shouldScheduleNavigation(this.lastLocationChangeInfo,t)&&setTimeout(()=>{const{source:e,state:n,urlTree:r}=t,i={replaceUrl:!0};if(n){const e=Object.assign({},n);delete e.navigationId,delete e.\u0275routerPageId,0!==Object.keys(e).length&&(i.state=e)}this.scheduleNavigation(r,e,n,i)},0),this.lastLocationChangeInfo=t}))}extractLocationChangeInfoFromEvent(e){var t;return{source:"popstate"===e.type?"popstate":"hashchange",urlTree:this.parseUrl(e.url),state:(null===(t=e.state)||void 0===t?void 0:t.navigationId)?e.state:null,transitionId:this.getTransition().id}}shouldScheduleNavigation(e,t){if(!e)return!0;const n=t.urlTree.toString()===e.urlTree.toString();return!(t.transitionId===e.transitionId&&n&&("hashchange"===t.source&&"popstate"===e.source||"popstate"===t.source&&"hashchange"===e.source))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){Ul(e),this.config=e.map(jl),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(e,t={}){const{relativeTo:n,queryParams:r,fragment:i,queryParamsHandling:o,preserveFragment:s}=t,a=n||this.routerState.root,c=s?this.currentUrlTree.fragment:i;let l=null;switch(o){case"merge":l=Object.assign(Object.assign({},this.currentUrlTree.queryParams),r);break;case"preserve":l=this.currentUrlTree.queryParams;break;default:l=r||null}return null!==l&&(l=this.removeEmptyProps(l)),function(e,t,n,r,i){if(0===n.length)return wl(t.root,t.root,t,r,i);const o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Ol(!0,0,e);let t=0,n=!1;const r=e.reduce((e,r,i)=>{if("object"==typeof r&&null!=r){if(r.outlets){const t={};return Ic(r.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(r.segmentPath)return[...e,r.segmentPath]}return"string"!=typeof r?[...e,r]:0===i?(r.split("/").forEach((r,i)=>{0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))}),e):[...e,r]},[]);return new Ol(n,t,r)}(n);if(o.toRoot())return wl(t.root,new Lc([],{}),t,r,i);const s=function(e,t,n){if(e.isAbsolute)return new Pl(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new Pl(e,e===t.root,0)}const r=bl(e.commands[0])?0:1;return function(e,t,n){let r=e,i=t,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new Error("Invalid number of '../'");i=r.segments.length}return new Pl(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?Ml(s.segmentGroup,s.index,o.commands):Tl(s.segmentGroup,s.index,o.commands);return wl(s.segmentGroup,a,t,r,i)}(a,this.currentUrlTree,e,l,null!=c?c:null)}navigateByUrl(e,t={skipLocationChange:!1}){const n=Rl(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){let n;if(n=!0===t?Object.assign({},ku):!1===t?Object.assign({},Eu):t,Rl(e))return Ac(this.currentUrlTree,e,n);const r=this.parseUrl(e);return Ac(this.currentUrlTree,r,n)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const r=e[n];return null!=r&&(t[n]=r),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.currentPageId=e.targetPageId,this.events.next(new ic(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,r,i){var o,s;if(this.disposed)return Promise.resolve(!1);const a=this.getTransition(),c="imperative"!==t&&"imperative"===(null==a?void 0:a.source),l=(this.lastSuccessfulId===a.id||this.currentNavigation?a.rawUrl:a.urlAfterRedirects).toString()===e.toString();if(c&&l)return Promise.resolve(!0);let u,h,d;i?(u=i.resolve,h=i.reject,d=i.promise):d=new Promise((e,t)=>{u=e,h=t});const f=++this.navigationId;let p;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(n=this.location.getState()),p=n&&n.\u0275routerPageId?n.\u0275routerPageId:r.replaceUrl||r.skipLocationChange?null!==(o=this.browserPageId)&&void 0!==o?o:0:(null!==(s=this.browserPageId)&&void 0!==s?s:0)+1):p=0,this.setTransition({id:f,targetPageId:p,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:u,reject:h,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(e=>Promise.reject(e))}setBrowserUrl(e,t){const n=this.urlSerializer.serialize(e),r=Object.assign(Object.assign({},t.extras.state),this.generateNgRouterState(t.id,t.targetPageId));this.location.isCurrentPathEqualTo(n)||t.extras.replaceUrl?this.location.replaceState(n,"",r):this.location.go(n,"",r)}restoreHistory(e,t=!1){var n,r;if("computed"===this.canceledNavigationResolution){const t=this.currentPageId-e.targetPageId;"popstate"!==e.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(n=this.currentNavigation)||void 0===n?void 0:n.finalUrl)||0===t?this.currentUrlTree===(null===(r=this.currentNavigation)||void 0===r?void 0:r.finalUrl)&&0===t&&(this.resetState(e),this.browserUrlTree=e.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(t)}else"replace"===this.canceledNavigationResolution&&(t&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=e.currentRouterState,this.currentUrlTree=e.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(e,t){const n=new oc(e.id,this.serializeUrl(e.extractedUrl),t);this.triggerEvent(n),e.resolve(!1)}generateNgRouterState(e,t){return"computed"===this.canceledNavigationResolution?{navigationId:e,"\u0275routerPageId":t}:{navigationId:e}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.DyG),r.LFG(Vc),r.LFG(Pu),r.LFG(w),r.LFG(r.zs3),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Au=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.route=t,this.commands=[],this.onChanges=new Kr.xQ,null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}ngOnChanges(e){this.onChanges.next(this)}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}onClick(){const e={skipLocationChange:Nu(this.skipLocationChange),replaceUrl:Nu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,e),!0}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Nu(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(xu),r.Y36(ll),r.$8M("tabindex"),r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(e,t){1&e&&r.NdJ("click",function(){return t.onClick()})},inputs:{routerLink:"routerLink",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),e})(),Du=(()=>{class e{constructor(e,t,n){this.router=e,this.route=t,this.locationStrategy=n,this.commands=[],this.onChanges=new Kr.xQ,this.subscription=e.events.subscribe(e=>{e instanceof ic&&this.updateTargetUrlAndHref()})}set routerLink(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}ngOnChanges(e){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(e,t,n,r,i){if(0!==e||t||n||r||i)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;const o={skipLocationChange:Nu(this.skipLocationChange),replaceUrl:Nu(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,o),!1}updateTargetUrlAndHref(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}get urlTree(){return this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:Nu(this.preserveFragment)})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(xu),r.Y36(ll),r.Y36(m))},e.\u0275dir=r.lG2({type:e,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(e,t){1&e&&r.NdJ("click",function(e){return t.onClick(e.button,e.ctrlKey,e.shiftKey,e.altKey,e.metaKey)}),2&e&&(r.Ikx("href",t.href,r.LSH),r.uIk("target",t.target))},inputs:{routerLink:"routerLink",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo"},features:[r.TTD]}),e})();function Nu(e){return""===e||!!e}let Ru=(()=>{class e{constructor(e,t,n,i,o){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=o,this.activated=null,this._activatedRoute=null,this.activateEvents=new r.vpe,this.deactivateEvents=new r.vpe,this.name=i||bc,e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new Fu(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(Pu),r.Y36(r.s_b),r.Y36(r._Vd),r.$8M("name"),r.Y36(r.sBO))},e.\u0275dir=r.lG2({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class Fu{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===ll?this.route:e===Pu?this.childContexts:this.parent.get(e,t)}}class Lu{}class qu{preload(e,t){return(0,Jr.of)(null)}}let Uu=(()=>{class e{constructor(e,t,n,r,i){this.router=e,this.injector=r,this.preloadingStrategy=i,this.loader=new Cu(t,n,t=>e.triggerEvent(new dc(t)),t=>e.triggerEvent(new fc(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Yi(e=>e instanceof ic),Ki(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(r.h0i);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const r of t)if(r.loadChildren&&!r.canLoad&&r._loadedConfig){const e=r._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else r.loadChildren&&!r.canLoad?n.push(this.preloadConfig(e,r)):r.children&&n.push(this.processRoutes(e,r.children));return(0,Fi.D)(n).pipe((0,za.J)(),(0,Ni.U)(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>(t._loadedConfig?(0,Jr.of)(t._loadedConfig):this.loader.load(e.injector,t)).pipe((0,Wi.zg)(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(xu),r.LFG(r.v3s),r.LFG(r.Sil),r.LFG(r.zs3),r.LFG(Lu))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),Vu=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof rc?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof ic&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof yc&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new yc(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(xu),r.LFG(Pe),r.LFG(void 0))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const Zu=new r.OlP("ROUTER_CONFIGURATION"),ju=new r.OlP("ROUTER_FORROOT_GUARD"),Bu=[w,{provide:Vc,useClass:Zc},{provide:xu,useFactory:function(e,t,n,r,i,o,s,a={},c,l){const u=new xu(null,e,t,n,r,i,o,Mc(s));return c&&(u.urlHandlingStrategy=c),l&&(u.routeReuseStrategy=l),function(e,t){e.errorHandler&&(t.errorHandler=e.errorHandler),e.malformedUriErrorHandler&&(t.malformedUriErrorHandler=e.malformedUriErrorHandler),e.onSameUrlNavigation&&(t.onSameUrlNavigation=e.onSameUrlNavigation),e.paramsInheritanceStrategy&&(t.paramsInheritanceStrategy=e.paramsInheritanceStrategy),e.relativeLinkResolution&&(t.relativeLinkResolution=e.relativeLinkResolution),e.urlUpdateStrategy&&(t.urlUpdateStrategy=e.urlUpdateStrategy)}(a,u),a.enableTracing&&u.events.subscribe(e=>{var t,n;null===(t=console.group)||void 0===t||t.call(console,`Router Event: ${e.constructor.name}`),console.log(e.toString()),console.log(e),null===(n=console.groupEnd)||void 0===n||n.call(console)}),u},deps:[Vc,Pu,w,r.zs3,r.v3s,r.Sil,wu,Zu,[class{},new r.FiY],[class{},new r.FiY]]},Pu,{provide:ll,useFactory:function(e){return e.routerState.root},deps:[xu]},{provide:r.v3s,useClass:r.EAV},Uu,qu,class{preload(e,t){return t().pipe(Zi(()=>(0,Jr.of)(null)))}},{provide:Zu,useValue:{enableTracing:!1}}];function zu(){return new r.PXZ("Router",xu)}let Hu=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[Bu,Ku(t),{provide:ju,useFactory:Wu,deps:[[xu,new r.FiY,new r.tp0]]},{provide:Zu,useValue:n||{}},{provide:m,useFactory:Gu,deps:[a,[new r.tBr(y),new r.FiY],Zu]},{provide:Vu,useFactory:$u,deps:[xu,Pe,Zu]},{provide:Lu,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:qu},{provide:r.PXZ,multi:!0,useFactory:zu},[Yu,{provide:r.ip1,multi:!0,useFactory:Qu,deps:[Yu]},{provide:Xu,useFactory:Ju,deps:[Yu]},{provide:r.tb,multi:!0,useExisting:Xu}]]}}static forChild(t){return{ngModule:e,providers:[Ku(t)]}}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ju,8),r.LFG(xu,8))},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();function $u(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Vu(e,t,n)}function Gu(e,t,n={}){return n.useHash?new v(e,t):new b(e,t)}function Wu(e){return"guarded"}function Ku(e){return[{provide:r.deG,multi:!0,useValue:e},{provide:wu,multi:!0,useValue:e}]}let Yu=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new Kr.xQ}appInitializer(){return this.injector.get(l,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let e=null;const t=new Promise(t=>e=t),n=this.injector.get(xu),r=this.injector.get(Zu);return"disabled"===r.initialNavigation?(n.setUpLocationChangeListener(),e(!0)):"enabled"===r.initialNavigation||"enabledBlocking"===r.initialNavigation?(n.hooks.afterPreactivation=()=>this.initNavigation?(0,Jr.of)(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()):e(!0),t})}bootstrapListener(e){const t=this.injector.get(Zu),n=this.injector.get(Uu),i=this.injector.get(Vu),o=this.injector.get(xu),s=this.injector.get(r.z2F);e===s.components[0]&&("enabledNonBlocking"!==t.initialNavigation&&void 0!==t.initialNavigation||o.initialNavigation(),n.setUpPreloading(),i.init(),o.resetRootComponentType(s.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(r.zs3))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();function Qu(e){return e.appInitializer.bind(e)}function Ju(e){return e.bootstrapListener.bind(e)}const Xu=new r.OlP("Router Initializer");function eh(){return e=>e.lift(new th)}class th{call(e,t){return t.subscribe(new nh(e))}}class nh extends Xr.L{constructor(e){super(e),this.hasPrev=!1}_next(e){let t;this.hasPrev?t=[this.prev,e]:this.hasPrev=!0,this.prev=e,t&&this.destination.next(t)}}n(5468);var rh,ih=n(156),oh="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},sh={},ah=ah||{},ch=oh||self;function lh(){}function uh(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function hh(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var dh="closure_uid_"+(1e9*Math.random()>>>0),fh=0;function ph(e,t,n){return e.call.apply(e.bind,arguments)}function gh(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function mh(e,t,n){return(mh=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ph:gh).apply(null,arguments)}function _h(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function yh(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return t.prototype[n].apply(e,i)}}function bh(){this.s=this.s,this.o=this.o}var vh={};bh.prototype.s=!1,bh.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,dh)&&e[dh]||(e[dh]=++fh)}(this);delete vh[e]}},bh.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const wh=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Ch=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){const r=e.length,i="string"==typeof e?e.split(""):e;for(let o=0;o<r;o++)o in i&&t.call(n,i[o],o,e)};function Oh(e){return Array.prototype.concat.apply([],arguments)}function Ph(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Th(e){return/^[\s\xa0]*$/.test(e)}var Mh,Sh=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function Ih(e,t){return-1!=e.indexOf(t)}function kh(e,t){return e<t?-1:e>t?1:0}e:{var Eh=ch.navigator;if(Eh){var xh=Eh.userAgent;if(xh){Mh=xh;break e}}Mh=""}function Ah(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function Dh(e){const t={};for(const n in e)t[n]=e[n];return t}var Nh="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Rh(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<Nh.length;t++)n=Nh[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Fh(e){return Fh[" "](e),e}Fh[" "]=lh;var Lh,qh,Uh=Ih(Mh,"Opera"),Vh=Ih(Mh,"Trident")||Ih(Mh,"MSIE"),Zh=Ih(Mh,"Edge"),jh=Zh||Vh,Bh=Ih(Mh,"Gecko")&&!(Ih(Mh.toLowerCase(),"webkit")&&!Ih(Mh,"Edge"))&&!(Ih(Mh,"Trident")||Ih(Mh,"MSIE"))&&!Ih(Mh,"Edge"),zh=Ih(Mh.toLowerCase(),"webkit")&&!Ih(Mh,"Edge");function Hh(){var e=ch.document;return e?e.documentMode:void 0}e:{var $h="",Gh=(qh=Mh,Bh?/rv:([^\);]+)(\)|;)/.exec(qh):Zh?/Edge\/([\d\.]+)/.exec(qh):Vh?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(qh):zh?/WebKit\/(\S+)/.exec(qh):Uh?/(?:Version)[ \/]?(\S+)/.exec(qh):void 0);if(Gh&&($h=Gh?Gh[1]:""),Vh){var Wh=Hh();if(null!=Wh&&Wh>parseFloat($h)){Lh=String(Wh);break e}}Lh=$h}var Kh={};var Yh=ch.document&&Vh&&(Hh()||parseInt(Lh,10))||void 0,Qh=function(){if(!ch.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{ch.addEventListener("test",lh,t),ch.removeEventListener("test",lh,t)}catch(n){}return e}();function Jh(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Xh(e,t){if(Jh.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(Bh){e:{try{Fh(t.nodeName);var i=!0;break e}catch(o){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:ed[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Xh.Z.h.call(this)}}Jh.prototype.h=function(){this.defaultPrevented=!0},yh(Xh,Jh);var ed={2:"touch",3:"pen",4:"mouse"};Xh.prototype.h=function(){Xh.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var td="closure_listenable_"+(1e6*Math.random()|0),nd=0;function rd(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++nd,this.ca=this.fa=!1}function id(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function od(e){this.src=e,this.g={},this.h=0}function sd(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],o=wh(i,t);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(id(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function ad(e,t,n,r){for(var i=0;i<e.length;++i){var o=e[i];if(!o.ca&&o.listener==t&&o.capture==!!n&&o.ia==r)return i}return-1}od.prototype.add=function(e,t,n,r,i){var o=e.toString();(e=this.g[o])||(e=this.g[o]=[],this.h++);var s=ad(e,t,r,i);return-1<s?(t=e[s],n||(t.fa=!1)):((t=new rd(t,this.src,o,!!r,i)).fa=n,e.push(t)),t};var cd="closure_lm_"+(1e6*Math.random()|0),ld={};function ud(e,t,n,r,i){if(r&&r.once)return dd(e,t,n,r,i);if(Array.isArray(t)){for(var o=0;o<t.length;o++)ud(e,t[o],n,r,i);return null}return n=bd(n),e&&e[td]?e.N(t,n,hh(r)?!!r.capture:!!r,i):hd(e,t,n,!1,r,i)}function hd(e,t,n,r,i,o){if(!t)throw Error("Invalid event type");var s=hh(i)?!!i.capture:!!i,a=_d(e);if(a||(e[cd]=a=new od(e)),(n=a.add(t,n,r,s,o)).proxy)return n;if(r=function(){var e=md;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Qh||(i=s),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(gd(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function dd(e,t,n,r,i){if(Array.isArray(t)){for(var o=0;o<t.length;o++)dd(e,t[o],n,r,i);return null}return n=bd(n),e&&e[td]?e.O(t,n,hh(r)?!!r.capture:!!r,i):hd(e,t,n,!0,r,i)}function fd(e,t,n,r,i){if(Array.isArray(t))for(var o=0;o<t.length;o++)fd(e,t[o],n,r,i);else r=hh(r)?!!r.capture:!!r,n=bd(n),e&&e[td]?(e=e.i,(t=String(t).toString())in e.g&&-1<(n=ad(o=e.g[t],n,r,i))&&(id(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete e.g[t],e.h--))):e&&(e=_d(e))&&(t=e.g[t.toString()],e=-1,t&&(e=ad(t,n,r,i)),(n=-1<e?t[e]:null)&&pd(n))}function pd(e){if("number"!=typeof e&&e&&!e.ca){var t=e.src;if(t&&t[td])sd(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(gd(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=_d(t))?(sd(n,e),0==n.h&&(n.src=null,t[cd]=null)):id(e)}}}function gd(e){return e in ld?ld[e]:ld[e]="on"+e}function md(e,t){if(e.ca)e=!0;else{t=new Xh(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&pd(e),e=n.call(r,t)}return e}function _d(e){return(e=e[cd])instanceof od?e:null}var yd="__closure_events_fn_"+(1e9*Math.random()>>>0);function bd(e){return"function"==typeof e?e:(e[yd]||(e[yd]=function(t){return e.handleEvent(t)}),e[yd])}function vd(){bh.call(this),this.i=new od(this),this.P=this,this.I=null}function wd(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"==typeof t)t=new Jh(t,e);else if(t instanceof Jh)t.target=t.target||e;else{var i=t;Rh(t=new Jh(r,e),i)}if(i=!0,n)for(var o=n.length-1;0<=o;o--){var s=t.g=n[o];i=Cd(s,r,!0,t)&&i}if(i=Cd(s=t.g=e,r,!0,t)&&i,i=Cd(s,r,!1,t)&&i,n)for(o=0;o<n.length;o++)i=Cd(s=t.g=n[o],r,!1,t)&&i}function Cd(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,o=0;o<t.length;++o){var s=t[o];if(s&&!s.ca&&s.capture==n){var a=s.listener,c=s.ia||s.src;s.fa&&sd(e.i,s),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}yh(vd,bh),vd.prototype[td]=!0,vd.prototype.removeEventListener=function(e,t,n,r){fd(this,e,t,n,r)},vd.prototype.M=function(){if(vd.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)id(n[r]);delete t.g[e],t.h--}}this.I=null},vd.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},vd.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Od=ch.JSON.stringify;function Pd(){var e=xd;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Td,Md=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new Sd,e=>e.reset());class Sd{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function Id(e){ch.setTimeout(()=>{throw e},0)}function kd(e,t){Td||function(){var e=ch.Promise.resolve(void 0);Td=function(){e.then(Ad)}}(),Ed||(Td(),Ed=!0),xd.add(e,t)}var Ed=!1,xd=new class{constructor(){this.h=this.g=null}add(e,t){const n=Md.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}};function Ad(){for(var e;e=Pd();){try{e.h.call(e.g)}catch(n){Id(n)}var t=Md;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Ed=!1}function Dd(e,t){vd.call(this),this.h=e||1,this.g=t||ch,this.j=mh(this.kb,this),this.l=Date.now()}function Nd(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function Rd(e,t,n){if("function"==typeof e)n&&(e=mh(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=mh(e.handleEvent,e)}return 2147483647<Number(t)?-1:ch.setTimeout(e,t||0)}function Fd(e){e.g=Rd(()=>{e.g=null,e.i&&(e.i=!1,Fd(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}yh(Dd,vd),(rh=Dd.prototype).da=!1,rh.S=null,rh.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),wd(this,"tick"),this.da&&(Nd(this),this.start()))}},rh.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},rh.M=function(){Dd.Z.M.call(this),Nd(this),delete this.g};class Ld extends bh{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Fd(this)}M(){super.M(),this.g&&(ch.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function qd(e){bh.call(this),this.h=e,this.g={}}yh(qd,bh);var Ud=[];function Vd(e,t,n,r){Array.isArray(n)||(n&&(Ud[0]=n.toString()),n=Ud);for(var i=0;i<n.length;i++){var o=ud(t,n[i],r||e.handleEvent,!1,e.h||e);if(!o)break;e.g[o.key]=o}}function Zd(e){Ah(e.g,function(e,t){this.g.hasOwnProperty(t)&&pd(e)},e),e.g={}}function jd(){this.g=!0}function Bd(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Od(n)}catch(a){return t}}(e,n)+(r?" "+r:"")})}qd.prototype.M=function(){qd.Z.M.call(this),Zd(this)},qd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},jd.prototype.Aa=function(){this.g=!1},jd.prototype.info=function(){};var zd={},Hd=null;function $d(){return Hd=Hd||new vd}function Gd(e){Jh.call(this,zd.Ma,e)}function Wd(e){const t=$d();wd(t,new Gd(t,e))}function Kd(e,t){Jh.call(this,zd.STAT_EVENT,e),this.stat=t}function Yd(e){const t=$d();wd(t,new Kd(t,e))}function Qd(e,t){Jh.call(this,zd.Na,e),this.size=t}function Jd(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return ch.setTimeout(function(){e()},t)}zd.Ma="serverreachability",yh(Gd,Jh),zd.STAT_EVENT="statevent",yh(Kd,Jh),zd.Na="timingevent",yh(Qd,Jh);var Xd={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},ef={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function tf(){}function nf(){}tf.prototype.h=null;var rf,of={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function sf(){Jh.call(this,"d")}function af(){Jh.call(this,"c")}function cf(){}function lf(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new qd(this),this.P=hf,this.W=new Dd(e=jh?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new uf}function uf(){this.i=null,this.g="",this.h=!1}yh(sf,Jh),yh(af,Jh),yh(cf,tf),cf.prototype.g=function(){return new XMLHttpRequest},cf.prototype.i=function(){return{}},rf=new cf;var hf=45e3,df={},ff={};function pf(e,t,n){e.K=1,e.v=Lf(xf(t)),e.s=n,e.U=!0,gf(e,null)}function gf(e,t){e.F=Date.now(),bf(e),e.A=xf(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Yf(n.h,"t",r),e.C=0,n=e.l.H,e.h=new uf,e.g=Yp(e.l,n?t:null,!e.s),0<e.O&&(e.L=new Ld(mh(e.Ia,e,e.g),e.O)),Vd(e.V,e.g,"readystatechange",e.gb),t=e.H?Dh(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Wd(1),function(e,t,n,r,i,o){e.info(function(){if(e.g)if(o)for(var s="",a=o.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var h=u.split("_");s=2<=h.length&&"type"==h[1]?s+(u+"=")+l+"&":s+(u+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+s})}(e.j,e.u,e.A,e.m,e.X,e.s)}function mf(e){return!!e.g&&"GET"==e.u&&2!=e.K&&e.l.Ba}function _f(e,t,n){let r,i=!0;for(;!e.I&&e.C<n.length;){if(r=yf(e,n),r==ff){4==t&&(e.o=4,Yd(14),i=!1),Bd(e.j,e.m,null,"[Incomplete Response]");break}if(r==df){e.o=4,Yd(15),Bd(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}Bd(e.j,e.m,r,null),Pf(e,r)}mf(e)&&r!=ff&&r!=df&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Yd(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),jp(t),t.L=!0,Yd(11))):(Bd(e.j,e.m,n,"[Invalid Chunked Response]"),Of(e),Cf(e))}function yf(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?ff:(n=Number(t.substring(n,r)),isNaN(n)?df:(r+=1)+n>t.length?ff:(t=t.substr(r,n),e.C=r+n,t))}function bf(e){e.Y=Date.now()+e.P,vf(e,e.P)}function vf(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Jd(mh(e.eb,e),t)}function wf(e){e.B&&(ch.clearTimeout(e.B),e.B=null)}function Cf(e){0==e.l.G||e.I||Hp(e.l,e)}function Of(e){wf(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,Nd(e.W),Zd(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function Pf(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||np(n.i,e)))if(n.I=e.N,!e.J&&np(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(l){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;zp(n),Dp(n)}Zp(n),Yd(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Jd(mh(n.ab,n),6e3));if(1>=tp(n.i)&&n.ka){try{n.ka()}catch(l){}n.ka=void 0}}else Gp(n,11)}else if((e.J||n.g==e)&&zp(n),!Th(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){let l=i[t];if(n.U=l[0],l=l[1],2==n.G)if("c"==l[0]){n.J=l[1],n.la=l[2];const t=l[3];null!=t&&(n.ma=t,n.h.info("VER="+n.ma));const i=l[4];null!=i&&(n.za=i,n.h.info("SVER="+n.za));const u=l[5];null!=u&&"number"==typeof u&&0<u&&(n.K=r=1.5*u,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var o=r.i;!o.g&&(Ih(e,"spdy")||Ih(e,"quic")||Ih(e,"h2"))&&(o.j=o.l,o.g=new Set,o.h&&(rp(o,o.h),o.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.sa=e,Ff(r.F,r.D,e))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var s=e;if((r=n).oa=Kp(r,r.H?r.la:null,r.W),s.J){ip(r.i,s);var a=s,c=r.K;c&&a.setTimeout(c),a.B&&(wf(a),bf(a)),r.g=s}else Vp(r);0<n.l.length&&Fp(n)}else"stop"!=l[0]&&"close"!=l[0]||Gp(n,7);else 3==n.G&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?Gp(n,7):Ap(n):"noop"!=l[0]&&n.j&&n.j.wa(l),n.A=0)}Wd(4)}catch(l){}}function Tf(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(uh(e)||"string"==typeof e)Ch(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(uh(e)||"string"==typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;i=(r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"==typeof e)return e.split("");if(uh(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e)).length;for(var o=0;o<i;o++)t.call(void 0,r[o],n&&n[o],e)}}function Mf(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof Mf)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function Sf(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];If(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)If(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function If(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(rh=lf.prototype).setTimeout=function(e){this.P=e},rh.gb=function(e){e=e.target;const t=this.L;t&&3==Sp(e)?t.l():this.Ia(e)},rh.Ia=function(e){try{if(e==this.g)e:{const u=Sp(this.g);var t=this.g.Da();const h=this.g.ba();if(!(3>u)&&(3!=u||jh||this.g&&(this.h.h||this.g.ga()||Ip(this.g)))){this.I||4!=u||7==t||Wd(8==t||0>=h?3:2),wf(this);var n=this.g.ba();this.N=n;t:if(mf(this)){var r=Ip(this.g);e="";var i=r.length,o=4==Sp(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Of(this),Cf(this);var s="";break t}this.h.i=new ch.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:o&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==n,function(e,t,n,r,i,o,s){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+o+" "+s})}(this.j,this.u,this.A,this.m,this.X,u,n),this.i){if(this.$&&!this.J){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Th(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,Yd(12),Of(this),Cf(this);break e}Bd(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Pf(this,n)}this.U?(_f(this,u,s),jh&&this.i&&3==u&&(Vd(this.V,this.W,"tick",this.fb),this.W.start())):(Bd(this.j,this.m,s,null),Pf(this,s)),4==u&&Of(this),this.i&&!this.I&&(4==u?Hp(this.l,this):(this.i=!1,bf(this)))}else 400==n&&0<s.indexOf("Unknown SID")?(this.o=3,Yd(12)):(this.o=0,Yd(13)),Of(this),Cf(this)}}}catch(u){}},rh.fb=function(){if(this.g){var e=Sp(this.g),t=this.g.ga();this.C<t.length&&(wf(this),_f(this,e,t),this.i&&4!=e&&bf(this))}},rh.cancel=function(){this.I=!0,Of(this)},rh.eb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(function(e,t){e.info(function(){return"TIMEOUT: "+t})}(this.j,this.A),2!=this.K&&(Wd(3),Yd(17)),Of(this),this.o=2,Cf(this)):vf(this,this.Y-e)},(rh=Mf.prototype).R=function(){Sf(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},rh.T=function(){return Sf(this),this.g.concat()},rh.get=function(e,t){return If(this.h,e)?this.h[e]:t},rh.set=function(e,t){If(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},rh.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);e.call(t,o,i,this)}};var kf=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ef(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof Ef){this.g=void 0!==t?t:e.g,Af(this,e.j),this.s=e.s,Df(this,e.i),Nf(this,e.m),this.l=e.l,t=e.h;var n=new $f;n.i=t.i,t.g&&(n.g=new Mf(t.g),n.h=t.h),Rf(this,n),this.o=e.o}else e&&(n=String(e).match(kf))?(this.g=!!t,Af(this,n[1]||"",!0),this.s=qf(n[2]||""),Df(this,n[3]||"",!0),Nf(this,n[4]),this.l=qf(n[5]||"",!0),Rf(this,n[6]||"",!0),this.o=qf(n[7]||"")):(this.g=!!t,this.h=new $f(null,this.g))}function xf(e){return new Ef(e)}function Af(e,t,n){e.j=n?qf(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Df(e,t,n){e.i=n?qf(t,!0):t}function Nf(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Rf(e,t,n){t instanceof $f?(e.h=t,function(e,t){t&&!e.j&&(Gf(e),e.i=null,e.g.forEach(function(e,t){var n=t.toLowerCase();t!=n&&(Wf(this,t),Yf(this,n,e))},e)),e.j=t}(e.h,e.g)):(n||(t=Uf(t,zf)),e.h=new $f(t,e.g))}function Ff(e,t,n){e.h.set(t,n)}function Lf(e){return Ff(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function qf(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Uf(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Vf),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Vf(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ef.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Uf(t,Zf,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Uf(t,Zf,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(Uf(n,"/"==n.charAt(0)?Bf:jf,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Uf(n,Hf)),e.join("")};var Zf=/[#\/\?@]/g,jf=/[#\?:]/g,Bf=/[#\?]/g,zf=/[#\?@]/g,Hf=/#/g;function $f(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Gf(e){e.g||(e.g=new Mf,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var o=e[n].substring(0,r);i=e[n].substring(r+1)}else o=e[n];t(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}function Wf(e,t){Gf(e),t=Qf(e,t),If(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,If((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&Sf(e)))}function Kf(e,t){return Gf(e),t=Qf(e,t),If(e.g.h,t)}function Yf(e,t,n){Wf(e,t),0<n.length&&(e.i=null,e.g.set(Qf(e,t),Ph(n)),e.h+=n.length)}function Qf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Jf(e){this.l=e||Xf,e=ch.PerformanceNavigationTiming?0<(e=ch.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):!!(ch.g&&ch.g.Ea&&ch.g.Ea()&&ch.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(rh=$f.prototype).add=function(e,t){Gf(this),this.i=null,e=Qf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},rh.forEach=function(e,t){Gf(this),this.g.forEach(function(n,r){Ch(n,function(n){e.call(t,n,r,this)},this)},this)},rh.T=function(){Gf(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],o=0;o<i.length;o++)n.push(t[r]);return n},rh.R=function(e){Gf(this);var t=[];if("string"==typeof e)Kf(this,e)&&(t=Oh(t,this.g.get(Qf(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Oh(t,e[n])}return t},rh.set=function(e,t){return Gf(this),this.i=null,Kf(this,e=Qf(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},rh.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},rh.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),e.push(s)}}return this.i=e.join("&")};var Xf=10;function ep(e){return!!e.h||!!e.g&&e.g.size>=e.j}function tp(e){return e.h?1:e.g?e.g.size:0}function np(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function rp(e,t){e.g?e.g.add(t):e.h=t}function ip(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function op(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return Ph(e.i)}function sp(){}function ap(){this.g=new sp}function cp(e,t,n){const r=n||"";try{Tf(e,function(e,n){let i=e;hh(e)&&(i=Od(e)),t.push(r+n+"="+encodeURIComponent(i))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function lp(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(o){}}function up(e){this.l=e.$b||null,this.j=e.ib||!1}function hp(e,t){vd.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=dp,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Jf.prototype.cancel=function(){if(this.i=op(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},sp.prototype.stringify=function(e){return ch.JSON.stringify(e,void 0)},sp.prototype.parse=function(e){return ch.JSON.parse(e,void 0)},yh(up,tf),up.prototype.g=function(){return new hp(this.l,this.j)},up.prototype.i=function(e){return function(){return e}}({}),yh(hp,vd);var dp=0;function fp(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function pp(e){e.readyState=4,e.l=null,e.j=null,e.A=null,gp(e)}function gp(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(rh=hp.prototype).open=function(e,t){if(this.readyState!=dp)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,gp(this)},rh.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||ch).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},rh.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pp(this)),this.readyState=dp},rh.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,gp(this)),this.g&&(this.readyState=3,gp(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==ch.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fp(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},rh.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?pp(this):gp(this),3==this.readyState&&fp(this)}},rh.Ua=function(e){this.g&&(this.response=this.responseText=e,pp(this))},rh.Ta=function(e){this.g&&(this.response=e,pp(this))},rh.ha=function(){this.g&&pp(this)},rh.setRequestHeader=function(e,t){this.v.append(e,t)},rh.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},rh.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)e.push((n=n.value)[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(hp.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var mp=ch.JSON.parse;function _p(e){vd.call(this),this.headers=new Mf,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=yp,this.K=this.L=!1}yh(_p,vd);var yp="",bp=/^https?$/i,vp=["POST","PUT"];function wp(e){return"content-type"==e.toLowerCase()}function Cp(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Op(e),Tp(e)}function Op(e){e.D||(e.D=!0,wd(e,"complete"),wd(e,"error"))}function Pp(e){if(e.h&&void 0!==ah&&(!e.C[1]||4!=Sp(e)||2!=e.ba()))if(e.v&&4==Sp(e))Rd(e.Fa,0,e);else if(wd(e,"readystatechange"),4==Sp(e)){e.h=!1;try{const c=e.ba();e:switch(c){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===c){var i=String(e.H).match(kf)[1]||null;if(!i&&ch.self&&ch.self.location){var o=ch.self.location.protocol;i=o.substr(0,o.length-1)}r=!bp.test(i?i.toLowerCase():"")}n=r}if(n)wd(e,"complete"),wd(e,"success");else{e.m=6;try{var s=2<Sp(e)?e.g.statusText:""}catch(a){s=""}e.j=s+" ["+e.ba()+"]",Op(e)}}finally{Tp(e)}}}function Tp(e,t){if(e.g){Mp(e);const r=e.g,i=e.C[0]?lh:null;e.g=null,e.C=null,t||wd(e,"ready");try{r.onreadystatechange=i}catch(n){}}}function Mp(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(ch.clearTimeout(e.A),e.A=null)}function Sp(e){return e.g?e.g.readyState:0}function Ip(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case yp:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(t){return null}}function kp(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){let t="";return Ah(e,function(e,n){t+=n,t+=":",t+=e,t+="\r\n"}),t}(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Ff(e,t,n))}function Ep(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function xp(e){this.za=0,this.l=[],this.h=new jd,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=Ep("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=Ep("baseRetryDelayMs",5e3,e),this.$a=Ep("retryDelaySeedMs",1e4,e),this.Ya=Ep("forwardChannelMaxRetries",2,e),this.ra=Ep("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Jf(e&&e.concurrentRequestLimit),this.Ca=new ap,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function Ap(e){if(Np(e),3==e.G){var t=e.V++,n=xf(e.F);Ff(n,"SID",e.J),Ff(n,"RID",t),Ff(n,"TYPE","terminate"),qp(e,n),(t=new lf(e,e.h,t,void 0)).K=2,t.v=Lf(xf(n)),n=!1,ch.navigator&&ch.navigator.sendBeacon&&(n=ch.navigator.sendBeacon(t.v.toString(),"")),!n&&ch.Image&&((new Image).src=t.v,n=!0),n||(t.g=Yp(t.l,null),t.g.ea(t.v)),t.F=Date.now(),bf(t)}Wp(e)}function Dp(e){e.g&&(jp(e),e.g.cancel(),e.g=null)}function Np(e){Dp(e),e.u&&(ch.clearTimeout(e.u),e.u=null),zp(e),e.i.cancel(),e.m&&("number"==typeof e.m&&ch.clearTimeout(e.m),e.m=null)}function Rp(e,t){e.l.push(new class{constructor(e,t){this.h=e,this.g=t}}(e.Za++,t)),3==e.G&&Fp(e)}function Fp(e){ep(e.i)||e.m||(e.m=!0,kd(e.Ha,e),e.C=0)}function Lp(e,t){var n;n=t?t.m:e.V++;const r=xf(e.F);Ff(r,"SID",e.J),Ff(r,"RID",n),Ff(r,"AID",e.U),qp(e,r),e.o&&e.s&&kp(r,e.o,e.s),n=new lf(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=Up(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),rp(e.i,n),pf(n,r,t)}function qp(e,t){e.j&&Tf({},function(e,n){Ff(t,n,e)})}function Up(e,t,n){n=Math.min(e.l.length,n);var r=e.j?mh(e.j.Oa,e.j,e):null;e:{var i=e.l;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].h;const c=i[a].g;if(n-=t,0>n)t=Math.max(0,i[a].h-100),s=!1;else try{cp(c,e,"req"+n+"_")}catch(o){r&&r(c)}}if(s){r=e.join("&");break e}}}return e=e.l.splice(0,n),t.D=e,r}function Vp(e){e.g||e.u||(e.Y=1,kd(e.Ga,e),e.A=0)}function Zp(e){return!(e.g||e.u||3<=e.A||(e.Y++,e.u=Jd(mh(e.Ga,e),$p(e,e.A)),e.A++,0))}function jp(e){null!=e.B&&(ch.clearTimeout(e.B),e.B=null)}function Bp(e){e.g=new lf(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=xf(e.oa);Ff(t,"RID","rpc"),Ff(t,"SID",e.J),Ff(t,"CI",e.N?"0":"1"),Ff(t,"AID",e.U),qp(e,t),Ff(t,"TYPE","xmlhttp"),e.o&&e.s&&kp(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=Lf(xf(t)),n.s=null,n.U=!0,gf(n,e)}function zp(e){null!=e.v&&(ch.clearTimeout(e.v),e.v=null)}function Hp(e,t){var n=null;if(e.g==t){zp(e),jp(e),e.g=null;var r=2}else{if(!np(e.i,t))return;n=t.D,ip(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;wd(r=$d(),new Qd(r,n,t,i)),Fp(e)}else Vp(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(tp(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.l=t.D.concat(e.l),0):1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya)||(e.m=Jd(mh(e.Ha,e,t),$p(e,e.C)),e.C++,0)))}(e,t)||2==r&&Zp(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Gp(e,5);break;case 4:Gp(e,10);break;case 3:Gp(e,6);break;default:Gp(e,2)}}function $p(e,t){let n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Gp(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=mh(e.jb,e);n||(n=new Ef("//www.google.com/images/cleardot.gif"),ch.location&&"http"==ch.location.protocol||Af(n,"https"),Lf(n)),function(e,t){const n=new jd;if(ch.Image){const r=new Image;r.onload=_h(lp,n,r,"TestLoadImage: loaded",!0,t),r.onerror=_h(lp,n,r,"TestLoadImage: error",!1,t),r.onabort=_h(lp,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=_h(lp,n,r,"TestLoadImage: timeout",!1,t),ch.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}(n.toString(),r)}else Yd(2);e.G=0,e.j&&e.j.va(t),Wp(e),Np(e)}function Wp(e){e.G=0,e.I=-1,e.j&&(0==op(e.i).length&&0==e.l.length||(e.i.i.length=0,Ph(e.l),e.l.length=0),e.j.ua())}function Kp(e,t,n){let r=function(e){return e instanceof Ef?xf(e):new Ef(e,void 0)}(n);if(""!=r.i)t&&Df(r,t+"."+r.i),Nf(r,r.m);else{const e=ch.location;r=function(e,t,n,r){var i=new Ef(null,void 0);return e&&Af(i,e),t&&Df(i,t),n&&Nf(i,n),r&&(i.l=r),i}(e.protocol,t?t+"."+e.hostname:e.hostname,+e.port,n)}return e.aa&&Ah(e.aa,function(e,t){Ff(r,t,e)}),n=e.sa,(t=e.D)&&n&&Ff(r,t,n),Ff(r,"VER",e.ma),qp(e,r),r}function Yp(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=new _p(n&&e.Ba&&!e.qa?new up({ib:!0}):e.qa)).L=e.H,t}function Qp(){}function Jp(){if(Vh&&!(10<=Number(Yh)))throw Error("Environmental error: no available transport.")}function Xp(e,t){vd.call(this),this.g=new xp(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!Th(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Th(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&t in(e=this.h)&&delete e[t]),this.j=new ng(this)}function eg(e){sf.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function tg(){af.call(this),this.status=1}function ng(e){this.g=e}(rh=_p.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():rf.g(),this.C=function(e){return e.h||(e.h=e.i())}(this.u?this.u:rf),this.g.onreadystatechange=mh(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(o){return void Cp(this,o)}e=n||"";const i=new Mf(this.headers);r&&Tf(r,function(e,t){i.set(t,e)}),r=function(e){e:{var t=wp;const n=e.length,r="string"==typeof e?e.split(""):e;for(let i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"==typeof e?e.charAt(t):e[t]}(i.T()),n=ch.FormData&&e instanceof ch.FormData,!(0<=wh(vp,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(e,t){this.g.setRequestHeader(t,e)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Mp(this),0<this.B&&((this.K=function(e){return Vh&&function(){return e=Kh,Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=function(){let e=0;const t=Sh(String(Lh)).split("."),n=Sh("9").split("."),r=Math.max(t.length,n.length);for(let s=0;0==e&&s<r;s++){var i=t[s]||"",o=n[s]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;e=kh(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||kh(0==i[2].length,0==o[2].length)||kh(i[2],o[2]),i=i[3],o=o[3]}while(0==e)}return 0<=e}();var e}()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=mh(this.pa,this)):this.A=Rd(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(o){Cp(this,o)}},rh.pa=function(){void 0!==ah&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,wd(this,"timeout"),this.abort(8))},rh.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,wd(this,"complete"),wd(this,"abort"),Tp(this))},rh.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Tp(this,!0)),_p.Z.M.call(this)},rh.Fa=function(){this.s||(this.F||this.v||this.l?Pp(this):this.cb())},rh.cb=function(){Pp(this)},rh.ba=function(){try{return 2<Sp(this)?this.g.status:-1}catch(qh){return-1}},rh.ga=function(){try{return this.g?this.g.responseText:""}catch(qh){return""}},rh.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),mp(t)}},rh.Da=function(){return this.m},rh.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(rh=xp.prototype).ma=8,rh.G=1,rh.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(t){}},rh.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;const i=new lf(this,this.h,e,void 0);let o=this.s;if(this.P&&(o?(o=Dh(o),Rh(o,this.P)):o=this.P),null===this.o&&(i.H=o),this.ja)e:{for(var t=0,n=0;n<this.l.length;n++){var r=this.l[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.l.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=Up(this,i,t),Ff(n=xf(this.F),"RID",e),Ff(n,"CVER",22),this.D&&Ff(n,"X-HTTP-Session-Id",this.D),qp(this,n),this.o&&o&&kp(n,this.o,o),rp(this.i,i),this.Ra&&Ff(n,"TYPE","init"),this.ja?(Ff(n,"$req",t),Ff(n,"SID","null"),i.$=!0,pf(i,n,null)):pf(i,n,t),this.G=2}}else 3==this.G&&(e?Lp(this,e):0==this.l.length||ep(this.i)||Lp(this))},rh.Ga=function(){if(this.u=null,Bp(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Jd(mh(this.bb,this),e)}},rh.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Yd(10),Dp(this),Bp(this))},rh.ab=function(){null!=this.v&&(this.v=null,Dp(this),Zp(this),Yd(19))},rh.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Yd(2)):(this.h.info("Failed to ping google.com"),Yd(1))},(rh=Qp.prototype).xa=function(){},rh.wa=function(){},rh.va=function(){},rh.ua=function(){},rh.Oa=function(){},Jp.prototype.g=function(e,t){return new Xp(e,t)},yh(Xp,vd),Xp.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),kd(mh(e.hb,e,t))),Yd(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Kp(e,null,e.W),Fp(e)},Xp.prototype.close=function(){Ap(this.g)},Xp.prototype.u=function(e){if("string"==typeof e){var t={};t.__data__=e,Rp(this.g,t)}else this.v?((t={}).__data__=Od(e),Rp(this.g,t)):Rp(this.g,e)},Xp.prototype.M=function(){this.g.j=null,delete this.j,Ap(this.g),delete this.g,Xp.Z.M.call(this)},yh(eg,sf),yh(tg,af),yh(ng,Qp),ng.prototype.xa=function(){wd(this.g,"a")},ng.prototype.wa=function(e){wd(this.g,new eg(e))},ng.prototype.va=function(e){wd(this.g,new tg(e))},ng.prototype.ua=function(){wd(this.g,"b")},Jp.prototype.createWebChannel=Jp.prototype.g,Xp.prototype.send=Xp.prototype.u,Xp.prototype.open=Xp.prototype.m,Xp.prototype.close=Xp.prototype.close,Xd.NO_ERROR=0,Xd.TIMEOUT=8,Xd.HTTP_ERROR=6,ef.COMPLETE="complete",nf.EventType=of,of.OPEN="a",of.CLOSE="b",of.ERROR="c",of.MESSAGE="d",vd.prototype.listen=vd.prototype.N,_p.prototype.listenOnce=_p.prototype.O,_p.prototype.getLastError=_p.prototype.La,_p.prototype.getLastErrorCode=_p.prototype.Da,_p.prototype.getStatus=_p.prototype.ba,_p.prototype.getResponseJson=_p.prototype.Qa,_p.prototype.getResponseText=_p.prototype.ga,_p.prototype.send=_p.prototype.ea;var rg=sh.createWebChannelTransport=function(){return new Jp},ig=sh.getStatEventTarget=function(){return $d()},og=sh.ErrorCode=Xd,sg=sh.EventType=ef,ag=sh.Event=zd,cg=sh.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},lg=sh.FetchXmlHttpFactory=up,ug=sh.WebChannel=nf,hg=sh.XhrIo=_p;const dg="@firebase/firestore";class fg{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}fg.UNAUTHENTICATED=new fg(null),fg.GOOGLE_CREDENTIALS=new fg("google-credentials-uid"),fg.FIRST_PARTY=new fg("first-party-uid"),fg.MOCK_USER=new fg("mock-user");let pg="9.8.3";const gg=new Ss.Yd("@firebase/firestore");function mg(){return gg.logLevel}function _g(e,...t){if(gg.logLevel<=Ss.in.DEBUG){const n=t.map(vg);gg.debug(`Firestore (${pg}): ${e}`,...n)}}function yg(e,...t){if(gg.logLevel<=Ss.in.ERROR){const n=t.map(vg);gg.error(`Firestore (${pg}): ${e}`,...n)}}function bg(e,...t){if(gg.logLevel<=Ss.in.WARN){const n=t.map(vg);gg.warn(`Firestore (${pg}): ${e}`,...n)}}function vg(e){if("string"==typeof e)return e;try{return JSON.stringify(e)}catch(t){return e}}function wg(e="Unexpected state"){const t=`FIRESTORE (${pg}) INTERNAL ASSERTION FAILED: `+e;throw yg(t),new Error(t)}function Cg(e,t){e||wg()}function Og(e,t){return e}const Pg={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Tg extends Ms.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Mg{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Sg{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Ig{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(fg.UNAUTHENTICATED))}shutdown(){}}class kg{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Eg{constructor(e){this.t=e,this.currentUser=fg.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var n=this;let r=this.i;const i=e=>this.i!==r?(r=this.i,t(e)):Promise.resolve();let o=new Mg;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Mg,e.enqueueRetryable(()=>i(this.currentUser))};const s=()=>{const t=o;e.enqueueRetryable((0,Os.Z)(function*(){yield t.promise,yield i(n.currentUser)}))},a=e=>{_g("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(e=>a(e)),setTimeout(()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(_g("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Mg)}},0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(t=>this.i!==e?(_g("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(Cg("string"==typeof t.accessToken),new Sg(t.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Cg(null===e||"string"==typeof e),new fg(e)}}class xg{constructor(e,t,n){this.type="FirstParty",this.user=fg.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const r=e.auth.getAuthHeaderValueForFirstParty([]);r&&this.headers.set("Authorization",r),n&&this.headers.set("X-Goog-Iam-Authorization-Token",n)}}class Ag{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new xg(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(fg.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Dg{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Ng{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const n=e=>{null!=e.error&&_g("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.p;return this.p=e.token,_g("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable(()=>n(t))};const r=e=>{_g("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.g.onInit(e=>r(e)),setTimeout(()=>{if(!this.appCheck){const e=this.g.getImmediate({optional:!0});e?r(e):_g("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(e=>e?(Cg("string"==typeof e.token),this.p=e.token,new Dg(e.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function Rg(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Fg{static I(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Rg(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function Lg(e,t){return e<t?-1:e>t?1:0}function qg(e,t,n){return e.length===t.length&&e.every((e,r)=>n(e,t[r]))}function Ug(e){return e+"\0"}class Vg{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new Tg(Pg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new Tg(Pg.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new Tg(Pg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Tg(Pg.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Vg.fromMillis(Date.now())}static fromDate(e){return Vg.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Vg(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Lg(this.nanoseconds,e.nanoseconds):Lg(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Zg{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Zg(e)}static min(){return new Zg(new Vg(0,0))}static max(){return new Zg(new Vg(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class jg{constructor(e,t,n){void 0===t?t=0:t>e.length&&wg(),void 0===n?n=e.length-t:n>e.length-t&&wg(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===jg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jg?e.forEach(e=>{t.push(e)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Bg extends jg{construct(e,t,n){return new Bg(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new Tg(Pg.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter(e=>e.length>0))}return new Bg(t)}static emptyPath(){return new Bg([])}}const zg=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hg extends jg{construct(e,t,n){return new Hg(e,t,n)}static isValidIdentifier(e){return zg.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hg.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Hg(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new Tg(Pg.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let o=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new Tg(Pg.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new Tg(Pg.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(o=!o,r++):"."!==t||o?(n+=t,r++):(i(),r++)}if(i(),o)throw new Tg(Pg.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Hg(t)}static emptyPath(){return new Hg([])}}class $g{constructor(e){this.path=e}static fromPath(e){return new $g(Bg.fromString(e))}static fromName(e){return new $g(Bg.fromString(e).popFirst(5))}static empty(){return new $g(Bg.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Bg.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Bg.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $g(new Bg(e.slice()))}}class Gg{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Wg(e){return e.fields.find(e=>2===e.kind)}function Kg(e){return e.fields.filter(e=>2!==e.kind)}Gg.UNKNOWN_ID=-1;class Yg{constructor(e,t){this.fieldPath=e,this.kind=t}}class Qg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Qg(0,em.min())}}function Jg(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Zg.fromTimestamp(1e9===r?new Vg(n+1,0):new Vg(n,r));return new em(i,$g.empty(),t)}function Xg(e){return new em(e.readTime,e.key,-1)}class em{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new em(Zg.min(),$g.empty(),-1)}static max(){return new em(Zg.max(),$g.empty(),-1)}}function tm(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=$g.comparator(e.documentKey,t.documentKey),0!==n?n:Lg(e.largestBatchId,t.largestBatchId))}const nm="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rm{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function im(e){return om.apply(this,arguments)}function om(){return(om=(0,Os.Z)(function*(e){if(e.code!==Pg.FAILED_PRECONDITION||e.message!==nm)throw e;_g("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class sm{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)},e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&wg(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new sm((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof sm?t:sm.resolve(t)}catch(e){return sm.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):sm.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):sm.reject(t)}static resolve(e){return new sm((t,n)=>{t(e)})}static reject(e){return new sm((t,n)=>{n(e)})}static waitFor(e){return new sm((t,n)=>{let r=0,i=0,o=!1;e.forEach(e=>{++r,e.next(()=>{++i,o&&i===r&&t()},e=>n(e))}),o=!0,i===r&&t()})}static or(e){let t=sm.resolve(!1);for(const n of e)t=t.next(e=>e?sm.resolve(e):n());return t}static forEach(e,t){const n=[];return e.forEach((e,r)=>{n.push(t.call(this,e,r))}),this.waitFor(n)}static mapArray(e,t){return new sm((n,r)=>{const i=e.length,o=new Array(i);let s=0;for(let a=0;a<i;a++){const c=a;t(e[c]).next(e=>{o[c]=e,++s,s===i&&n(o)},e=>r(e))}})}static doWhile(e,t){return new sm((n,r)=>{const i=()=>{!0===e()?t().next(()=>{i()},r):n()};i()})}}class am{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.T=new Mg,this.transaction.oncomplete=()=>{this.T.resolve()},this.transaction.onabort=()=>{t.error?this.T.reject(new um(e,t.error)):this.T.resolve()},this.transaction.onerror=t=>{const n=gm(t.target.error);this.T.reject(new um(e,n))}}static open(e,t,n,r){try{return new am(t,e.transaction(r,n))}catch(e){throw new um(t,e)}}get A(){return this.T.promise}abort(e){e&&this.T.reject(e),this.aborted||(_g("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}R(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new dm(t)}}class cm{constructor(e,t,n){this.name=e,this.version=t,this.P=n,12.2===cm.v((0,Ms.z$)())&&yg("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return _g("SimpleDb","Removing database:",e),fm(window.indexedDB.deleteDatabase(e)).toPromise()}static V(){if(!(0,Ms.hl)())return!1;if(cm.S())return!0;const e=(0,Ms.z$)(),t=cm.v(e),n=0<t&&t<10,r=cm.D(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static S(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.C)}static N(e,t){return e.store(t)}static v(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static D(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}k(e){var t=this;return(0,Os.Z)(function*(){return t.db||(_g("SimpleDb","Opening database:",t.name),t.db=yield new Promise((n,r)=>{const i=indexedDB.open(t.name,t.version);i.onsuccess=e=>{n(e.target.result)},i.onblocked=()=>{r(new um(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=t=>{const n=t.target.error;r("VersionError"===n.name?new Tg(Pg.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===n.name?new Tg(Pg.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n):new um(e,n))},i.onupgradeneeded=e=>{_g("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',e.oldVersion),t.P.O(e.target.result,i.transaction,e.oldVersion,t.version).next(()=>{_g("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.M&&(t.db.onversionchange=e=>t.M(e)),t.db})()}F(e){this.M=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,n,r){var i=this;return(0,Os.Z)(function*(){const o="readonly"===t;let s=0;for(;;){++s;try{i.db=yield i.k(e);const t=am.open(i.db,e,o?"readonly":"readwrite",n),s=r(t).next(e=>(t.R(),e)).catch(e=>(t.abort(e),sm.reject(e))).toPromise();return s.catch(()=>{}),yield t.A,s}catch(e){const n="FirebaseError"!==e.name&&s<3;if(_g("SimpleDb","Transaction failed with error:",e.message,"Retrying:",n),i.close(),!n)return Promise.reject(e)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class lm{constructor(e){this.$=e,this.B=!1,this.L=null}get isDone(){return this.B}get U(){return this.L}set cursor(e){this.$=e}done(){this.B=!0}q(e){this.L=e}delete(){return fm(this.$.delete())}}class um extends Tg{constructor(e,t){super(Pg.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function hm(e){return"IndexedDbTransactionError"===e.name}class dm{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(_g("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(_g("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),fm(n)}add(e){return _g("SimpleDb","ADD",this.store.name,e,e),fm(this.store.add(e))}get(e){return fm(this.store.get(e)).next(t=>(void 0===t&&(t=null),_g("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return _g("SimpleDb","DELETE",this.store.name,e),fm(this.store.delete(e))}count(){return _g("SimpleDb","COUNT",this.store.name),fm(this.store.count())}K(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.G(e,(e,n)=>{t.push(n)}).next(()=>t)}{const e=this.store.getAll(n.range);return new sm((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}})}}j(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new sm((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}})}W(e,t){_g("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.H=!1;const r=this.cursor(n);return this.G(r,(e,t,n)=>n.delete())}J(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.G(r,t)}Y(e){const t=this.cursor({});return new sm((n,r)=>{t.onerror=e=>{const t=gm(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next(e=>{e?r.continue():n()}):n()}})}G(e,t){const n=[];return new sm((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const o=new lm(i),s=t(i.primaryKey,i.value,o);if(s instanceof sm){const e=s.catch(e=>(o.done(),sm.reject(e)));n.push(e)}o.isDone?r():null===o.U?i.continue():i.continue(o.U)}}).next(()=>sm.waitFor(n))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.H?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function fm(e){return new sm((t,n)=>{e.onsuccess=e=>{t(e.target.result)},e.onerror=e=>{const t=gm(e.target.error);n(t)}})}let pm=!1;function gm(e){const t=cm.v((0,Ms.z$)());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new Tg("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return pm||(pm=!0,setTimeout(()=>{throw e},0)),e}}return e}class mm{constructor(e,t){this.asyncQueue=e,this.X=t,this.task=null}start(){}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}Z(e){var t=this;_g("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,Os.Z)(function*(){t.task=null;try{_g("IndexBackiller",`Documents written: ${yield t.X.tt()}`)}catch(e){hm(e)?_g("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):yield im(e)}yield t.Z(1)}))}}class _m{constructor(e,t){this.localStore=e,this.persistence=t}tt(e=50){var t=this;return(0,Os.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",n=>t.et(n,e))})()}et(e,t){const n=new Set;let r=t,i=!0;return sm.doWhile(()=>!0===i&&r>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(t=>{if(null!==t&&!n.has(t))return _g("IndexBackiller",`Processing collection: ${t}`),this.nt(e,t,r).next(e=>{r-=e,n.add(t)});i=!1})).next(()=>t-r)}nt(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next(n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next(()=>this.st(r,n)).next(n=>(_g("IndexBackiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n))).next(()=>i.size)}))}st(e,t){let n=e;return t.changes.forEach((e,t)=>{const r=Xg(t);tm(r,n)>0&&(n=r)}),new em(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))}}class ym{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.it(e),this.rt=e=>t.writeSequenceNumber(e))}it(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.rt&&this.rt(e),e}}function bm(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function vm(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function wm(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}ym.ot=-1;class Cm{constructor(e,t){this.comparator=e,this.root=t||Pm.EMPTY}insert(e,t){return new Cm(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Pm.BLACK,null,null))}remove(e){return new Cm(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pm.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,n)=>(e(t,n),!1))}toString(){const e=[];return this.inorderTraversal((t,n)=>(e.push(`${t}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Om(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Om(this.root,e,this.comparator,!1)}getReverseIterator(){return new Om(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Om(this.root,e,this.comparator,!0)}}class Om{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pm{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:Pm.RED,this.left=null!=r?r:Pm.EMPTY,this.right=null!=i?i:Pm.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new Pm(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Pm.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return Pm.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pm.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pm.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw wg();if(this.right.isRed())throw wg();const e=this.left.check();if(e!==this.right.check())throw wg();return e+(this.isRed()?0:1)}}Pm.EMPTY=null,Pm.RED=!0,Pm.BLACK=!1,Pm.EMPTY=new class{constructor(){this.size=0}get key(){throw wg()}get value(){throw wg()}get color(){throw wg()}get left(){throw wg()}get right(){throw wg()}copy(e,t,n,r,i){return this}insert(e,t,n){return new Pm(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Tm{constructor(e){this.comparator=e,this.data=new Cm(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,n)=>(e(t),!1))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Mm(this.data.getIterator())}getIteratorFrom(e){return new Mm(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(e=>{t=t.add(e)}),t}isEqual(e){if(!(e instanceof Tm))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Tm(this.comparator);return t.data=e,t}}class Mm{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function Sm(e){return e.hasNext()?e.getNext():void 0}class Im{constructor(e){this.fields=e,e.sort(Hg.comparator)}static empty(){return new Im([])}unionWith(e){let t=new Tm(Hg.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new Im(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return qg(this.fields,e.fields,(e,t)=>e.isEqual(t))}}class km{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new km(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new km(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Lg(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}km.EMPTY_BYTE_STRING=new km("");const Em=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xm(e){if(Cg(!!e),"string"==typeof e){let t=0;const n=Em.exec(e);if(Cg(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:Am(e.seconds),nanos:Am(e.nanos)}}function Am(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Dm(e){return"string"==typeof e?km.fromBase64String(e):km.fromUint8Array(e)}function Nm(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Rm(e){const t=e.mapValue.fields.__previous_value__;return Nm(t)?Rm(t):t}function Fm(e){const t=xm(e.mapValue.fields.__local_write_time__.timestampValue);return new Vg(t.seconds,t.nanos)}class Lm{constructor(e,t,n,r,i,o,s,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.useFetchStreams=a}}class qm{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new qm("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof qm&&e.projectId===this.projectId&&e.database===this.database}}function Um(e){return null==e}function Vm(e){return 0===e&&1/e==-1/0}function Zm(e){return"number"==typeof e&&Number.isInteger(e)&&!Vm(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}const jm={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Bm={nullValue:"NULL_VALUE"};function zm(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Nm(e)?4:i_(e)?9007199254740991:10:wg()}function Hm(e,t){if(e===t)return!0;const n=zm(e);if(n!==zm(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Fm(e).isEqual(Fm(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=xm(e.timestampValue),r=xm(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Dm(e.bytesValue).isEqual(Dm(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Am(e.geoPointValue.latitude)===Am(t.geoPointValue.latitude)&&Am(e.geoPointValue.longitude)===Am(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Am(e.integerValue)===Am(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=Am(e.doubleValue),r=Am(t.doubleValue);return n===r?Vm(n)===Vm(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return qg(e.arrayValue.values||[],t.arrayValue.values||[],Hm);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(bm(n)!==bm(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Hm(n[i],r[i])))return!1;return!0}(e,t);default:return wg()}}function $m(e,t){return void 0!==(e.values||[]).find(e=>Hm(e,t))}function Gm(e,t){if(e===t)return 0;const n=zm(e),r=zm(t);if(n!==r)return Lg(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Lg(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=Am(e.integerValue||e.doubleValue),r=Am(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Wm(e.timestampValue,t.timestampValue);case 4:return Wm(Fm(e),Fm(t));case 5:return Lg(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Dm(e),r=Dm(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=Lg(n[i],r[i]);if(0!==e)return e}return Lg(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=Lg(Am(e.latitude),Am(t.latitude));return 0!==n?n:Lg(Am(e.longitude),Am(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Gm(n[i],r[i]);if(e)return e}return Lg(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===jm.mapValue&&t===jm.mapValue)return 0;if(e===jm.mapValue)return 1;if(t===jm.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},o=Object.keys(i);r.sort(),o.sort();for(let s=0;s<r.length&&s<o.length;++s){const e=Lg(r[s],o[s]);if(0!==e)return e;const t=Gm(n[r[s]],i[o[s]]);if(0!==t)return t}return Lg(r.length,o.length)}(e.mapValue,t.mapValue);default:throw wg()}}function Wm(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return Lg(e,t);const n=xm(e),r=xm(t),i=Lg(n.seconds,r.seconds);return 0!==i?i:Lg(n.nanos,r.nanos)}function Km(e){return Ym(e)}function Ym(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=xm(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Dm(e.bytesValue).toBase64():"referenceValue"in e?$g.fromName(e.referenceValue).toString():"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Ym(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Ym(e.fields[i])}`;return n+"}"}(e.mapValue):wg();var t}function Qm(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function Jm(e){return!!e&&"integerValue"in e}function Xm(e){return!!e&&"arrayValue"in e}function e_(e){return!!e&&"nullValue"in e}function t_(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function n_(e){return!!e&&"mapValue"in e}function r_(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return vm(e.mapValue.fields,(e,n)=>t.mapValue.fields[e]=r_(n)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=r_(e.arrayValue.values[n]);return t}return Object.assign({},e)}function i_(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function o_(e){return"nullValue"in e?Bm:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Qm(qm.empty(),$g.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:wg()}function s_(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Qm(qm.empty(),$g.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?jm:wg()}function a_(e,t){const n=Gm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function c_(e,t){const n=Gm(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}class l_{constructor(e){this.value=e}static empty(){return new l_({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!n_(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=r_(t)}setAll(e){let t=Hg.emptyPath(),n={},r=[];e.forEach((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=r_(e):r.push(i.lastSegment())});const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());n_(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Hm(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];n_(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){vm(t,(t,n)=>e[t]=n);for(const r of n)delete e[r]}clone(){return new l_(r_(this.value))}}function u_(e){const t=[];return vm(e.fields,(e,n)=>{const r=new Hg([e]);if(n_(n)){const e=u_(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)}),new Im(t)}class h_{constructor(e,t,n,r,i,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.data=i,this.documentState=o}static newInvalidDocument(e){return new h_(e,0,Zg.min(),Zg.min(),l_.empty(),0)}static newFoundDocument(e,t,n){return new h_(e,1,t,Zg.min(),n,0)}static newNoDocument(e,t){return new h_(e,2,t,Zg.min(),l_.empty(),0)}static newUnknownDocument(e,t){return new h_(e,3,t,Zg.min(),l_.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=l_.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=l_.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Zg.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof h_&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new h_(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class d_{constructor(e,t=null,n=[],r=[],i=null,o=null,s=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.ut=null}}function f_(e,t=null,n=[],r=[],i=null,o=null,s=null){return new d_(e,t,n,r,i,o,s)}function p_(e){const t=Og(e);if(null===t.ut){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map(e=>{return(t=e).field.canonicalString()+t.op.toString()+Km(t.value);var t}).join(","),e+="|ob:",e+=t.orderBy.map(e=>function(e){return e.field.canonicalString()+e.dir}(e)).join(","),Um(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map(e=>Km(e)).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map(e=>Km(e)).join(",")),t.ut=e}return t.ut}function g_(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<e.orderBy.length;i++)if(!x_(e.orderBy[i],t.orderBy[i]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let i=0;i<e.filters.length;i++)if((n=e.filters[i]).op!==(r=t.filters[i]).op||!n.field.isEqual(r.field)||!Hm(n.value,r.value))return!1;var n,r;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!D_(e.startAt,t.startAt)&&D_(e.endAt,t.endAt)}function m_(e){return $g.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function __(e,t){return e.filters.filter(e=>e instanceof v_&&e.field.isEqual(t))}function y_(e,t,n){let r=Bm,i=!0;for(const o of __(e,t)){let e=Bm,t=!0;switch(o.op){case"<":case"<=":e=o_(o.value);break;case"==":case"in":case">=":e=o.value;break;case">":e=o.value,t=!1;break;case"!=":case"not-in":e=Bm}a_({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];a_({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function b_(e,t,n){let r=jm,i=!0;for(const o of __(e,t)){let e=jm,t=!0;switch(o.op){case">=":case">":e=s_(o.value),t=!1;break;case"==":case"in":case"<=":e=o.value;break;case"<":e=o.value,t=!1;break;case"!=":case"not-in":e=jm}c_({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let o=0;o<e.orderBy.length;++o)if(e.orderBy[o].field.isEqual(t)){const e=n.position[o];c_({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}class v_ extends class{}{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.ct(e,t,n):new w_(e,t,n):"array-contains"===t?new T_(e,n):"in"===t?new M_(e,n):"not-in"===t?new S_(e,n):"array-contains-any"===t?new I_(e,n):new v_(e,t,n)}static ct(e,t,n){return"in"===t?new C_(e,n):new O_(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.at(Gm(t,this.value)):null!==t&&zm(this.value)===zm(t)&&this.at(Gm(t,this.value))}at(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return wg()}}ht(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class w_ extends v_{constructor(e,t,n){super(e,t,n),this.key=$g.fromName(n.referenceValue)}matches(e){const t=$g.comparator(e.key,this.key);return this.at(t)}}class C_ extends v_{constructor(e,t){super(e,"in",t),this.keys=P_(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class O_ extends v_{constructor(e,t){super(e,"not-in",t),this.keys=P_(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function P_(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map(e=>$g.fromName(e.referenceValue))}class T_ extends v_{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Xm(t)&&$m(t.arrayValue,this.value)}}class M_ extends v_{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&$m(this.value.arrayValue,t)}}class S_ extends v_{constructor(e,t){super(e,"not-in",t)}matches(e){if($m(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!$m(this.value.arrayValue,t)}}class I_ extends v_{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Xm(t)||!t.arrayValue.values)&&t.arrayValue.values.some(e=>$m(this.value.arrayValue,e))}}class k_{constructor(e,t){this.position=e,this.inclusive=t}}class E_{constructor(e,t="asc"){this.field=e,this.dir=t}}function x_(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function A_(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const o=t[i],s=e.position[i];if(r=o.field.isKeyField()?$g.comparator($g.fromName(s.referenceValue),n.key):Gm(s,n.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function D_(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Hm(e.position[n],t.position[n]))return!1;return!0}class N_{constructor(e,t=null,n=[],r=[],i=null,o="F",s=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=s,this.endAt=a,this.lt=null,this.ft=null}}function R_(e,t,n,r,i,o,s,a){return new N_(e,t,n,r,i,o,s,a)}function F_(e){return new N_(e)}function L_(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function q_(e){for(const t of e.filters)if(t.ht())return t.field;return null}function U_(e){return null!==e.collectionGroup}function V_(e){const t=Og(e);if(null===t.lt){t.lt=[];const e=q_(t),n=L_(t);if(null!==e&&null===n)e.isKeyField()||t.lt.push(new E_(e)),t.lt.push(new E_(Hg.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.lt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.lt.push(new E_(Hg.keyField(),e))}}}return t.lt}function Z_(e){const t=Og(e);if(!t.ft)if("F"===t.limitType)t.ft=f_(t.path,t.collectionGroup,V_(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const i of V_(t))e.push(new E_(i.field,"desc"===i.dir?"asc":"desc"));const n=t.endAt?new k_(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new k_(t.startAt.position,t.startAt.inclusive):null;t.ft=f_(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t.ft}function j_(e,t,n){return new N_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function B_(e,t){return g_(Z_(e),Z_(t))&&e.limitType===t.limitType}function z_(e){return`${p_(Z_(e))}|lt:${e.limitType}`}function H_(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(e=>{return`${(t=e).field.canonicalString()} ${t.op} ${Km(t.value)}`;var t}).join(", ")}]`),Um(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(e=>function(e){return`${e.field.canonicalString()} (${e.dir})`}(e)).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(e=>Km(e)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(e=>Km(e)).join(",")),`Target(${t})`}(Z_(e))}; limitType=${e.limitType})`}function $_(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):$g.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of e.explicitOrderBy)if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=A_(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,V_(e),t)||e.endAt&&!function(e,t,n){const r=A_(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,V_(e),t))}(e,t)}function G_(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function W_(e){return(t,n)=>{let r=!1;for(const i of V_(e)){const e=K_(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function K_(e,t,n){const r=e.field.isKeyField()?$g.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Gm(r,i):wg()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return wg()}}function Y_(e,t){if(e.dt){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vm(t)?"-0":t}}function Q_(e){return{integerValue:""+e}}function J_(e,t){return Zm(t)?Q_(t):Y_(e,t)}class X_{constructor(){this._=void 0}}function ey(e,t,n){return e instanceof ry?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof iy?oy(e,t):e instanceof sy?ay(e,t):function(e,t){const n=ny(e,t),r=ly(n)+ly(e._t);return Jm(n)&&Jm(e._t)?Q_(r):Y_(e.wt,r)}(e,t)}function ty(e,t,n){return e instanceof iy?oy(e,t):e instanceof sy?ay(e,t):n}function ny(e,t){return e instanceof cy?Jm(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}class ry extends X_{}class iy extends X_{constructor(e){super(),this.elements=e}}function oy(e,t){const n=uy(t);for(const r of e.elements)n.some(e=>Hm(e,r))||n.push(r);return{arrayValue:{values:n}}}class sy extends X_{constructor(e){super(),this.elements=e}}function ay(e,t){let n=uy(t);for(const r of e.elements)n=n.filter(e=>!Hm(e,r));return{arrayValue:{values:n}}}class cy extends X_{constructor(e,t){super(),this.wt=e,this._t=t}}function ly(e){return Am(e.integerValue||e.doubleValue)}function uy(e){return Xm(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class hy{constructor(e,t){this.field=e,this.transform=t}}class dy{constructor(e,t){this.version=e,this.transformResults=t}}class fy{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new fy}static exists(e){return new fy(void 0,e)}static updateTime(e){return new fy(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function py(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class gy{}function my(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new My(e.key,fy.none()):new wy(e.key,e.data,fy.none());{const n=e.data,r=l_.empty();let i=new Tm(Hg.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Cy(e.key,r,new Im(i.toArray()),fy.none())}}function _y(e,t,n){e instanceof wy?function(e,t,n){const r=e.value.clone(),i=Py(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Cy?function(e,t,n){if(!py(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=Py(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Oy(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function yy(e,t,n,r){return e instanceof wy?function(e,t,n,r){if(!py(e.precondition,t))return n;const i=e.value.clone(),o=Ty(e.fieldTransforms,r,t);return i.setAll(o),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Cy?function(e,t,n,r){if(!py(e.precondition,t))return n;const i=Ty(e.fieldTransforms,r,t),o=t.data;return o.setAll(Oy(e)),o.setAll(i),t.convertToFoundDocument(t.version,o).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map(e=>e.field))}(e,t,n,r):function(e,t,n){return py(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function by(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=ny(r.transform,e||null);null!=i&&(null===n&&(n=l_.empty()),n.set(r.field,i))}return n||null}function vy(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&qg(e,t,(e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof iy&&t instanceof iy||e instanceof sy&&t instanceof sy?qg(e.elements,t.elements,Hm):e instanceof cy&&t instanceof cy?Hm(e._t,t._t):e instanceof ry&&t instanceof ry}(e.transform,t.transform)}(e,t))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class wy extends gy{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Cy extends gy{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Oy(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function Py(e,t,n){const r=new Map;Cg(e.length===n.length);for(let i=0;i<n.length;i++){const o=e[i],s=o.transform,a=t.data.field(o.field);r.set(o.field,ty(s,a,n[i]))}return r}function Ty(e,t,n){const r=new Map;for(const i of e){const e=i.transform,o=n.data.field(i.field);r.set(i.field,ey(e,o,t))}return r}class My extends gy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Sy extends gy{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Iy{constructor(e){this.count=e}}var ky,Ey;function xy(e){switch(e){default:return wg();case Pg.CANCELLED:case Pg.UNKNOWN:case Pg.DEADLINE_EXCEEDED:case Pg.RESOURCE_EXHAUSTED:case Pg.INTERNAL:case Pg.UNAVAILABLE:case Pg.UNAUTHENTICATED:return!1;case Pg.INVALID_ARGUMENT:case Pg.NOT_FOUND:case Pg.ALREADY_EXISTS:case Pg.PERMISSION_DENIED:case Pg.FAILED_PRECONDITION:case Pg.ABORTED:case Pg.OUT_OF_RANGE:case Pg.UNIMPLEMENTED:case Pg.DATA_LOSS:return!0}}function Ay(e){if(void 0===e)return yg("GRPC error has no .code"),Pg.UNKNOWN;switch(e){case ky.OK:return Pg.OK;case ky.CANCELLED:return Pg.CANCELLED;case ky.UNKNOWN:return Pg.UNKNOWN;case ky.DEADLINE_EXCEEDED:return Pg.DEADLINE_EXCEEDED;case ky.RESOURCE_EXHAUSTED:return Pg.RESOURCE_EXHAUSTED;case ky.INTERNAL:return Pg.INTERNAL;case ky.UNAVAILABLE:return Pg.UNAVAILABLE;case ky.UNAUTHENTICATED:return Pg.UNAUTHENTICATED;case ky.INVALID_ARGUMENT:return Pg.INVALID_ARGUMENT;case ky.NOT_FOUND:return Pg.NOT_FOUND;case ky.ALREADY_EXISTS:return Pg.ALREADY_EXISTS;case ky.PERMISSION_DENIED:return Pg.PERMISSION_DENIED;case ky.FAILED_PRECONDITION:return Pg.FAILED_PRECONDITION;case ky.ABORTED:return Pg.ABORTED;case ky.OUT_OF_RANGE:return Pg.OUT_OF_RANGE;case ky.UNIMPLEMENTED:return Pg.UNIMPLEMENTED;case ky.DATA_LOSS:return Pg.DATA_LOSS;default:return wg()}}(Ey=ky||(ky={}))[Ey.OK=0]="OK",Ey[Ey.CANCELLED=1]="CANCELLED",Ey[Ey.UNKNOWN=2]="UNKNOWN",Ey[Ey.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ey[Ey.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ey[Ey.NOT_FOUND=5]="NOT_FOUND",Ey[Ey.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ey[Ey.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ey[Ey.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ey[Ey.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ey[Ey.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ey[Ey.ABORTED=10]="ABORTED",Ey[Ey.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ey[Ey.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ey[Ey.INTERNAL=13]="INTERNAL",Ey[Ey.UNAVAILABLE=14]="UNAVAILABLE",Ey[Ey.DATA_LOSS=15]="DATA_LOSS";class Dy{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){vm(this.inner,(t,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return wm(this.inner)}size(){return this.innerSize}}const Ny=new Cm($g.comparator);function Ry(){return Ny}const Fy=new Cm($g.comparator);function Ly(...e){let t=Fy;for(const n of e)t=t.insert(n.key,n);return t}function qy(e){let t=Fy;return e.forEach((e,n)=>t=t.insert(e,n.overlayedDocument)),t}function Uy(){return Zy()}function Vy(){return Zy()}function Zy(){return new Dy(e=>e.toString(),(e,t)=>e.isEqual(t))}const jy=new Cm($g.comparator),By=new Tm($g.comparator);function zy(...e){let t=By;for(const n of e)t=t.add(n);return t}const Hy=new Tm(Lg);function $y(){return Hy}class Gy{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t){const n=new Map;return n.set(e,Wy.createSynthesizedTargetChangeForCurrentChange(e,t)),new Gy(Zg.min(),n,$y(),Ry(),zy())}}class Wy{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t){return new Wy(km.EMPTY_BYTE_STRING,t,zy(),zy(),zy())}}class Ky{constructor(e,t,n,r){this.gt=e,this.removedTargetIds=t,this.key=n,this.yt=r}}class Yy{constructor(e,t){this.targetId=e,this.It=t}}class Qy{constructor(e,t,n=km.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Jy{constructor(){this.Tt=0,this.Et=tb(),this.At=km.EMPTY_BYTE_STRING,this.Rt=!1,this.bt=!0}get current(){return this.Rt}get resumeToken(){return this.At}get Pt(){return 0!==this.Tt}get vt(){return this.bt}Vt(e){e.approximateByteSize()>0&&(this.bt=!0,this.At=e)}St(){let e=zy(),t=zy(),n=zy();return this.Et.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:wg()}}),new Wy(this.At,this.Rt,e,t,n)}Dt(){this.bt=!1,this.Et=tb()}Ct(e,t){this.bt=!0,this.Et=this.Et.insert(e,t)}xt(e){this.bt=!0,this.Et=this.Et.remove(e)}Nt(){this.Tt+=1}kt(){this.Tt-=1}Ot(){this.bt=!0,this.Rt=!0}}class Xy{constructor(e){this.Mt=e,this.Ft=new Map,this.$t=Ry(),this.Bt=eb(),this.Lt=new Tm(Lg)}Ut(e){for(const t of e.gt)e.yt&&e.yt.isFoundDocument()?this.qt(t,e.yt):this.Kt(t,e.key,e.yt);for(const t of e.removedTargetIds)this.Kt(t,e.key,e.yt)}Gt(e){this.forEachTarget(e,t=>{const n=this.Qt(t);switch(e.state){case 0:this.jt(t)&&n.Vt(e.resumeToken);break;case 1:n.kt(),n.Pt||n.Dt(),n.Vt(e.resumeToken);break;case 2:n.kt(),n.Pt||this.removeTarget(t);break;case 3:this.jt(t)&&(n.Ot(),n.Vt(e.resumeToken));break;case 4:this.jt(t)&&(this.Wt(t),n.Vt(e.resumeToken));break;default:wg()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Ft.forEach((e,n)=>{this.jt(n)&&t(n)})}zt(e){const t=e.targetId,n=e.It.count,r=this.Ht(t);if(r){const e=r.target;if(m_(e))if(0===n){const n=new $g(e.path);this.Kt(t,n,h_.newNoDocument(n,Zg.min()))}else Cg(1===n);else this.Jt(t)!==n&&(this.Wt(t),this.Lt=this.Lt.add(t))}}Yt(e){const t=new Map;this.Ft.forEach((n,r)=>{const i=this.Ht(r);if(i){if(n.current&&m_(i.target)){const t=new $g(i.target.path);null!==this.$t.get(t)||this.Xt(r,t)||this.Kt(r,t,h_.newNoDocument(t,e))}n.vt&&(t.set(r,n.St()),n.Dt())}});let n=zy();this.Bt.forEach((e,t)=>{let r=!0;t.forEachWhile(e=>{const t=this.Ht(e);return!t||2===t.purpose||(r=!1,!1)}),r&&(n=n.add(e))}),this.$t.forEach((t,n)=>n.setReadTime(e));const r=new Gy(e,t,this.Lt,this.$t,n);return this.$t=Ry(),this.Bt=eb(),this.Lt=new Tm(Lg),r}qt(e,t){if(!this.jt(e))return;const n=this.Xt(e,t.key)?2:0;this.Qt(e).Ct(t.key,n),this.$t=this.$t.insert(t.key,t),this.Bt=this.Bt.insert(t.key,this.Zt(t.key).add(e))}Kt(e,t,n){if(!this.jt(e))return;const r=this.Qt(e);this.Xt(e,t)?r.Ct(t,1):r.xt(t),this.Bt=this.Bt.insert(t,this.Zt(t).delete(e)),n&&(this.$t=this.$t.insert(t,n))}removeTarget(e){this.Ft.delete(e)}Jt(e){const t=this.Qt(e).St();return this.Mt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Nt(e){this.Qt(e).Nt()}Qt(e){let t=this.Ft.get(e);return t||(t=new Jy,this.Ft.set(e,t)),t}Zt(e){let t=this.Bt.get(e);return t||(t=new Tm(Lg),this.Bt=this.Bt.insert(e,t)),t}jt(e){const t=null!==this.Ht(e);return t||_g("WatchChangeAggregator","Detected inactive target",e),t}Ht(e){const t=this.Ft.get(e);return t&&t.Pt?null:this.Mt.te(e)}Wt(e){this.Ft.set(e,new Jy),this.Mt.getRemoteKeysForTarget(e).forEach(t=>{this.Kt(e,t,null)})}Xt(e,t){return this.Mt.getRemoteKeysForTarget(e).has(t)}}function eb(){return new Cm($g.comparator)}function tb(){return new Cm($g.comparator)}const nb={asc:"ASCENDING",desc:"DESCENDING"},rb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class ib{constructor(e,t){this.databaseId=e,this.dt=t}}function ob(e,t){return e.dt?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function sb(e,t){return e.dt?t.toBase64():t.toUint8Array()}function ab(e,t){return ob(e,t.toTimestamp())}function cb(e){return Cg(!!e),Zg.fromTimestamp(function(e){const t=xm(e);return new Vg(t.seconds,t.nanos)}(e))}function lb(e,t){return function(e){return new Bg(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function ub(e){const t=Bg.fromString(e);return Cg(Ab(t)),t}function hb(e,t){return lb(e.databaseId,t.path)}function db(e,t){const n=ub(t);if(n.get(1)!==e.databaseId.projectId)throw new Tg(Pg.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Tg(Pg.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new $g(mb(n))}function fb(e,t){return lb(e.databaseId,t)}function pb(e){const t=ub(e);return 4===t.length?Bg.emptyPath():mb(t)}function gb(e){return new Bg(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function mb(e){return Cg(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function _b(e,t,n){return{name:hb(e,t),fields:n.value.mapValue.fields}}function yb(e,t,n){const r=db(e,t.name),i=cb(t.updateTime),o=new l_({mapValue:{fields:t.fields}}),s=h_.newFoundDocument(r,i,o);return n&&s.setHasCommittedMutations(),n?s.setHasCommittedMutations():s}function bb(e,t){let n;if(t instanceof wy)n={update:_b(e,t.key,t.value)};else if(t instanceof My)n={delete:hb(e,t.key)};else if(t instanceof Cy)n={update:_b(e,t.key,t.data),updateMask:xb(t.fieldMask)};else{if(!(t instanceof Sy))return wg();n={verify:hb(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(e=>function(e,t){const n=t.transform;if(n instanceof ry)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof iy)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof sy)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof cy)return{fieldPath:t.field.canonicalString(),increment:n._t};throw wg()}(0,e))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:ab(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:wg()}(e,t.precondition)),n}function vb(e,t){const n=t.currentDocument?function(e){return void 0!==e.updateTime?fy.updateTime(cb(e.updateTime)):void 0!==e.exists?fy.exists(e.exists):fy.none()}(t.currentDocument):fy.none(),r=t.updateTransforms?t.updateTransforms.map(t=>function(e,t){let n=null;"setToServerValue"in t?(Cg("REQUEST_TIME"===t.setToServerValue),n=new ry):"appendMissingElements"in t?n=new iy(t.appendMissingElements.values||[]):"removeAllFromArray"in t?n=new sy(t.removeAllFromArray.values||[]):"increment"in t?n=new cy(e,t.increment):wg();const r=Hg.fromServerFormat(t.fieldPath);return new hy(r,n)}(e,t)):[];if(t.update){const i=db(e,t.update.name),o=new l_({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){return new Im((e.fieldPaths||[]).map(e=>Hg.fromServerFormat(e)))}(t.updateMask);return new Cy(i,o,e,n,r)}return new wy(i,o,n,r)}if(t.delete){const r=db(e,t.delete);return new My(r,n)}if(t.verify){const r=db(e,t.verify);return new Sy(r,n)}return wg()}function wb(e,t){return{documents:[fb(e,t.path)]}}function Cb(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=fb(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=fb(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0===e.length)return;const t=e.map(e=>function(e){if("=="===e.op){if(t_(e.value))return{unaryFilter:{field:Sb(e.field),op:"IS_NAN"}};if(e_(e.value))return{unaryFilter:{field:Sb(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(t_(e.value))return{unaryFilter:{field:Sb(e.field),op:"IS_NOT_NAN"}};if(e_(e.value))return{unaryFilter:{field:Sb(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Sb(e.field),op:Mb(e.op),value:e.value}}}(e));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}(t.filters);i&&(n.structuredQuery.where=i);const o=function(e){if(0!==e.length)return e.map(e=>function(e){return{field:Sb(e.field),direction:Tb(e.dir)}}(e))}(t.orderBy);o&&(n.structuredQuery.orderBy=o);const s=function(e,t){return e.dt||Um(t)?t:{value:t}}(e,t.limit);var a;return null!==s&&(n.structuredQuery.limit=s),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function Ob(e){let t=pb(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Cg(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let o=[];n.where&&(o=Pb(n.where));let s=[];n.orderBy&&(s=n.orderBy.map(e=>function(e){return new E_(Ib(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Um(t)?null:t}(n.limit));let c=null;n.startAt&&(c=function(e){return new k_(e.values||[],!!e.before)}(n.startAt));let l=null;return n.endAt&&(l=function(e){return new k_(e.values||[],!e.before)}(n.endAt)),R_(t,i,s,o,a,"F",c,l)}function Pb(e){return e?void 0!==e.unaryFilter?[Eb(e)]:void 0!==e.fieldFilter?[kb(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map(e=>Pb(e)).reduce((e,t)=>e.concat(t)):wg():[]}function Tb(e){return nb[e]}function Mb(e){return rb[e]}function Sb(e){return{fieldPath:e.canonicalString()}}function Ib(e){return Hg.fromServerFormat(e.fieldPath)}function kb(e){return v_.create(Ib(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return wg()}}(e.fieldFilter.op),e.fieldFilter.value)}function Eb(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Ib(e.unaryFilter.field);return v_.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=Ib(e.unaryFilter.field);return v_.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=Ib(e.unaryFilter.field);return v_.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=Ib(e.unaryFilter.field);return v_.create(i,"!=",{nullValue:"NULL_VALUE"});default:return wg()}}function xb(e){const t=[];return e.fields.forEach(e=>t.push(e.canonicalString())),{fieldPaths:t}}function Ab(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function Db(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Rb(t)),t=Nb(e.get(n),t);return Rb(t)}function Nb(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Rb(e){return e+"\x01\x01"}function Fb(e){const t=e.length;if(Cg(t>=2),2===t)return Cg("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Bg.emptyPath();const n=t-2,r=[];let i="";for(let o=0;o<t;){const t=e.indexOf("\x01",o);switch((t<0||t>n)&&wg(),e.charAt(t+1)){case"\x01":const n=e.substring(o,t);let s;0===i.length?s=n:(i+=n,s=i,i=""),r.push(s);break;case"\x10":i+=e.substring(o,t),i+="\0";break;case"\x11":i+=e.substring(o,t+1);break;default:wg()}o=t+2}return new Bg(r)}const Lb=["userId","batchId"];function qb(e,t){return[e,Db(t)]}function Ub(e,t,n){return[e,Db(t),n]}const Vb={},Zb=["prefixPath","collectionGroup","readTime","documentId"],jb=["prefixPath","collectionGroup","documentId"],Bb=["collectionGroup","readTime","prefixPath","documentId"],zb=["canonicalId","targetId"],Hb=["targetId","path"],$b=["path","targetId"],Gb=["collectionId","parent"],Wb=["indexId","uid"],Kb=["uid","sequenceNumber"],Yb=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],Qb=["indexId","uid","orderedDocumentKey"],Jb=["userId","collectionPath","documentId"],Xb=["userId","collectionPath","largestBatchId"],ev=["userId","collectionGroup","largestBatchId"],tv=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],nv=[...tv,"documentOverlays"],rv=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],iv=rv,ov=[...iv,"indexConfiguration","indexState","indexEntries"];class sv extends rm{constructor(e,t){super(),this.ee=e,this.currentSequenceNumber=t}}function av(e,t){const n=Og(e);return cm.N(n.ee,t)}class cv{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&_y(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=yy(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=yy(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=Vy();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let s=this.applyToLocalView(o,i.mutatedFields);s=t.has(r.key)?null:s;const a=my(o,s);null!==a&&n.set(r.key,a),o.isValidDocument()||o.convertToNoDocument(Zg.min())}),n}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),zy())}isEqual(e){return this.batchId===e.batchId&&qg(this.mutations,e.mutations,(e,t)=>vy(e,t))&&qg(this.baseMutations,e.baseMutations,(e,t)=>vy(e,t))}}class lv{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){Cg(e.mutations.length===n.length);let r=jy;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new lv(e,t,n,r)}}class uv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hv{constructor(e,t,n,r,i=Zg.min(),o=Zg.min(),s=km.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}withSequenceNumber(e){return new hv(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new hv(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new hv(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class dv{constructor(e){this.ne=e}}function fv(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:pv(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:hb(e,t.key),fields:t.data.value.mapValue.fields,updateTime:ob(e,t.version.toTimestamp())}}(e.ne,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:gv(t.version)};else{if(!t.isUnknownDocument())return wg();r.unknownDocument={path:n.path.toArray(),version:gv(t.version)}}return r}function pv(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function gv(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function mv(e){const t=new Vg(e.seconds,e.nanoseconds);return Zg.fromTimestamp(t)}function _v(e,t){const n=(t.baseMutations||[]).map(t=>vb(e.ne,t));for(let o=0;o<t.mutations.length-1;++o){const e=t.mutations[o];o+1<t.mutations.length&&void 0!==t.mutations[o+1].transform&&(e.updateTransforms=t.mutations[o+1].transform.fieldTransforms,t.mutations.splice(o+1,1),++o)}const r=t.mutations.map(t=>vb(e.ne,t)),i=Vg.fromMillis(t.localWriteTimeMs);return new cv(t.batchId,i,n,r)}function yv(e){const t=mv(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?mv(e.lastLimboFreeSnapshotVersion):Zg.min();let r;var i;return void 0!==e.query.documents?(Cg(1===(i=e.query).documents.length),r=Z_(F_(pb(i.documents[0])))):r=function(e){return Z_(Ob(e))}(e.query),new hv(r,e.targetId,0,e.lastListenSequenceNumber,t,n,km.fromBase64String(e.resumeToken))}function bv(e,t){const n=gv(t.snapshotVersion),r=gv(t.lastLimboFreeSnapshotVersion);let i;i=m_(t.target)?wb(e.ne,t.target):Cb(e.ne,t.target);const o=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:p_(t.target),readTime:n,resumeToken:o,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function vv(e){const t=Ob({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?j_(t,t.limit,"L"):t}function wv(e,t){return new uv(t.largestBatchId,vb(e.ne,t.overlayMutation))}function Cv(e,t){const n=t.path.lastSegment();return[e,Db(t.path.popLast()),n]}function Ov(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:gv(r.readTime),documentKey:Db(r.documentKey.path),largestBatchId:r.largestBatchId}}class Pv{getBundleMetadata(e,t){return Tv(e).get(t).next(e=>{if(e)return{id:(t=e).bundleId,createTime:mv(t.createTime),version:t.version};var t})}saveBundleMetadata(e,t){return Tv(e).put({bundleId:(n=t).id,createTime:gv(cb(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return Mv(e).get(t).next(e=>{if(e)return{name:(t=e).name,query:vv(t.bundledQuery),readTime:mv(t.readTime)};var t})}saveNamedQuery(e,t){return Mv(e).put(function(e){return{name:e.name,readTime:gv(cb(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}function Tv(e){return av(e,"bundles")}function Mv(e){return av(e,"namedQueries")}class Sv{constructor(e,t){this.wt=e,this.userId=t}static se(e,t){return new Sv(e,t.uid||"")}getOverlay(e,t){return Iv(e).get(Cv(this.userId,t)).next(e=>e?wv(this.wt,e):null)}getOverlays(e,t){const n=Uy();return sm.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){const r=[];return n.forEach((n,i)=>{const o=new uv(t,i);r.push(this.ie(e,o))}),sm.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach(e=>r.add(Db(e.getCollectionPath())));const i=[];return r.forEach(t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Iv(e).W("collectionPathOverlayIndex",r))}),sm.waitFor(i)}getOverlaysForCollection(e,t,n){const r=Uy(),i=Db(t),o=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Iv(e).K("collectionPathOverlayIndex",o).next(e=>{for(const t of e){const e=wv(this.wt,t);r.set(e.getKey(),e)}return r})}getOverlaysForCollectionGroup(e,t,n,r){const i=Uy();let o;const s=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Iv(e).J({index:"collectionGroupOverlayIndex",range:s},(e,t,n)=>{const s=wv(this.wt,t);i.size()<r||s.largestBatchId===o?(i.set(s.getKey(),s),o=s.largestBatchId):n.done()}).next(()=>i)}ie(e,t){return Iv(e).put(function(e,t,n){const[r,i,o]=Cv(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:o,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:bb(e.ne,n.mutation)}}(this.wt,this.userId,t))}}function Iv(e){return av(e,"documentOverlays")}class kv{constructor(){}re(e,t){this.oe(e,t),t.ue()}oe(e,t){if("nullValue"in e)this.ce(t,5);else if("booleanValue"in e)this.ce(t,10),t.ae(e.booleanValue?1:0);else if("integerValue"in e)this.ce(t,15),t.ae(Am(e.integerValue));else if("doubleValue"in e){const n=Am(e.doubleValue);isNaN(n)?this.ce(t,13):(this.ce(t,15),Vm(n)?t.ae(0):t.ae(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ce(t,20),"string"==typeof n?t.he(n):(t.he(`${n.seconds||""}`),t.ae(n.nanos||0))}else if("stringValue"in e)this.le(e.stringValue,t),this.fe(t);else if("bytesValue"in e)this.ce(t,30),t.de(Dm(e.bytesValue)),this.fe(t);else if("referenceValue"in e)this._e(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ce(t,45),t.ae(n.latitude||0),t.ae(n.longitude||0)}else"mapValue"in e?i_(e)?this.ce(t,Number.MAX_SAFE_INTEGER):(this.we(e.mapValue,t),this.fe(t)):"arrayValue"in e?(this.me(e.arrayValue,t),this.fe(t)):wg()}le(e,t){this.ce(t,25),this.ge(e,t)}ge(e,t){t.he(e)}we(e,t){const n=e.fields||{};this.ce(t,55);for(const r of Object.keys(n))this.le(r,t),this.oe(n[r],t)}me(e,t){const n=e.values||[];this.ce(t,50);for(const r of n)this.oe(r,t)}_e(e,t){this.ce(t,37),$g.fromName(e).path.forEach(e=>{this.ce(t,60),this.ge(e,t)})}ce(e,t){e.ae(t)}fe(e){e.ae(2)}}function Ev(e){if(0===e)return 8;let t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function xv(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=Ev(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}kv.ye=new kv;class Av{constructor(){this.buffer=new Uint8Array(1024),this.position=0}pe(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ie(n.value),n=t.next();this.Te()}Ee(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Ae(n.value),n=t.next();this.Re()}be(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ie(e);else if(e<2048)this.Ie(960|e>>>6),this.Ie(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ie(480|e>>>12),this.Ie(128|63&e>>>6),this.Ie(128|63&e);else{const e=t.codePointAt(0);this.Ie(240|e>>>18),this.Ie(128|63&e>>>12),this.Ie(128|63&e>>>6),this.Ie(128|63&e)}}this.Te()}Pe(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Ae(e);else if(e<2048)this.Ae(960|e>>>6),this.Ae(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Ae(480|e>>>12),this.Ae(128|63&e>>>6),this.Ae(128|63&e);else{const e=t.codePointAt(0);this.Ae(240|e>>>18),this.Ae(128|63&e>>>12),this.Ae(128|63&e>>>6),this.Ae(128|63&e)}}this.Re()}ve(e){const t=this.Ve(e),n=xv(t);this.Se(1+n),this.buffer[this.position++]=255&n;for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}De(e){const t=this.Ve(e),n=xv(t);this.Se(1+n),this.buffer[this.position++]=~(255&n);for(let r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}Ce(){this.xe(255),this.xe(255)}Ne(){this.ke(255),this.ke(255)}reset(){this.position=0}seed(e){this.Se(e.length),this.buffer.set(e,this.position),this.position+=e.length}Oe(){return this.buffer.slice(0,this.position)}Ve(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let r=1;r<t.length;++r)t[r]^=n?255:0;return t}Ie(e){const t=255&e;0===t?(this.xe(0),this.xe(255)):255===t?(this.xe(255),this.xe(0)):this.xe(t)}Ae(e){const t=255&e;0===t?(this.ke(0),this.ke(255)):255===t?(this.ke(255),this.ke(0)):this.ke(e)}Te(){this.xe(0),this.xe(1)}Re(){this.ke(0),this.ke(1)}xe(e){this.Se(1),this.buffer[this.position++]=e}ke(e){this.Se(1),this.buffer[this.position++]=~e}Se(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class Dv{constructor(e){this.Me=e}de(e){this.Me.pe(e)}he(e){this.Me.be(e)}ae(e){this.Me.ve(e)}ue(){this.Me.Ce()}}class Nv{constructor(e){this.Me=e}de(e){this.Me.Ee(e)}he(e){this.Me.Pe(e)}ae(e){this.Me.De(e)}ue(){this.Me.Ne()}}class Rv{constructor(){this.Me=new Av,this.Fe=new Dv(this.Me),this.$e=new Nv(this.Me)}seed(e){this.Me.seed(e)}Be(e){return 0===e?this.Fe:this.$e}Oe(){return this.Me.Oe()}reset(){this.Me.reset()}}class Fv{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}Le(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new Fv(this.indexId,this.documentKey,this.arrayValue,n)}}function Lv(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=qv(e.arrayValue,t.arrayValue),0!==n?n:(n=qv(e.directionalValue,t.directionalValue),0!==n?n:$g.comparator(e.documentKey,t.documentKey)))}function qv(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}class Uv{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Ue=e.orderBy,this.qe=[];for(const t of e.filters){const e=t;e.ht()?this.Ke=e:this.qe.push(e)}}Ge(e){const t=Wg(e);if(void 0!==t&&!this.Qe(t))return!1;const n=Kg(e);let r=0,i=0;for(;r<n.length&&this.Qe(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Ke){const e=n[r];if(!this.je(this.Ke,e)||!this.We(this.Ue[i++],e))return!1;++r}for(;r<n.length;++r){const e=n[r];if(i>=this.Ue.length||!this.We(this.Ue[i++],e))return!1}return!0}Qe(e){for(const t of this.qe)if(this.je(t,e))return!0;return!1}je(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}We(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Vv{constructor(){this.ze=new Zv}addToCollectionParentIndex(e,t){return this.ze.add(t),sm.resolve()}getCollectionParents(e,t){return sm.resolve(this.ze.getEntries(t))}addFieldIndex(e,t){return sm.resolve()}deleteFieldIndex(e,t){return sm.resolve()}getDocumentsMatchingTarget(e,t){return sm.resolve(null)}getIndexType(e,t){return sm.resolve(0)}getFieldIndexes(e,t){return sm.resolve([])}getNextCollectionGroupToUpdate(e){return sm.resolve(null)}getMinOffset(e,t){return sm.resolve(em.min())}getMinOffsetFromCollectionGroup(e,t){return sm.resolve(em.min())}updateCollectionGroup(e,t,n){return sm.resolve()}updateIndexEntries(e,t){return sm.resolve()}}class Zv{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Tm(Bg.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new Tm(Bg.comparator)).toArray()}}const jv=new Uint8Array(0);class Bv{constructor(e,t){this.user=e,this.databaseId=t,this.He=new Zv,this.Je=new Dy(e=>p_(e),(e,t)=>g_(e,t)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.He.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener(()=>{this.He.add(t)});const i={collectionId:n,parent:Db(r)};return zv(e).put(i)}return sm.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[Ug(t),""],!1,!0);return zv(e).K(r).next(e=>{for(const r of e){if(r.collectionId!==t)break;n.push(Fb(r.parent))}return n})}addFieldIndex(e,t){const n=$v(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map(e=>[e.fieldPath.canonicalString(),e.kind])}}(t);delete r.indexId;const i=n.add(r);if(t.indexState){const n=Gv(e);return i.next(e=>{n.put(Ov(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return i.next()}deleteFieldIndex(e,t){const n=$v(e),r=Gv(e),i=Hv(e);return n.delete(t.indexId).next(()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const n=Hv(e);let r=!0;const i=new Map;return sm.forEach(this.Ye(t),t=>this.Xe(e,t).next(e=>{r&&(r=!!e),i.set(t,e)})).next(()=>{if(r){let e=zy();const r=[];return sm.forEach(i,(i,o)=>{var s;_g("IndexedDbIndexManager",`Using index ${s=i,`id=${s.indexId}|cg=${s.collectionGroup}|f=${s.fields.map(e=>`${e.fieldPath}:${e.kind}`).join(",")}`} to execute ${p_(t)}`);const a=function(e,t){const n=Wg(t);if(void 0===n)return null;for(const r of __(e,n.fieldPath))switch(r.op){case"array-contains-any":return r.value.arrayValue.values||[];case"array-contains":return[r.value]}return null}(o,i),c=function(e,t){const n=new Map;for(const r of Kg(t))for(const t of __(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(o,i),l=function(e,t){const n=[];let r=!0;for(const i of Kg(t)){const t=0===i.kind?y_(e,i.fieldPath,e.startAt):b_(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new k_(n,r)}(o,i),u=function(e,t){const n=[];let r=!0;for(const i of Kg(t)){const t=0===i.kind?b_(e,i.fieldPath,e.endAt):y_(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new k_(n,r)}(o,i),h=this.Ze(i,o,l),d=this.Ze(i,o,u),f=this.tn(i,o,c),p=this.en(i.indexId,a,h,l.inclusive,d,u.inclusive,f);return sm.forEach(p,i=>n.j(i,t.limit).next(t=>{t.forEach(t=>{const n=$g.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))})}))}).next(()=>r)}return sm.resolve(null)})}Ye(e){let t=this.Je.get(e);return t||(t=[e],this.Je.set(e,t),t)}en(e,t,n,r,i,o,s){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),c=a/(null!=t?t.length:1),l=[];for(let u=0;u<a;++u){const a=t?this.nn(t[u/c]):jv,h=this.sn(e,a,n[u%c],r),d=this.rn(e,a,i[u%c],o),f=s.map(t=>this.sn(e,a,t,!0));l.push(...this.createRange(h,d,f))}return l}sn(e,t,n,r){const i=new Fv(e,$g.empty(),t,n);return r?i:i.Le()}rn(e,t,n,r){const i=new Fv(e,$g.empty(),t,n);return r?i.Le():i}Xe(e,t){const n=new Uv(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next(e=>{let t=null;for(const r of e)n.Ge(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t})}getIndexType(e,t){let n=2;return sm.forEach(this.Ye(t),t=>this.Xe(e,t).next(e=>{e?0!==n&&e.fields.length<function(e){let t=new Tm(Hg.comparator),n=!1;for(const r of e.filters){const e=r;e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field))}for(const r of e.orderBy)r.field.isKeyField()||(t=t.add(r.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})).next(()=>n)}on(e,t){const n=new Rv;for(const r of Kg(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.Be(r.kind);kv.ye.re(e,i)}return n.Oe()}nn(e){const t=new Rv;return kv.ye.re(e,t.Be(0)),t.Oe()}un(e,t){const n=new Rv;return kv.ye.re(Qm(this.databaseId,t),n.Be(function(e){const t=Kg(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Oe()}tn(e,t,n){if(null===n)return[];let r=[];r.push(new Rv);let i=0;for(const o of Kg(e)){const e=n[i++];for(const n of r)if(this.cn(t,o.fieldPath)&&Xm(e))r=this.an(r,o,e);else{const t=n.Be(o.kind);kv.ye.re(e,t)}}return this.hn(r)}Ze(e,t,n){return this.tn(e,t,n.position)}hn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Oe();return t}an(e,t,n){const r=[...e],i=[];for(const o of n.arrayValue.values||[])for(const e of r){const n=new Rv;n.seed(e.Oe()),kv.ye.re(o,n.Be(t.kind)),i.push(n)}return i}cn(e,t){return!!e.filters.find(e=>e instanceof v_&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op))}getFieldIndexes(e,t){const n=$v(e),r=Gv(e);return(t?n.K("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.K()).next(e=>{const t=[];return sm.forEach(e,e=>r.get([e.indexId,this.uid]).next(n=>{t.push(function(e,t){const n=t?new Qg(t.sequenceNumber,new em(mv(t.readTime),new $g(Fb(t.documentKey)),t.largestBatchId)):Qg.empty(),r=e.fields.map(([e,t])=>new Yg(Hg.fromServerFormat(e),t));return new Gg(e.indexId,e.collectionGroup,r,n)}(e,n))})).next(()=>t)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(e=>0===e.length?null:(e.sort((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:Lg(e.collectionGroup,t.collectionGroup)}),e[0].collectionGroup))}updateCollectionGroup(e,t,n){const r=$v(e),i=Gv(e);return this.ln(e).next(e=>r.K("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(t=>sm.forEach(t,t=>i.put(Ov(t.indexId,this.user,e,n)))))}updateIndexEntries(e,t){const n=new Map;return sm.forEach(t,(t,r)=>{const i=n.get(t.collectionGroup);return(i?sm.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next(i=>(n.set(t.collectionGroup,i),sm.forEach(i,n=>this.fn(e,t,n).next(t=>{const i=this.dn(r,n);return t.isEqual(i)?sm.resolve():this._n(e,r,n,t,i)}))))})}wn(e,t,n,r){return Hv(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.un(n,t.key),documentKey:t.key.path.toArray()})}mn(e,t,n,r){return Hv(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.un(n,t.key),t.key.path.toArray()])}fn(e,t,n){const r=Hv(e);let i=new Tm(Lv);return r.J({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.un(n,t)])},(e,r)=>{i=i.add(new Fv(n.indexId,t,r.arrayValue,r.directionalValue))}).next(()=>i)}dn(e,t){let n=new Tm(Lv);const r=this.on(t,e);if(null==r)return n;const i=Wg(t);if(null!=i){const o=e.data.field(i.fieldPath);if(Xm(o))for(const i of o.arrayValue.values||[])n=n.add(new Fv(t.indexId,e.key,this.nn(i),r))}else n=n.add(new Fv(t.indexId,e.key,jv,r));return n}_n(e,t,n,r,i){_g("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const o=[];return function(e,t,n,r,i){const o=e.getIterator(),s=t.getIterator();let a=Sm(o),c=Sm(s);for(;a||c;){let e=!1,t=!1;if(a&&c){const r=n(a,c);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(c),c=Sm(s)):t?(i(a),a=Sm(o)):(a=Sm(o),c=Sm(s))}}(r,i,Lv,r=>{o.push(this.wn(e,t,n,r))},r=>{o.push(this.mn(e,t,n,r))}),sm.waitFor(o)}ln(e){let t=1;return Gv(e).J({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(e,n,r)=>{r.done(),t=n.sequenceNumber+1}).next(()=>t)}createRange(e,t,n){n=n.sort((e,t)=>Lv(e,t)).filter((e,t,n)=>!t||0!==Lv(e,n[t-1]));const r=[];r.push(e);for(const o of n){const n=Lv(o,e),i=Lv(o,t);if(0===n)r[0]=e.Le();else if(n>0&&i<0)r.push(o),r.push(o.Le());else if(i>0)break}r.push(t);const i=[];for(let o=0;o<r.length;o+=2)i.push(IDBKeyRange.bound([r[o].indexId,this.uid,r[o].arrayValue,r[o].directionalValue,jv,[]],[r[o+1].indexId,this.uid,r[o+1].arrayValue,r[o+1].directionalValue,jv,[]]));return i}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Wv)}getMinOffset(e,t){return sm.mapArray(this.Ye(t),t=>this.Xe(e,t).next(e=>e||wg())).next(Wv)}}function zv(e){return av(e,"collectionParents")}function Hv(e){return av(e,"indexEntries")}function $v(e){return av(e,"indexConfiguration")}function Gv(e){return av(e,"indexState")}function Wv(e){Cg(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;tm(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new em(t.readTime,t.documentKey,n)}const Kv={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Yv{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new Yv(e,Yv.DEFAULT_COLLECTION_PERCENTILE,Yv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Qv(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),o=[],s=IDBKeyRange.only(n.batchId);let a=0;const c=r.J({range:s},(e,t,n)=>(a++,n.delete()));o.push(c.next(()=>{Cg(1===a)}));const l=[];for(const u of n.mutations){const e=Ub(t,u.key.path,n.batchId);o.push(i.delete(e)),l.push(u.key)}return sm.waitFor(o).next(()=>l)}function Jv(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw wg();t=e.noDocument}return JSON.stringify(t).length}Yv.DEFAULT_COLLECTION_PERCENTILE=10,Yv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yv.DEFAULT=new Yv(41943040,Yv.DEFAULT_COLLECTION_PERCENTILE,Yv.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yv.DISABLED=new Yv(-1,0,0);class Xv{constructor(e,t,n,r){this.userId=e,this.wt=t,this.indexManager=n,this.referenceDelegate=r,this.gn={}}static se(e,t,n,r){Cg(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Xv(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return tw(e).J({index:"userMutationsIndex",range:n},(e,n,r)=>{t=!1,r.done()}).next(()=>t)}addMutationBatch(e,t,n,r){const i=nw(e),o=tw(e);return o.add({}).next(s=>{Cg("number"==typeof s);const a=new cv(s,t,n,r),c=function(e,t,n){const r=n.baseMutations.map(t=>bb(e.ne,t)),i=n.mutations.map(t=>bb(e.ne,t));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.wt,this.userId,a),l=[];let u=new Tm((e,t)=>Lg(e.canonicalString(),t.canonicalString()));for(const e of r){const t=Ub(this.userId,e.key.path,s);u=u.add(e.key.path.popLast()),l.push(o.put(c)),l.push(i.put(t,Vb))}return u.forEach(t=>{l.push(this.indexManager.addToCollectionParentIndex(e,t))}),e.addOnCommittedListener(()=>{this.gn[s]=a.keys()}),sm.waitFor(l).next(()=>a)})}lookupMutationBatch(e,t){return tw(e).get(t).next(e=>e?(Cg(e.userId===this.userId),_v(this.wt,e)):null)}yn(e,t){return this.gn[t]?sm.resolve(this.gn[t]):this.lookupMutationBatch(e,t).next(e=>{if(e){const n=e.keys();return this.gn[t]=n,n}return null})}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return tw(e).J({index:"userMutationsIndex",range:r},(e,t,r)=>{t.userId===this.userId&&(Cg(t.batchId>=n),i=_v(this.wt,t)),r.done()}).next(()=>i)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return tw(e).J({index:"userMutationsIndex",range:t,reverse:!0},(e,t,r)=>{n=t.batchId,r.done()}).next(()=>n)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return tw(e).K("userMutationsIndex",t).next(e=>e.map(e=>_v(this.wt,e)))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=qb(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return nw(e).J({range:r},(n,r,o)=>{const[s,a,c]=n,l=Fb(a);if(s===this.userId&&t.path.isEqual(l))return tw(e).get(c).next(e=>{if(!e)throw wg();Cg(e.userId===this.userId),i.push(_v(this.wt,e))});o.done()}).next(()=>i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Tm(Lg);const r=[];return t.forEach(t=>{const i=qb(this.userId,t.path),o=IDBKeyRange.lowerBound(i),s=nw(e).J({range:o},(e,r,i)=>{const[o,s,a]=e,c=Fb(s);o===this.userId&&t.path.isEqual(c)?n=n.add(a):i.done()});r.push(s)}),sm.waitFor(r).next(()=>this.pn(e,n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=qb(this.userId,n),o=IDBKeyRange.lowerBound(i);let s=new Tm(Lg);return nw(e).J({range:o},(e,t,i)=>{const[o,a,c]=e,l=Fb(a);o===this.userId&&n.isPrefixOf(l)?l.length===r&&(s=s.add(c)):i.done()}).next(()=>this.pn(e,s))}pn(e,t){const n=[],r=[];return t.forEach(t=>{r.push(tw(e).get(t).next(e=>{if(null===e)throw wg();Cg(e.userId===this.userId),n.push(_v(this.wt,e))}))}),sm.waitFor(r).next(()=>n)}removeMutationBatch(e,t){return Qv(e.ee,this.userId,t).next(n=>(e.addOnCommittedListener(()=>{this.In(t.batchId)}),sm.forEach(n,t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))}In(e){delete this.gn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return sm.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return nw(e).J({range:n},(e,t,n)=>{if(e[0]===this.userId){const t=Fb(e[1]);r.push(t)}else n.done()}).next(()=>{Cg(0===r.length)})})}containsKey(e,t){return ew(e,this.userId,t)}Tn(e){return rw(e).get(this.userId).next(e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function ew(e,t,n){const r=qb(t,n.path),i=r[1],o=IDBKeyRange.lowerBound(r);let s=!1;return nw(e).J({range:o,H:!0},(e,n,r)=>{const[o,a,c]=e;o===t&&a===i&&(s=!0),r.done()}).next(()=>s)}function tw(e){return av(e,"mutations")}function nw(e){return av(e,"documentMutations")}function rw(e){return av(e,"mutationQueues")}class iw{constructor(e){this.En=e}next(){return this.En+=2,this.En}static An(){return new iw(0)}static Rn(){return new iw(-1)}}class ow{constructor(e,t){this.referenceDelegate=e,this.wt=t}allocateTargetId(e){return this.bn(e).next(t=>{const n=new iw(t.highestTargetId);return t.highestTargetId=n.next(),this.Pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.bn(e).next(e=>Zg.fromTimestamp(new Vg(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.bn(e).next(e=>e.highestListenSequenceNumber)}setTargetsMetadata(e,t,n){return this.bn(e).next(r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.Pn(e,r)))}addTargetData(e,t){return this.vn(e,t).next(()=>this.bn(e).next(n=>(n.targetCount+=1,this.Vn(t,n),this.Pn(e,n))))}updateTargetData(e,t){return this.vn(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>sw(e).delete(t.targetId)).next(()=>this.bn(e)).next(t=>(Cg(t.targetCount>0),t.targetCount-=1,this.Pn(e,t)))}removeTargets(e,t,n){let r=0;const i=[];return sw(e).J((o,s)=>{const a=yv(s);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))}).next(()=>sm.waitFor(i)).next(()=>r)}forEachTarget(e,t){return sw(e).J((e,n)=>{const r=yv(n);t(r)})}bn(e){return aw(e).get("targetGlobalKey").next(e=>(Cg(null!==e),e))}Pn(e,t){return aw(e).put("targetGlobalKey",t)}vn(e,t){return sw(e).put(bv(this.wt,t))}Vn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.bn(e).next(e=>e.targetCount)}getTargetData(e,t){const n=p_(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return sw(e).J({range:r,index:"queryTargetsIndex"},(e,n,r)=>{const o=yv(n);g_(t,o.target)&&(i=o,r.done())}).next(()=>i)}addMatchingKeys(e,t,n){const r=[],i=cw(e);return t.forEach(t=>{const o=Db(t.path);r.push(i.put({targetId:n,path:o})),r.push(this.referenceDelegate.addReference(e,n,t))}),sm.waitFor(r)}removeMatchingKeys(e,t,n){const r=cw(e);return sm.forEach(t,t=>{const i=Db(t.path);return sm.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])})}removeMatchingKeysForTargetId(e,t){const n=cw(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=cw(e);let i=zy();return r.J({range:n,H:!0},(e,t,n)=>{const r=Fb(e[1]),o=new $g(r);i=i.add(o)}).next(()=>i)}containsKey(e,t){const n=Db(t.path),r=IDBKeyRange.bound([n],[Ug(n)],!1,!0);let i=0;return cw(e).J({index:"documentTargetsIndex",H:!0,range:r},([e,t],n,r)=>{0!==e&&(i++,r.done())}).next(()=>i>0)}te(e,t){return sw(e).get(t).next(e=>e?yv(e):null)}}function sw(e){return av(e,"targets")}function aw(e){return av(e,"targetGlobal")}function cw(e){return av(e,"targetDocuments")}function lw([e,t],[n,r]){const i=Lg(e,n);return 0===i?Lg(t,r):i}class uw{constructor(e){this.Sn=e,this.buffer=new Tm(lw),this.Dn=0}Cn(){return++this.Dn}xn(e){const t=[e,this.Cn()];if(this.buffer.size<this.Sn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();lw(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class hw{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Nn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.kn(6e4)}stop(){this.Nn&&(this.Nn.cancel(),this.Nn=null)}get started(){return null!==this.Nn}kn(e){var t=this;_g("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Nn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,Os.Z)(function*(){t.Nn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(e){hm(e)?_g("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):yield im(e)}yield t.kn(3e5)}))}}class dw{constructor(e,t){this.On=e,this.params=t}calculateTargetCount(e,t){return this.On.Mn(e).next(e=>Math.floor(t/100*e))}nthSequenceNumber(e,t){if(0===t)return sm.resolve(ym.ot);const n=new uw(t);return this.On.forEachTarget(e,e=>n.xn(e.sequenceNumber)).next(()=>this.On.Fn(e,e=>n.xn(e))).next(()=>n.maxValue)}removeTargets(e,t,n){return this.On.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.On.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(_g("LruGarbageCollector","Garbage collection skipped; disabled"),sm.resolve(Kv)):this.getCacheSize(e).next(n=>n<this.params.cacheSizeCollectionThreshold?(_g("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Kv):this.$n(e,t))}getCacheSize(e){return this.On.getCacheSize(e)}$n(e,t){let n,r,i,o,s,a,c;const l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(t=>(t>this.params.maximumSequenceNumbersToCollect?(_g("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,o=Date.now(),this.nthSequenceNumber(e,r))).next(r=>(n=r,s=Date.now(),this.removeTargets(e,n,t))).next(t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n))).next(e=>(c=Date.now(),mg()<=Ss.in.DEBUG&&_g("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-l}ms\n\tDetermined least recently used ${r} in `+(s-o)+"ms\n"+`\tRemoved ${i} targets in `+(a-s)+"ms\n"+`\tRemoved ${e} documents in `+(c-a)+"ms\n"+`Total Duration: ${c-l}ms`),sm.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})))}}class fw{constructor(e,t){this.db=e,this.garbageCollector=function(e,t){return new dw(e,t)}(this,t)}Mn(e){const t=this.Bn(e);return this.db.getTargetCache().getTargetCount(e).next(e=>t.next(t=>e+t))}Bn(e){let t=0;return this.Fn(e,e=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Fn(e,t){return this.Ln(e,(e,n)=>t(n))}addReference(e,t,n){return pw(e,n)}removeReference(e,t,n){return pw(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return pw(e,t)}Un(e,t){return function(e,t){let n=!1;return rw(e).Y(r=>ew(e,r,t).next(e=>(e&&(n=!0),sm.resolve(!e)))).next(()=>n)}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Ln(e,(o,s)=>{if(s<=t){const t=this.Un(e,o).next(t=>{if(!t)return i++,n.getEntry(e,o).next(()=>(n.removeEntry(o,Zg.min()),cw(e).delete([0,Db(o.path)])))});r.push(t)}}).next(()=>sm.waitFor(r)).next(()=>n.apply(e)).next(()=>i)}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return pw(e,t)}Ln(e,t){const n=cw(e);let r,i=ym.ot;return n.J({index:"documentTargetsIndex"},([e,n],{path:o,sequenceNumber:s})=>{0===e?(i!==ym.ot&&t(new $g(Fb(r)),i),i=s,r=o):i=ym.ot}).next(()=>{i!==ym.ot&&t(new $g(Fb(r)),i)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function pw(e,t){return cw(e).put(function(e,t){return{targetId:0,path:Db(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}class gw{constructor(){this.changes=new Dy(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,h_.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?sm.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mw{constructor(e){this.wt=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return vw(e).put(n)}removeEntry(e,t,n){return vw(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],pv(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next(n=>(n.byteSize+=t,this.qn(e,n)))}getEntry(e,t){let n=h_.newInvalidDocument(t);return vw(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ww(t))},(e,r)=>{n=this.Kn(t,r)}).next(()=>n)}Gn(e,t){let n={size:0,document:h_.newInvalidDocument(t)};return vw(e).J({index:"documentKeyIndex",range:IDBKeyRange.only(ww(t))},(e,r)=>{n={document:this.Kn(t,r),size:Jv(r)}}).next(()=>n)}getEntries(e,t){let n=Ry();return this.Qn(e,t,(e,t)=>{const r=this.Kn(e,t);n=n.insert(e,r)}).next(()=>n)}jn(e,t){let n=Ry(),r=new Cm($g.comparator);return this.Qn(e,t,(e,t)=>{const i=this.Kn(e,t);n=n.insert(e,i),r=r.insert(e,Jv(t))}).next(()=>({documents:n,Wn:r}))}Qn(e,t,n){if(t.isEmpty())return sm.resolve();let r=new Tm(Ow);t.forEach(e=>r=r.add(e));const i=IDBKeyRange.bound(ww(r.first()),ww(r.last())),o=r.getIterator();let s=o.getNext();return vw(e).J({index:"documentKeyIndex",range:i},(e,t,r)=>{const i=$g.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;s&&Ow(s,i)<0;)n(s,null),s=o.getNext();s&&s.isEqual(i)&&(n(s,t),s=o.hasNext()?o.getNext():null),s?r.q(ww(s)):r.done()}).next(()=>{for(;s;)n(s,null),s=o.hasNext()?o.getNext():null})}getAllFromCollection(e,t,n){const r=[t.popLast().toArray(),t.lastSegment(),pv(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],i=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return vw(e).K(IDBKeyRange.bound(r,i,!0)).next(e=>{let t=Ry();for(const n of e){const e=this.Kn($g.fromSegments(n.prefixPath.concat(n.collectionGroup,n.documentId)),n);t=t.insert(e.key,e)}return t})}getAllFromCollectionGroup(e,t,n,r){let i=Ry();const o=Cw(t,n),s=Cw(t,em.max());return vw(e).J({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,s,!0)},(e,t,n)=>{const o=this.Kn($g.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(o.key,o),i.size===r&&n.done()}).next(()=>i)}newChangeBuffer(e){return new yw(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(e=>e.byteSize)}getMetadata(e){return bw(e).get("remoteDocumentGlobalKey").next(e=>(Cg(!!e),e))}qn(e,t){return bw(e).put("remoteDocumentGlobalKey",t)}Kn(e,t){if(t){const e=function(e,t){let n;if(t.document)n=yb(e.ne,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=$g.fromSegments(t.noDocument.path),r=mv(t.noDocument.readTime);n=h_.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return wg();{const e=$g.fromSegments(t.unknownDocument.path),r=mv(t.unknownDocument.version);n=h_.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new Vg(e[0],e[1]);return Zg.fromTimestamp(t)}(t.readTime)),n}(this.wt,t);if(!e.isNoDocument()||!e.version.isEqual(Zg.min()))return e}return h_.newInvalidDocument(e)}}function _w(e){return new mw(e)}class yw extends gw{constructor(e,t){super(),this.zn=e,this.trackRemovals=t,this.Hn=new Dy(e=>e.toString(),(e,t)=>e.isEqual(t))}applyChanges(e){const t=[];let n=0,r=new Tm((e,t)=>Lg(e.canonicalString(),t.canonicalString()));return this.changes.forEach((i,o)=>{const s=this.Hn.get(i);if(t.push(this.zn.removeEntry(e,i,s.readTime)),o.isValidDocument()){const a=fv(this.zn.wt,o);r=r.add(i.path.popLast());const c=Jv(a);n+=c-s.size,t.push(this.zn.addEntry(e,i,a))}else if(n-=s.size,this.trackRemovals){const n=fv(this.zn.wt,o.convertToNoDocument(Zg.min()));t.push(this.zn.addEntry(e,i,n))}}),r.forEach(n=>{t.push(this.zn.indexManager.addToCollectionParentIndex(e,n))}),t.push(this.zn.updateMetadata(e,n)),sm.waitFor(t)}getFromCache(e,t){return this.zn.Gn(e,t).next(e=>(this.Hn.set(t,{size:e.size,readTime:e.document.readTime}),e.document))}getAllFromCache(e,t){return this.zn.jn(e,t).next(({documents:e,Wn:t})=>(t.forEach((t,n)=>{this.Hn.set(t,{size:n,readTime:e.get(t).readTime})}),e))}}function bw(e){return av(e,"remoteDocumentGlobal")}function vw(e){return av(e,"remoteDocumentsV14")}function ww(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function Cw(e,t){const n=t.documentKey.path.toArray();return[e,pv(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function Ow(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let o=0;o<n.length-2&&o<r.length-2;++o)if(i=Lg(n[o],r[o]),i)return i;return i=Lg(n.length,r.length),i||(i=Lg(n[n.length-2],r[r.length-2]),i||Lg(n[n.length-1],r[r.length-1]))}class Pw{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Tw{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next(r=>(n=r,this.getBaseDocument(e,t,n))).next(e=>(null!==n&&yy(n.mutation,e,Im.empty(),Vg.now()),e))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.getLocalViewOfDocuments(e,t,zy()).next(()=>t))}getLocalViewOfDocuments(e,t,n=zy()){const r=Uy();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,n).next(e=>{let t=Ly();return e.forEach((e,n)=>{t=t.insert(e,n.overlayedDocument)}),t}))}getOverlayedDocuments(e,t){const n=Uy();return this.populateOverlays(e,n,t).next(()=>this.computeViews(e,t,n,zy()))}populateOverlays(e,t,n){const r=[];return n.forEach(e=>{t.has(e)||r.push(e)}),this.documentOverlayCache.getOverlays(e,r).next(e=>{e.forEach((e,n)=>{t.set(e,n)})})}computeViews(e,t,n,r){let i=Ry();const o=Zy(),s=Zy();return t.forEach((e,t)=>{const s=n.get(t.key);r.has(t.key)&&(void 0===s||s.mutation instanceof Cy)?i=i.insert(t.key,t):void 0!==s&&(o.set(t.key,s.mutation.getFieldMask()),yy(s.mutation,t,s.mutation.getFieldMask(),Vg.now()))}),this.recalculateAndSaveOverlays(e,i).next(e=>(e.forEach((e,t)=>o.set(e,t)),t.forEach((e,t)=>{var n;return s.set(e,new Pw(t,null!==(n=o.get(e))&&void 0!==n?n:null))}),s))}recalculateAndSaveOverlays(e,t){const n=Zy();let r=new Cm((e,t)=>e-t),i=zy();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(e=>{for(const i of e)i.keys().forEach(e=>{const o=t.get(e);if(null===o)return;let s=n.get(e)||Im.empty();s=i.applyToLocalView(o,s),n.set(e,s);const a=(r.get(i.batchId)||zy()).add(e);r=r.insert(i.batchId,a)})}).next(()=>{const o=[],s=r.getReverseIterator();for(;s.hasNext();){const r=s.getNext(),a=r.key,c=r.value,l=Vy();c.forEach(e=>{if(!i.has(e)){const r=my(t.get(e),n.get(e));null!==r&&l.set(e,r),i=i.add(e)}}),o.push(this.documentOverlayCache.saveOverlays(e,a,l))}return sm.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(t=>this.recalculateAndSaveOverlays(e,t))}getDocumentsMatchingQuery(e,t,n){return function(e){return $g.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):U_(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):sm.resolve(Uy());let s=-1,a=i;return o.next(t=>sm.forEach(t,(t,n)=>(s<n.largestBatchId&&(s=n.largestBatchId),i.get(t)?sm.resolve():this.getBaseDocument(e,t,n).next(e=>{a=a.insert(t,e)}))).next(()=>this.populateOverlays(e,t,i)).next(()=>this.computeViews(e,a,t,zy())).next(e=>({batchId:s,changes:qy(e)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new $g(t)).next(e=>{let t=Ly();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t})}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=Ly();return this.indexManager.getCollectionParents(e,r).next(o=>sm.forEach(o,o=>{const s=function(e,t){return new N_(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(r));return this.getDocumentsMatchingCollectionQuery(e,s,n).next(e=>{e.forEach((e,t)=>{i=i.insert(e,t)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.remoteDocumentCache.getAllFromCollection(e,t.path,n).next(i=>(r=i,this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId))).next(e=>{e.forEach((e,t)=>{const n=t.getKey();null===r.get(n)&&(r=r.insert(n,h_.newInvalidDocument(n)))});let n=Ly();return r.forEach((r,i)=>{const o=e.get(r);void 0!==o&&yy(o.mutation,i,Im.empty(),Vg.now()),$_(t,i)&&(n=n.insert(r,i))}),n})}getBaseDocument(e,t,n){return null===n||1===n.mutation.type?this.remoteDocumentCache.getEntry(e,t):sm.resolve(h_.newInvalidDocument(t))}}class Mw{constructor(e){this.wt=e,this.Jn=new Map,this.Yn=new Map}getBundleMetadata(e,t){return sm.resolve(this.Jn.get(t))}saveBundleMetadata(e,t){var n;return this.Jn.set(t.id,{id:(n=t).id,version:n.version,createTime:cb(n.createTime)}),sm.resolve()}getNamedQuery(e,t){return sm.resolve(this.Yn.get(t))}saveNamedQuery(e,t){return this.Yn.set(t.name,function(e){return{name:e.name,query:vv(e.bundledQuery),readTime:cb(e.readTime)}}(t)),sm.resolve()}}class Sw{constructor(){this.overlays=new Cm($g.comparator),this.Xn=new Map}getOverlay(e,t){return sm.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Uy();return sm.forEach(t,t=>this.getOverlay(e,t).next(e=>{null!==e&&n.set(t,e)})).next(()=>n)}saveOverlays(e,t,n){return n.forEach((n,r)=>{this.ie(e,t,r)}),sm.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Xn.get(n);return void 0!==r&&(r.forEach(e=>this.overlays=this.overlays.remove(e)),this.Xn.delete(n)),sm.resolve()}getOverlaysForCollection(e,t,n){const r=Uy(),i=t.length+1,o=new $g(t.child("")),s=this.overlays.getIteratorFrom(o);for(;s.hasNext();){const e=s.getNext().value,o=e.getKey();if(!t.isPrefixOf(o.path))break;o.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return sm.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Cm((e,t)=>e-t);const o=this.overlays.getIterator();for(;o.hasNext();){const e=o.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Uy(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const s=Uy(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((e,t)=>s.set(e,t)),!(s.size()>=r)););return sm.resolve(s)}ie(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Xn.get(r.largestBatchId).delete(n.key);this.Xn.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new uv(t,n));let i=this.Xn.get(t);void 0===i&&(i=zy(),this.Xn.set(t,i)),this.Xn.set(t,i.add(n.key))}}class Iw{constructor(){this.Zn=new Tm(kw.ts),this.es=new Tm(kw.ns)}isEmpty(){return this.Zn.isEmpty()}addReference(e,t){const n=new kw(e,t);this.Zn=this.Zn.add(n),this.es=this.es.add(n)}ss(e,t){e.forEach(e=>this.addReference(e,t))}removeReference(e,t){this.rs(new kw(e,t))}os(e,t){e.forEach(e=>this.removeReference(e,t))}us(e){const t=new $g(new Bg([])),n=new kw(t,e),r=new kw(t,e+1),i=[];return this.es.forEachInRange([n,r],e=>{this.rs(e),i.push(e.key)}),i}cs(){this.Zn.forEach(e=>this.rs(e))}rs(e){this.Zn=this.Zn.delete(e),this.es=this.es.delete(e)}hs(e){const t=new $g(new Bg([])),n=new kw(t,e),r=new kw(t,e+1);let i=zy();return this.es.forEachInRange([n,r],e=>{i=i.add(e.key)}),i}containsKey(e){const t=new kw(e,0),n=this.Zn.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class kw{constructor(e,t){this.key=e,this.ls=t}static ts(e,t){return $g.comparator(e.key,t.key)||Lg(e.ls,t.ls)}static ns(e,t){return Lg(e.ls,t.ls)||$g.comparator(e.key,t.key)}}class Ew{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.fs=1,this.ds=new Tm(kw.ts)}checkEmpty(e){return sm.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.fs;this.fs++;const o=new cv(i,t,n,r);this.mutationQueue.push(o);for(const s of r)this.ds=this.ds.add(new kw(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast());return sm.resolve(o)}lookupMutationBatch(e,t){return sm.resolve(this._s(t))}getNextMutationBatchAfterBatchId(e,t){const n=this.ws(t+1),r=n<0?0:n;return sm.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return sm.resolve(0===this.mutationQueue.length?-1:this.fs-1)}getAllMutationBatches(e){return sm.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new kw(t,0),r=new kw(t,Number.POSITIVE_INFINITY),i=[];return this.ds.forEachInRange([n,r],e=>{const t=this._s(e.ls);i.push(t)}),sm.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new Tm(Lg);return t.forEach(e=>{const t=new kw(e,0),r=new kw(e,Number.POSITIVE_INFINITY);this.ds.forEachInRange([t,r],e=>{n=n.add(e.ls)})}),sm.resolve(this.gs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;$g.isDocumentKey(i)||(i=i.child(""));const o=new kw(new $g(i),0);let s=new Tm(Lg);return this.ds.forEachWhile(e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(s=s.add(e.ls)),!0)},o),sm.resolve(this.gs(s))}gs(e){const t=[];return e.forEach(e=>{const n=this._s(e);null!==n&&t.push(n)}),t}removeMutationBatch(e,t){Cg(0===this.ys(t.batchId,"removed")),this.mutationQueue.shift();let n=this.ds;return sm.forEach(t.mutations,r=>{const i=new kw(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ds=n})}In(e){}containsKey(e,t){const n=new kw(t,0),r=this.ds.firstAfterOrEqual(n);return sm.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return sm.resolve()}ys(e,t){return this.ws(e)}ws(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}_s(e){const t=this.ws(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class xw{constructor(e){this.ps=e,this.docs=new Cm($g.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,o=this.ps(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return sm.resolve(n?n.document.mutableCopy():h_.newInvalidDocument(t))}getEntries(e,t){let n=Ry();return t.forEach(e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():h_.newInvalidDocument(e))}),sm.resolve(n)}getAllFromCollection(e,t,n){let r=Ry();const i=new $g(t.child("")),o=this.docs.getIteratorFrom(i);for(;o.hasNext();){const{key:e,value:{document:i}}=o.getNext();if(!t.isPrefixOf(e.path))break;e.path.length>t.length+1||tm(Xg(i),n)<=0||(r=r.insert(i.key,i.mutableCopy()))}return sm.resolve(r)}getAllFromCollectionGroup(e,t,n,r){wg()}Is(e,t){return sm.forEach(this.docs,e=>t(e))}newChangeBuffer(e){return new Aw(this)}getSize(e){return sm.resolve(this.size)}}class Aw extends gw{constructor(e){super(),this.zn=e}applyChanges(e){const t=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?t.push(this.zn.addEntry(e,r)):this.zn.removeEntry(n)}),sm.waitFor(t)}getFromCache(e,t){return this.zn.getEntry(e,t)}getAllFromCache(e,t){return this.zn.getEntries(e,t)}}class Dw{constructor(e){this.persistence=e,this.Ts=new Dy(e=>p_(e),g_),this.lastRemoteSnapshotVersion=Zg.min(),this.highestTargetId=0,this.Es=0,this.As=new Iw,this.targetCount=0,this.Rs=iw.An()}forEachTarget(e,t){return this.Ts.forEach((e,n)=>t(n)),sm.resolve()}getLastRemoteSnapshotVersion(e){return sm.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return sm.resolve(this.Es)}allocateTargetId(e){return this.highestTargetId=this.Rs.next(),sm.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Es&&(this.Es=t),sm.resolve()}vn(e){this.Ts.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Rs=new iw(t),this.highestTargetId=t),e.sequenceNumber>this.Es&&(this.Es=e.sequenceNumber)}addTargetData(e,t){return this.vn(t),this.targetCount+=1,sm.resolve()}updateTargetData(e,t){return this.vn(t),sm.resolve()}removeTargetData(e,t){return this.Ts.delete(t.target),this.As.us(t.targetId),this.targetCount-=1,sm.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Ts.forEach((o,s)=>{s.sequenceNumber<=t&&null===n.get(s.targetId)&&(this.Ts.delete(o),i.push(this.removeMatchingKeysForTargetId(e,s.targetId)),r++)}),sm.waitFor(i).next(()=>r)}getTargetCount(e){return sm.resolve(this.targetCount)}getTargetData(e,t){const n=this.Ts.get(t)||null;return sm.resolve(n)}addMatchingKeys(e,t,n){return this.As.ss(t,n),sm.resolve()}removeMatchingKeys(e,t,n){this.As.os(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach(t=>{i.push(r.markPotentiallyOrphaned(e,t))}),sm.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.As.us(t),sm.resolve()}getMatchingKeysForTargetId(e,t){const n=this.As.hs(t);return sm.resolve(n)}containsKey(e,t){return sm.resolve(this.As.containsKey(t))}}class Nw{constructor(e,t){this.bs={},this.overlays={},this.Ps=new ym(0),this.vs=!1,this.vs=!0,this.referenceDelegate=e(this),this.Vs=new Dw(this),this.indexManager=new Vv,this.remoteDocumentCache=function(e){return new xw(e)}(e=>this.referenceDelegate.Ss(e)),this.wt=new dv(t),this.Ds=new Mw(this.wt)}start(){return Promise.resolve()}shutdown(){return this.vs=!1,Promise.resolve()}get started(){return this.vs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Sw,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.bs[e.toKey()];return n||(n=new Ew(t,this.referenceDelegate),this.bs[e.toKey()]=n),n}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ds}runTransaction(e,t,n){_g("MemoryPersistence","Starting transaction:",e);const r=new Rw(this.Ps.next());return this.referenceDelegate.Cs(),n(r).next(e=>this.referenceDelegate.xs(r).next(()=>e)).toPromise().then(e=>(r.raiseOnCommittedEvent(),e))}Ns(e,t){return sm.or(Object.values(this.bs).map(n=>()=>n.containsKey(e,t)))}}class Rw extends rm{constructor(e){super(),this.currentSequenceNumber=e}}class Fw{constructor(e){this.persistence=e,this.ks=new Iw,this.Os=null}static Ms(e){return new Fw(e)}get Fs(){if(this.Os)return this.Os;throw wg()}addReference(e,t,n){return this.ks.addReference(n,t),this.Fs.delete(n.toString()),sm.resolve()}removeReference(e,t,n){return this.ks.removeReference(n,t),this.Fs.add(n.toString()),sm.resolve()}markPotentiallyOrphaned(e,t){return this.Fs.add(t.toString()),sm.resolve()}removeTarget(e,t){this.ks.us(t.targetId).forEach(e=>this.Fs.add(e.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next(e=>{e.forEach(e=>this.Fs.add(e.toString()))}).next(()=>n.removeTargetData(e,t))}Cs(){this.Os=new Set}xs(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return sm.forEach(this.Fs,n=>{const r=$g.fromPath(n);return this.$s(e,r).next(e=>{e||t.removeEntry(r,Zg.min())})}).next(()=>(this.Os=null,t.apply(e)))}updateLimboDocument(e,t){return this.$s(e,t).next(e=>{e?this.Fs.delete(t.toString()):this.Fs.add(t.toString())})}Ss(e){return 0}$s(e,t){return sm.or([()=>sm.resolve(this.ks.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ns(e,t)])}}class Lw{constructor(e){this.wt=e}O(e,t,n,r){const i=new am("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Lb,{unique:!0}),e.createObjectStore("documentMutations")}(e),qw(e),function(e){e.createObjectStore("remoteDocuments")}(e));let o=sm.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),qw(e)),o=o.next(()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Zg.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i))),n<4&&r>=4&&(0!==n&&(o=o.next(()=>function(e,t){return t.store("mutations").K().next(n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",Lb,{unique:!0});const r=t.store("mutations"),i=n.map(e=>r.put(e));return sm.waitFor(i)})}(e,i))),o=o.next(()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),n<5&&r>=5&&(o=o.next(()=>this.Bs(i))),n<6&&r>=6&&(o=o.next(()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Ls(i)))),n<7&&r>=7&&(o=o.next(()=>this.Us(i))),n<8&&r>=8&&(o=o.next(()=>this.qs(e,i))),n<9&&r>=9&&(o=o.next(()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)})),n<10&&r>=10&&(o=o.next(()=>this.Ks(i))),n<11&&r>=11&&(o=o.next(()=>{!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),n<12&&r>=12&&(o=o.next(()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:Jb});t.createIndex("collectionPathOverlayIndex",Xb,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",ev,{unique:!1})}(e)})),n<13&&r>=13&&(o=o.next(()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:Zb});t.createIndex("documentKeyIndex",jb),t.createIndex("collectionGroupIndex",Bb)}(e)).next(()=>this.Gs(e,i)).next(()=>e.deleteObjectStore("remoteDocuments"))),n<14&&r>=14&&(o=o.next(()=>this.Qs(e,i))),n<15&&r>=15&&(o=o.next(()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:Wb}).createIndex("sequenceNumberIndex",Kb,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:Yb}).createIndex("documentKeyIndex",Qb,{unique:!1})}(e))),o}Ls(e){let t=0;return e.store("remoteDocuments").J((e,n)=>{t+=Jv(n)}).next(()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)})}Bs(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.K().next(t=>sm.forEach(t,t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.K("userMutationsIndex",r).next(n=>sm.forEach(n,n=>{Cg(n.userId===t.userId);const r=_v(this.wt,n);return Qv(e,t.userId,r).next(()=>{})}))}))}Us(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(e=>{const r=[];return n.J((n,i)=>{const o=new Bg(n),s=function(e){return[0,Db(e)]}(o);r.push(t.get(s).next(n=>n?sm.resolve():(n=>t.put({targetId:0,path:Db(n),sequenceNumber:e.highestListenSequenceNumber}))(o)))}).next(()=>sm.waitFor(r))})}qs(e,t){e.createObjectStore("collectionParents",{keyPath:Gb});const n=t.store("collectionParents"),r=new Zv,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:Db(r)})}};return t.store("remoteDocuments").J({H:!0},(e,t)=>{const n=new Bg(e);return i(n.popLast())}).next(()=>t.store("documentMutations").J({H:!0},([e,t,n],r)=>{const o=Fb(t);return i(o.popLast())}))}Ks(e){const t=e.store("targets");return t.J((e,n)=>{const r=yv(n),i=bv(this.wt,r);return t.put(i)})}Gs(e,t){const n=t.store("remoteDocuments"),r=[];return n.J((e,n)=>{const i=t.store("remoteDocumentsV14"),o=(s=n,s.document?new $g(Bg.fromString(s.document.name).popFirst(5)):s.noDocument?$g.fromSegments(s.noDocument.path):s.unknownDocument?$g.fromSegments(s.unknownDocument.path):wg()).path.toArray();var s;const a={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))}).next(()=>sm.waitFor(r))}Qs(e,t){const n=t.store("mutations"),r=_w(this.wt),i=new Nw(Fw.Ms,this.wt.ne);return n.K().next(e=>{const n=new Map;return e.forEach(e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:zy();_v(this.wt,e).keys().forEach(e=>r=r.add(e)),n.set(e.userId,r)}),sm.forEach(n,(e,n)=>{const o=new fg(n),s=Sv.se(this.wt,o),a=i.getIndexManager(o),c=Xv.se(o,this.wt,a,i.referenceDelegate);return new Tw(r,c,s,a).recalculateAndSaveOverlaysForDocumentKeys(new sv(t,ym.ot),e).next()})})}}function qw(e){e.createObjectStore("targetDocuments",{keyPath:Hb}).createIndex("documentTargetsIndex",$b,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",zb,{unique:!0}),e.createObjectStore("targetGlobal")}const Uw="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Vw{constructor(e,t,n,r,i,o,s,a,c,l,u=14){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.js=i,this.window=o,this.document=s,this.Ws=c,this.zs=l,this.Hs=u,this.Ps=null,this.vs=!1,this.isPrimary=!1,this.networkEnabled=!0,this.Js=null,this.inForeground=!1,this.Ys=null,this.Xs=null,this.Zs=Number.NEGATIVE_INFINITY,this.ti=e=>Promise.resolve(),!Vw.V())throw new Tg(Pg.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new fw(this,r),this.ei=t+"main",this.wt=new dv(a),this.ni=new cm(this.ei,this.Hs,new Lw(this.wt)),this.Vs=new ow(this.referenceDelegate,this.wt),this.remoteDocumentCache=_w(this.wt),this.Ds=new Pv,this.window&&this.window.localStorage?this.si=this.window.localStorage:(this.si=null,!1===l&&yg("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ii().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new Tg(Pg.FAILED_PRECONDITION,Uw);return this.ri(),this.oi(),this.ui(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Vs.getHighestSequenceNumber(e))}).then(e=>{this.Ps=new ym(e,this.Ws)}).then(()=>{this.vs=!0}).catch(e=>(this.ni&&this.ni.close(),Promise.reject(e)))}ci(e){var t=this;return this.ti=function(){var n=(0,Os.Z)(function*(n){if(t.started)return e(n)});return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.ni.F(function(){var t=(0,Os.Z)(function*(t){null===t.newVersion&&(yield e())});return function(e){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.js.enqueueAndForget((0,Os.Z)(function*(){t.started&&(yield t.ii())})))}ii(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>jw(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.ai(e).next(e=>{e||(this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)))})}).next(()=>this.hi(e)).next(t=>this.isPrimary&&!t?this.li(e).next(()=>!1):!!t&&this.fi(e).next(()=>!0))).catch(e=>{if(hm(e))return _g("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return _g("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.js.enqueueRetryable(()=>this.ti(e)),this.isPrimary=e})}ai(e){return Zw(e).get("owner").next(e=>sm.resolve(this.di(e)))}_i(e){return jw(e).delete(this.clientId)}wi(){var e=this;return(0,Os.Z)(function*(){if(e.isPrimary&&!e.mi(e.Zs,18e5)){e.Zs=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",t=>{const n=av(t,"clientMetadata");return n.K().next(t=>{const r=e.gi(t,18e5),i=t.filter(e=>-1===r.indexOf(e));return sm.forEach(i,e=>n.delete(e.clientId)).next(()=>i)})}).catch(()=>[]);if(e.si)for(const n of t)e.si.removeItem(e.yi(n.clientId))}})()}ui(){this.Xs=this.js.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ii().then(()=>this.wi()).then(()=>this.ui()))}di(e){return!!e&&e.ownerId===this.clientId}hi(e){return this.zs?sm.resolve(!0):Zw(e).get("owner").next(t=>{if(null!==t&&this.mi(t.leaseTimestampMs,5e3)&&!this.pi(t.ownerId)){if(this.di(t)&&this.networkEnabled)return!0;if(!this.di(t)){if(!t.allowTabSynchronization)throw new Tg(Pg.FAILED_PRECONDITION,Uw);return!1}}return!(!this.networkEnabled||!this.inForeground)||jw(e).K().next(e=>void 0===this.gi(e,5e3).find(e=>{if(this.clientId!==e.clientId){const t=!this.inForeground&&e.inForeground,n=this.networkEnabled===e.networkEnabled;if(!this.networkEnabled&&e.networkEnabled||t&&n)return!0}return!1}))}).next(e=>(this.isPrimary!==e&&_g("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e))}shutdown(){var e=this;return(0,Os.Z)(function*(){e.vs=!1,e.Ii(),e.Xs&&(e.Xs.cancel(),e.Xs=null),e.Ti(),e.Ei(),yield e.ni.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const n=new sv(t,ym.ot);return e.li(n).next(()=>e._i(n))}),e.ni.close(),e.Ai()})()}gi(e,t){return e.filter(e=>this.mi(e.updateTimeMs,t)&&!this.pi(e.clientId))}Ri(){return this.runTransaction("getActiveClients","readonly",e=>jw(e).K().next(e=>this.gi(e,18e5).map(e=>e.clientId)))}get started(){return this.vs}getMutationQueue(e,t){return Xv.se(e,this.wt,t,this.referenceDelegate)}getTargetCache(){return this.Vs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new Bv(e,this.wt.ne.databaseId)}getDocumentOverlayCache(e){return Sv.se(this.wt,e)}getBundleCache(){return this.Ds}runTransaction(e,t,n){_g("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(o=this.Hs)?ov:14===o?iv:13===o?rv:12===o?nv:11===o?tv:void wg();var o;let s;return this.ni.runTransaction(e,r,i,r=>(s=new sv(r,this.Ps?this.Ps.next():ym.ot),"readwrite-primary"===t?this.ai(s).next(e=>!!e||this.hi(s)).next(t=>{if(!t)throw yg(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.js.enqueueRetryable(()=>this.ti(!1)),new Tg(Pg.FAILED_PRECONDITION,nm);return n(s)}).next(e=>this.fi(s).next(()=>e)):this.bi(s).next(()=>n(s)))).then(e=>(s.raiseOnCommittedEvent(),e))}bi(e){return Zw(e).get("owner").next(e=>{if(null!==e&&this.mi(e.leaseTimestampMs,5e3)&&!this.pi(e.ownerId)&&!this.di(e)&&!(this.zs||this.allowTabSynchronization&&e.allowTabSynchronization))throw new Tg(Pg.FAILED_PRECONDITION,Uw)})}fi(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return Zw(e).put("owner",t)}static V(){return cm.V()}li(e){const t=Zw(e);return t.get("owner").next(e=>this.di(e)?(_g("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):sm.resolve())}mi(e,t){const n=Date.now();return!(e<n-t||e>n&&(yg(`Detected an update time that is in the future: ${e} > ${n}`),1))}ri(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.Ys=()=>{this.js.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ii()))},this.document.addEventListener("visibilitychange",this.Ys),this.inForeground="visible"===this.document.visibilityState)}Ti(){this.Ys&&(this.document.removeEventListener("visibilitychange",this.Ys),this.Ys=null)}oi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.Js=()=>{this.Ii(),(0,Ms.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.js.enterRestrictedMode(!0),this.js.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.Js))}Ei(){this.Js&&(this.window.removeEventListener("pagehide",this.Js),this.Js=null)}pi(e){var t;try{const n=null!==(null===(t=this.si)||void 0===t?void 0:t.getItem(this.yi(e)));return _g("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return yg("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Ii(){if(this.si)try{this.si.setItem(this.yi(this.clientId),String(Date.now()))}catch(yh){yg("Failed to set zombie client id.",yh)}}Ai(){if(this.si)try{this.si.removeItem(this.yi(this.clientId))}catch(yh){}}yi(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function Zw(e){return av(e,"owner")}function jw(e){return av(e,"clientMetadata")}function Bw(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}class zw{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Pi=n,this.vi=r}static Vi(e,t){let n=zy(),r=zy();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new zw(e,t.fromCache,n,r)}}class Hw{constructor(){this.Si=!1}initialize(e,t){this.Di=e,this.indexManager=t,this.Si=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ci(e,t).next(i=>i||this.xi(e,t,r,n)).next(n=>n||this.Ni(e,t))}Ci(e,t){return sm.resolve(null)}xi(e,t,n,r){return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(Zg.min())?this.Ni(e,t):this.Di.getDocuments(e,n).next(i=>{const o=this.ki(t,i);return this.Oi(t,o,n,r)?this.Ni(e,t):(mg()<=Ss.in.DEBUG&&_g("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),H_(t)),this.Mi(e,o,t,Jg(r,-1)))})}ki(e,t){let n=new Tm(W_(e));return t.forEach((t,r)=>{$_(e,r)&&(n=n.add(r))}),n}Oi(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Ni(e,t){return mg()<=Ss.in.DEBUG&&_g("QueryEngine","Using full collection scan to execute query:",H_(t)),this.Di.getDocumentsMatchingQuery(e,t,em.min())}Mi(e,t,n,r){return this.Di.getDocumentsMatchingQuery(e,n,r).next(e=>(t.forEach(t=>{e=e.insert(t.key,t)}),e))}}class $w{constructor(e,t,n,r){this.persistence=e,this.Fi=t,this.wt=r,this.$i=new Cm(Lg),this.Bi=new Dy(e=>p_(e),g_),this.Li=new Map,this.Ui=e.getRemoteDocumentCache(),this.Vs=e.getTargetCache(),this.Ds=e.getBundleCache(),this.qi(n)}qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Tw(this.Ui,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ui.setIndexManager(this.indexManager),this.Fi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.$i))}}function Gw(e,t,n,r){return new $w(e,t,n,r)}function Ww(e,t){return Kw.apply(this,arguments)}function Kw(){return(Kw=(0,Os.Z)(function*(e,t){const n=Og(e);return yield n.persistence.runTransaction("Handle user change","readonly",e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next(i=>(r=i,n.qi(t),n.mutationQueue.getAllMutationBatches(e))).next(t=>{const i=[],o=[];let s=zy();for(const e of r){i.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}for(const e of t){o.push(e.batchId);for(const t of e.mutations)s=s.add(t.key)}return n.localDocuments.getDocuments(e,s).next(e=>({Ki:e,removedBatchIds:i,addedBatchIds:o}))})})})).apply(this,arguments)}function Yw(e,t){const n=Og(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",e=>{const r=t.batch.keys(),i=n.Ui.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,o=i.keys();let s=sm.resolve();return o.forEach(e=>{s=s.next(()=>r.getEntry(t,e)).next(t=>{const o=n.docVersions.get(e);Cg(null!==o),t.version.compareTo(o)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))})}),s.next(()=>e.mutationQueue.removeMutationBatch(t,i))}(n,e,t,i).next(()=>i.apply(e)).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=zy();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))).next(()=>n.localDocuments.getDocuments(e,r))})}function Qw(e){const t=Og(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",e=>t.Vs.getLastRemoteSnapshotVersion(e))}function Jw(e,t){const n=Og(e),r=t.snapshotVersion;let i=n.$i;return n.persistence.runTransaction("Apply remote event","readwrite-primary",e=>{const o=n.Ui.newChangeBuffer({trackRemovals:!0});i=n.$i;const s=[];t.targetChanges.forEach((o,a)=>{const c=i.get(a);if(!c)return;s.push(n.Vs.removeMatchingKeys(e,o.removedDocuments,a).next(()=>n.Vs.addMatchingKeys(e,o.addedDocuments,a)));let l=c.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(a)?l=l.withResumeToken(km.EMPTY_BYTE_STRING,Zg.min()).withLastLimboFreeSnapshotVersion(Zg.min()):o.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(o.resumeToken,r)),i=i.insert(a,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(c,l,o)&&s.push(n.Vs.updateTargetData(e,l))});let a=Ry(),c=zy();if(t.documentUpdates.forEach(r=>{t.resolvedLimboDocuments.has(r)&&s.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))}),s.push(Xw(e,o,t.documentUpdates).next(e=>{a=e.Gi,c=e.Qi})),!r.isEqual(Zg.min())){const t=n.Vs.getLastRemoteSnapshotVersion(e).next(t=>n.Vs.setTargetsMetadata(e,e.currentSequenceNumber,r));s.push(t)}return sm.waitFor(s).next(()=>o.apply(e)).next(()=>n.localDocuments.getLocalViewOfDocuments(e,a,c)).next(()=>a)}).then(e=>(n.$i=i,e))}function Xw(e,t,n){let r=zy(),i=zy();return n.forEach(e=>r=r.add(e)),t.getEntries(e,r).next(e=>{let r=Ry();return n.forEach((n,o)=>{const s=e.get(n);o.isFoundDocument()!==s.isFoundDocument()&&(i=i.add(n)),o.isNoDocument()&&o.version.isEqual(Zg.min())?(t.removeEntry(n,o.readTime),r=r.insert(n,o)):!s.isValidDocument()||o.version.compareTo(s.version)>0||0===o.version.compareTo(s.version)&&s.hasPendingWrites?(t.addEntry(o),r=r.insert(n,o)):_g("LocalStore","Ignoring outdated watch update for ",n,". Current version:",s.version," Watch version:",o.version)}),{Gi:r,Qi:i}})}function eC(e,t){const n=Og(e);return n.persistence.runTransaction("Get next mutation batch","readonly",e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)))}function tC(e,t){const n=Og(e);return n.persistence.runTransaction("Allocate target","readwrite",e=>{let r;return n.Vs.getTargetData(e,t).next(i=>i?(r=i,sm.resolve(r)):n.Vs.allocateTargetId(e).next(i=>(r=new hv(t,i,0,e.currentSequenceNumber),n.Vs.addTargetData(e,r).next(()=>r))))}).then(e=>{const r=n.$i.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.$i=n.$i.insert(e.targetId,e),n.Bi.set(t,e.targetId)),e})}function nC(e,t,n){return rC.apply(this,arguments)}function rC(){return(rC=(0,Os.Z)(function*(e,t,n){const r=Og(e),i=r.$i.get(t),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!hm(e))throw e;_g("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.$i=r.$i.remove(t),r.Bi.delete(i.target)})).apply(this,arguments)}function iC(e,t,n){const r=Og(e);let i=Zg.min(),o=zy();return r.persistence.runTransaction("Execute query","readonly",e=>function(e,t,n){const r=Og(e),i=r.Bi.get(n);return void 0!==i?sm.resolve(r.$i.get(i)):r.Vs.getTargetData(t,n)}(r,e,Z_(t)).next(t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Vs.getMatchingKeysForTargetId(e,t.targetId).next(e=>{o=e})}).next(()=>r.Fi.getDocumentsMatchingQuery(e,t,n?i:Zg.min(),n?o:zy())).next(e=>(aC(r,G_(t),e),{documents:e,ji:o})))}function oC(e,t){const n=Og(e),r=Og(n.Vs),i=n.$i.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",e=>r.te(e,t).next(e=>e?e.target:null))}function sC(e,t){const n=Og(e),r=n.Li.get(t)||Zg.min();return n.persistence.runTransaction("Get new document changes","readonly",e=>n.Ui.getAllFromCollectionGroup(e,t,Jg(r,-1),Number.MAX_SAFE_INTEGER)).then(e=>(aC(n,t,e),e))}function aC(e,t,n){let r=Zg.min();n.forEach((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)}),e.Li.set(t,r)}function cC(){return(cC=(0,Os.Z)(function*(e,t,n,r){const i=Og(e);let o=zy(),s=Ry();for(const l of n){const e=t.Wi(l.metadata.name);l.document&&(o=o.add(e));const n=t.zi(l);n.setReadTime(t.Hi(l.metadata.readTime)),s=s.insert(e,n)}const a=i.Ui.newChangeBuffer({trackRemovals:!0}),c=yield tC(i,function(e){return Z_(F_(Bg.fromString(`__bundle__/docs/${e}`)))}(r));return i.persistence.runTransaction("Apply bundle documents","readwrite",e=>Xw(e,a,s).next(t=>(a.apply(e),t)).next(t=>i.Vs.removeMatchingKeysForTargetId(e,c.targetId).next(()=>i.Vs.addMatchingKeys(e,o,c.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(e,t.Gi,t.Qi)).next(()=>t.Gi)))})).apply(this,arguments)}function lC(e,t){return uC.apply(this,arguments)}function uC(){return(uC=(0,Os.Z)(function*(e,t,n=zy()){const r=yield tC(e,Z_(vv(t.bundledQuery))),i=Og(e);return i.persistence.runTransaction("Save named query","readwrite",e=>{const o=cb(t.readTime);if(r.snapshotVersion.compareTo(o)>=0)return i.Ds.saveNamedQuery(e,t);const s=r.withResumeToken(km.EMPTY_BYTE_STRING,o);return i.$i=i.$i.insert(s.targetId,s),i.Vs.updateTargetData(e,s).next(()=>i.Vs.removeMatchingKeysForTargetId(e,r.targetId)).next(()=>i.Vs.addMatchingKeys(e,n,r.targetId)).next(()=>i.Ds.saveNamedQuery(e,t))})})).apply(this,arguments)}function hC(e,t){return`firestore_clients_${e}_${t}`}function dC(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function fC(e,t){return`firestore_targets_${e}_${t}`}class pC{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static Ji(e,t,n){const r=JSON.parse(n);let i,o="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new Tg(r.error.code,r.error.message))),o?new pC(e,t,r.state,i):(yg("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class gC{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static Ji(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new Tg(n.error.code,n.error.message))),i?new gC(e,n.state,r):(yg("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class mC{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=$y();for(let o=0;r&&o<n.activeTargetIds.length;++o)r=Zm(n.activeTargetIds[o]),i=i.add(n.activeTargetIds[o]);return r?new mC(e,i):(yg("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class _C{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new _C(t.clientId,t.onlineState):(yg("SharedClientState",`Failed to parse online state: ${e}`),null)}}class yC{constructor(){this.activeTargetIds=$y()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class bC{constructor(e,t,n,r,i){this.window=e,this.js=t,this.persistenceKey=n,this.tr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Cm(Lg),this.started=!1,this.ir=[];const o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.rr=hC(this.persistenceKey,this.tr),this.ur=function(e){return`firestore_sequence_number_${e}`}(this.persistenceKey),this.sr=this.sr.insert(this.tr,new yC),this.cr=new RegExp(`^firestore_clients_${o}_([^_]*)$`),this.ar=new RegExp(`^firestore_mutations_${o}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${o}_(\\d+)$`),this.lr=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.dr=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static V(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,Os.Z)(function*(){const t=yield e.syncEngine.Ri();for(const r of t){if(r===e.tr)continue;const t=e.getItem(hC(e.persistenceKey,r));if(t){const n=mC.Ji(r,t);n&&(e.sr=e.sr.insert(n.clientId,n))}}e._r();const n=e.storage.getItem(e.lr);if(n){const t=e.wr(n);t&&e.mr(t)}for(const r of e.ir)e.nr(r);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,n){this.yr(e,t,n),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(fC(this.persistenceKey,e));if(n){const r=gC.Ji(e,n);r&&(t=r.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(fC(this.persistenceKey,e))}updateQueryState(e,t,n){this.Tr(e,t,n)}handleUserChange(e,t,n){t.forEach(e=>{this.pr(e)}),this.currentUser=e,n.forEach(e=>{this.addPendingMutation(e)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return _g("SharedClientState","READ",e,t),t}setItem(e,t){_g("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){_g("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const n=e;if(n.storageArea===this.storage){if(_g("SharedClientState","EVENT",n.key,n.newValue),n.key===this.rr)return void yg("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.js.enqueueRetryable((0,Os.Z)(function*(){if(t.started){if(null!==n.key)if(t.cr.test(n.key)){if(null==n.newValue){const e=t.Rr(n.key);return t.br(e,null)}{const e=t.Pr(n.key,n.newValue);if(e)return t.br(e.clientId,e)}}else if(t.ar.test(n.key)){if(null!==n.newValue){const e=t.vr(n.key,n.newValue);if(e)return t.Vr(e)}}else if(t.hr.test(n.key)){if(null!==n.newValue){const e=t.Sr(n.key,n.newValue);if(e)return t.Dr(e)}}else if(n.key===t.lr){if(null!==n.newValue){const e=t.wr(n.newValue);if(e)return t.mr(e)}}else if(n.key===t.ur){const e=function(e){let t=ym.ot;if(null!=e)try{const n=JSON.parse(e);Cg("number"==typeof n),t=n}catch(e){yg("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue);e!==ym.ot&&t.sequenceNumberHandler(e)}else if(n.key===t.dr){const e=t.Cr(n.newValue);yield Promise.all(e.map(e=>t.syncEngine.Nr(e)))}}else t.ir.push(n)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,n){const r=new pC(this.currentUser,e,t,n),i=dC(this.persistenceKey,this.currentUser,e);this.setItem(i,r.Yi())}pr(e){const t=dC(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,n){const r=fC(this.persistenceKey,e),i=new gC(e,t,n);this.setItem(r,i.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.cr.exec(e);return t?t[1]:null}Pr(e,t){const n=this.Rr(e);return mC.Ji(n,t)}vr(e,t){const n=this.ar.exec(e),r=Number(n[1]);return pC.Ji(new fg(void 0!==n[2]?n[2]:null),r,t)}Sr(e,t){const n=this.hr.exec(e),r=Number(n[1]);return gC.Ji(r,t)}wr(e){return _C.Ji(e)}Cr(e){return JSON.parse(e)}Vr(e){var t=this;return(0,Os.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);_g("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Or(e.targetId,e.state,e.error)}br(e,t){const n=t?this.sr.insert(e,t):this.sr.remove(e),r=this.gr(this.sr),i=this.gr(n),o=[],s=[];return i.forEach(e=>{r.has(e)||o.push(e)}),r.forEach(e=>{i.has(e)||s.push(e)}),this.syncEngine.Mr(o,s).then(()=>{this.sr=n})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=$y();return e.forEach((e,n)=>{t=t.unionWith(n.activeTargetIds)}),t}}class vC{constructor(){this.Fr=new yC,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,n){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new yC,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class wC{Br(e){}shutdown(){}}class CC{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Kr(),this.Gr=[],this.Qr()}Br(e){this.Gr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){_g("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Gr)e(0)}Kr(){_g("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Gr)e(1)}static V(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const OC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class PC{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class TC extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,n,r,i){const o=this.oo(e,t);_g("RestConnection","Sending: ",o,n);const s={};return this.uo(s,r,i),this.co(e,o,s,n).then(e=>(_g("RestConnection","Received: ",e),e),t=>{throw bg("RestConnection",`${e} failed with error: `,t,"url: ",o,"request:",n),t})}ao(e,t,n,r,i){return this.ro(e,t,n,r,i)}uo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+pg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((t,n)=>e[n]=t),n&&n.headers.forEach((t,n)=>e[n]=t)}oo(e,t){return`${this.so}/v1/${t}:${OC[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}co(e,t,n,r){return new Promise((i,o)=>{const s=new hg;s.listenOnce(sg.COMPLETE,()=>{try{switch(s.getLastErrorCode()){case og.NO_ERROR:const t=s.getResponseJson();_g("Connection","XHR received:",JSON.stringify(t)),i(t);break;case og.TIMEOUT:_g("Connection",'RPC "'+e+'" timed out'),o(new Tg(Pg.DEADLINE_EXCEEDED,"Request time out"));break;case og.HTTP_ERROR:const n=s.getStatus();if(_g("Connection",'RPC "'+e+'" failed with status:',n,"response text:",s.getResponseText()),n>0){const e=s.getResponseJson().error;if(e&&e.status&&e.message){const t=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(Pg).indexOf(t)>=0?t:Pg.UNKNOWN}(e.status);o(new Tg(t,e.message))}else o(new Tg(Pg.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Tg(Pg.UNAVAILABLE,"Connection failed."));break;default:wg()}}finally{_g("Connection",'RPC "'+e+'" completed.')}});const a=JSON.stringify(r);s.send(t,"POST",a,n,15)})}ho(e,t,n){const r=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=rg(),o=ig(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(s.xmlHttpFactory=new lg({})),this.uo(s.initMessageHeaders,t,n),(0,Ms.uI)()||(0,Ms.b$)()||(0,Ms.d)()||(0,Ms.w1)()||(0,Ms.Mn)()||(0,Ms.ru)()||(s.httpHeadersOverwriteParam="$httpHeaders");const a=r.join("");_g("Connection","Creating WebChannel: "+a,s);const c=i.createWebChannel(a,s);let l=!1,u=!1;const h=new PC({jr:e=>{u?_g("Connection","Not sending because WebChannel is closed:",e):(l||(_g("Connection","Opening WebChannel transport."),c.open(),l=!0),_g("Connection","WebChannel sending:",e),c.send(e))},Wr:()=>c.close()}),d=(e,t,n)=>{e.listen(t,e=>{try{n(e)}catch(e){setTimeout(()=>{throw e},0)}})};return d(c,ug.EventType.OPEN,()=>{u||_g("Connection","WebChannel transport opened.")}),d(c,ug.EventType.CLOSE,()=>{u||(u=!0,_g("Connection","WebChannel transport closed"),h.eo())}),d(c,ug.EventType.ERROR,e=>{u||(u=!0,bg("Connection","WebChannel transport errored:",e),h.eo(new Tg(Pg.UNAVAILABLE,"The operation could not be completed")))}),d(c,ug.EventType.MESSAGE,e=>{var t;if(!u){const n=e.data[0];Cg(!!n);const r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){_g("Connection","WebChannel received error:",i);const e=i.status;let t=function(e){const t=ky[e];if(void 0!==t)return Ay(t)}(e),n=i.message;void 0===t&&(t=Pg.INTERNAL,n="Unknown error status: "+e+" with message "+i.message),u=!0,h.eo(new Tg(t,n)),c.close()}else _g("Connection","WebChannel received:",n),h.no(n)}}),d(o,ag.STAT_EVENT,e=>{e.stat===cg.PROXY?_g("Connection","Detected buffering proxy"):e.stat===cg.NOPROXY&&_g("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.Zr()},0),h}}function MC(){return"undefined"!=typeof window?window:null}function SC(){return"undefined"!=typeof document?document:null}function IC(e){return new ib(e,!0)}class kC{constructor(e,t,n=1e3,r=1.5,i=6e4){this.js=e,this.timerId=t,this.lo=n,this.fo=r,this._o=i,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),n=Math.max(0,Date.now()-this.yo),r=Math.max(0,t-n);r>0&&_g("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.mo=this.js.enqueueAfterDelay(this.timerId,r,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class EC{constructor(e,t,n,r,i,o,s,a){this.js=e,this.Ao=n,this.Ro=r,this.bo=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=a,this.state=0,this.Po=0,this.vo=null,this.Vo=null,this.stream=null,this.So=new kC(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,Os.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.vo&&(this.vo=this.js.enqueueAfterDelay(this.Ao,6e4,()=>this.Oo()))}Mo(e){this.Fo(),this.stream.send(e)}Oo(){var e=this;return(0,Os.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.vo&&(this.vo.cancel(),this.vo=null)}$o(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}close(e,t){var n=this;return(0,Os.Z)(function*(){n.Fo(),n.$o(),n.So.cancel(),n.Po++,4!==e?n.So.reset():t&&t.code===Pg.RESOURCE_EXHAUSTED?(yg(t.toString()),yg("Using maximum backoff delay to prevent overloading the backend."),n.So.po()):t&&t.code===Pg.UNAUTHENTICATED&&3!==n.state&&(n.authCredentialsProvider.invalidateToken(),n.appCheckCredentialsProvider.invalidateToken()),null!==n.stream&&(n.Bo(),n.stream.close(),n.stream=null),n.state=e,yield n.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([e,n])=>{this.Po===t&&this.Uo(e,n)},t=>{e(()=>{const e=new Tg(Pg.UNKNOWN,"Fetching auth token failed: "+t.message);return this.qo(e)})})}Uo(e,t){const n=this.Lo(this.Po);this.stream=this.Ko(e,t),this.stream.zr(()=>{n(()=>(this.state=2,this.Vo=this.js.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(e=>{n(()=>this.qo(e))}),this.stream.onMessage(e=>{n(()=>this.onMessage(e))})}xo(){var e=this;this.state=5,this.So.Io((0,Os.Z)(function*(){e.state=0,e.start()}))}qo(e){return _g("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.js.enqueueAndForget(()=>this.Po===e?t():(_g("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class xC extends EC{constructor(e,t,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,o),this.wt=i}Ko(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function(e,t){let n;if("targetChange"in t){const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:wg()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=function(e,t){return e.dt?(Cg(void 0===t||"string"==typeof t),km.fromBase64String(t||"")):(Cg(void 0===t||t instanceof Uint8Array),km.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),s=t.targetChange.cause,a=s&&function(e){const t=void 0===e.code?Pg.UNKNOWN:Ay(e.code);return new Tg(t,e.message||"")}(s);n=new Qy(r,i,o,a||null)}else if("documentChange"in t){const r=t.documentChange,i=db(e,r.document.name),o=cb(r.document.updateTime),s=new l_({mapValue:{fields:r.document.fields}}),a=h_.newFoundDocument(i,o,s);n=new Ky(r.targetIds||[],r.removedTargetIds||[],a.key,a)}else if("documentDelete"in t){const r=t.documentDelete,i=db(e,r.document),o=r.readTime?cb(r.readTime):Zg.min(),s=h_.newNoDocument(i,o);n=new Ky([],r.removedTargetIds||[],s.key,s)}else if("documentRemove"in t){const r=t.documentRemove,i=db(e,r.document);n=new Ky([],r.removedTargetIds||[],i,null)}else{if(!("filter"in t))return wg();{const e=t.filter,r=new Iy(e.count||0);n=new Yy(e.targetId,r)}}return n}(this.wt,e),n=function(e){if(!("targetChange"in e))return Zg.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Zg.min():t.readTime?cb(t.readTime):Zg.min()}(e);return this.listener.Go(t,n)}Qo(e){const t={};t.database=gb(this.wt),t.addTarget=function(e,t){let n;const r=t.target;return n=m_(r)?{documents:wb(e,r)}:{query:Cb(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=sb(e,t.resumeToken):t.snapshotVersion.compareTo(Zg.min())>0&&(n.readTime=ob(e,t.snapshotVersion.toTimestamp())),n}(this.wt,e);const n=function(e,t){const n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return wg()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(0,e);n&&(t.labels=n),this.Mo(t)}jo(e){const t={};t.database=gb(this.wt),t.removeTarget=e,this.Mo(t)}}class AC extends EC{constructor(e,t,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,o),this.wt=i,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Ko(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(Cg(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function(e,t){return e&&e.length>0?(Cg(void 0!==t),e.map(e=>function(e,t){let n=cb(e.updateTime?e.updateTime:t);return n.isEqual(Zg.min())&&(n=cb(t)),new dy(n,e.transformResults||[])}(e,t))):[]}(e.writeResults,e.commitTime),n=cb(e.commitTime);return this.listener.Jo(n,t)}return Cg(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=gb(this.wt),this.Mo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(e=>bb(this.wt,e))};this.Mo(t)}}class DC extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=n,this.wt=r,this.Zo=!1}tu(){if(this.Zo)throw new Tg(Pg.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,n){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.bo.ro(e,t,n,r,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Pg.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Tg(Pg.UNKNOWN,e.toString())})}ao(e,t,n){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.bo.ao(e,t,n,r,i)).catch(e=>{throw"FirebaseError"===e.name?(e.code===Pg.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new Tg(Pg.UNKNOWN,e.toString())})}terminate(){this.Zo=!0}}class NC{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.cu(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.cu(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(yg(t),this.su=!1):_g("OnlineStateTracker",t)}cu(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class RC{constructor(e,t,n,r,i){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.au=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=i,this.du.Br(e=>{n.enqueueAndForget((0,Os.Z)(function*(){var e;$C(o)&&(_g("RemoteStore","Restarting streams for network reachability change."),yield(e=(0,Os.Z)(function*(e){const t=Og(e);t.lu.add(4),yield qC(t),t._u.set("Unknown"),t.lu.delete(4),yield FC(t)}),function(t){return e.apply(this,arguments)})(o))}))}),this._u=new NC(n,r)}}function FC(e){return LC.apply(this,arguments)}function LC(){return(LC=(0,Os.Z)(function*(e){if($C(e))for(const t of e.fu)yield t(!0)})).apply(this,arguments)}function qC(e){return UC.apply(this,arguments)}function UC(){return(UC=(0,Os.Z)(function*(e){for(const t of e.fu)yield t(!1)})).apply(this,arguments)}function VC(e,t){const n=Og(e);n.hu.has(t.targetId)||(n.hu.set(t.targetId,t),HC(n)?zC(n):wO(n).Co()&&jC(n,t))}function ZC(e,t){const n=Og(e),r=wO(n);n.hu.delete(t),r.Co()&&BC(n,t),0===n.hu.size&&(r.Co()?r.ko():$C(n)&&n._u.set("Unknown"))}function jC(e,t){e.wu.Nt(t.targetId),wO(e).Qo(t)}function BC(e,t){e.wu.Nt(t),wO(e).jo(t)}function zC(e){e.wu=new Xy({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),te:t=>e.hu.get(t)||null}),wO(e).start(),e._u.iu()}function HC(e){return $C(e)&&!wO(e).Do()&&e.hu.size>0}function $C(e){return 0===Og(e).lu.size}function GC(e){e.wu=void 0}function WC(e){return KC.apply(this,arguments)}function KC(){return(KC=(0,Os.Z)(function*(e){e.hu.forEach((t,n)=>{jC(e,t)})})).apply(this,arguments)}function YC(e,t){return QC.apply(this,arguments)}function QC(){return(QC=(0,Os.Z)(function*(e,t){GC(e),HC(e)?(e._u.uu(t),zC(e)):e._u.set("Unknown")})).apply(this,arguments)}function JC(e,t,n){return XC.apply(this,arguments)}function XC(){return(XC=(0,Os.Z)(function*(e,t,n){if(e._u.set("Online"),t instanceof Qy&&2===t.state&&t.cause)try{yield(r=(0,Os.Z)(function*(e,t){const n=t.cause;for(const r of t.targetIds)e.hu.has(r)&&(yield e.remoteSyncer.rejectListen(r,n),e.hu.delete(r),e.wu.removeTarget(r))}),function(e,t){return r.apply(this,arguments)})(e,t)}catch(n){_g("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),yield eO(e,n)}else if(t instanceof Ky?e.wu.Ut(t):t instanceof Yy?e.wu.zt(t):e.wu.Gt(t),!n.isEqual(Zg.min()))try{const t=yield Qw(e.localStore);n.compareTo(t)>=0&&(yield function(e,t){const n=e.wu.Yt(t);return n.targetChanges.forEach((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.hu.get(r);i&&e.hu.set(r,i.withResumeToken(n.resumeToken,t))}}),n.targetMismatches.forEach(t=>{const n=e.hu.get(t);if(!n)return;e.hu.set(t,n.withResumeToken(km.EMPTY_BYTE_STRING,n.snapshotVersion)),BC(e,t);const r=new hv(n.target,t,1,n.sequenceNumber);jC(e,r)}),e.remoteSyncer.applyRemoteEvent(n)}(e,n))}catch(t){_g("RemoteStore","Failed to raise snapshot:",t),yield eO(e,t)}var r})).apply(this,arguments)}function eO(e,t,n){return tO.apply(this,arguments)}function tO(){return(tO=(0,Os.Z)(function*(e,t,n){if(!hm(t))throw t;e.lu.add(1),yield qC(e),e._u.set("Offline"),n||(n=()=>Qw(e.localStore)),e.asyncQueue.enqueueRetryable((0,Os.Z)(function*(){_g("RemoteStore","Retrying IndexedDB access"),yield n(),e.lu.delete(1),yield FC(e)}))})).apply(this,arguments)}function nO(e,t){return t().catch(n=>eO(e,n,t))}function rO(e){return iO.apply(this,arguments)}function iO(){return(iO=(0,Os.Z)(function*(e){const t=Og(e),n=CO(t);let r=t.au.length>0?t.au[t.au.length-1].batchId:-1;for(;oO(t);)try{const e=yield eC(t.localStore,r);if(null===e){0===t.au.length&&n.ko();break}r=e.batchId,sO(t,e)}catch(e){yield eO(t,e)}aO(t)&&cO(t)})).apply(this,arguments)}function oO(e){return $C(e)&&e.au.length<10}function sO(e,t){e.au.push(t);const n=CO(e);n.Co()&&n.zo&&n.Ho(t.mutations)}function aO(e){return $C(e)&&!CO(e).Do()&&e.au.length>0}function cO(e){CO(e).start()}function lO(e){return uO.apply(this,arguments)}function uO(){return(uO=(0,Os.Z)(function*(e){CO(e).Xo()})).apply(this,arguments)}function hO(e){return dO.apply(this,arguments)}function dO(){return(dO=(0,Os.Z)(function*(e){const t=CO(e);for(const n of e.au)t.Ho(n.mutations)})).apply(this,arguments)}function fO(e,t,n){return pO.apply(this,arguments)}function pO(){return(pO=(0,Os.Z)(function*(e,t,n){const r=e.au.shift(),i=lv.from(r,t,n);yield nO(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),yield rO(e)})).apply(this,arguments)}function gO(e,t){return mO.apply(this,arguments)}function mO(){return(mO=(0,Os.Z)(function*(e,t){var n;t&&CO(e).zo&&(yield(n=(0,Os.Z)(function*(e,t){if(xy(n=t.code)&&n!==Pg.ABORTED){const n=e.au.shift();CO(e).No(),yield nO(e,()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t)),yield rO(e)}var n}),function(e,t){return n.apply(this,arguments)})(e,t)),aO(e)&&cO(e)})).apply(this,arguments)}function _O(e,t){return yO.apply(this,arguments)}function yO(){return(yO=(0,Os.Z)(function*(e,t){const n=Og(e);n.asyncQueue.verifyOperationInProgress(),_g("RemoteStore","RemoteStore received new credentials");const r=$C(n);n.lu.add(3),yield qC(n),r&&n._u.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(t),n.lu.delete(3),yield FC(n)})).apply(this,arguments)}function bO(e,t){return vO.apply(this,arguments)}function vO(){return(vO=(0,Os.Z)(function*(e,t){const n=Og(e);t?(n.lu.delete(2),yield FC(n)):t||(n.lu.add(2),yield qC(n),n._u.set("Unknown"))})).apply(this,arguments)}function wO(e){return e.mu||(e.mu=function(e,t,n){const r=Og(e);return r.tu(),new xC(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:WC.bind(null,e),Jr:YC.bind(null,e),Go:JC.bind(null,e)}),e.fu.push(function(){var t=(0,Os.Z)(function*(t){t?(e.mu.No(),HC(e)?zC(e):e._u.set("Unknown")):(yield e.mu.stop(),GC(e))});return function(e){return t.apply(this,arguments)}}())),e.mu}function CO(e){return e.gu||(e.gu=function(e,t,n){const r=Og(e);return r.tu(),new AC(t,r.bo,r.authCredentials,r.appCheckCredentials,r.wt,n)}(e.datastore,e.asyncQueue,{zr:lO.bind(null,e),Jr:gO.bind(null,e),Yo:hO.bind(null,e),Jo:fO.bind(null,e)}),e.fu.push(function(){var t=(0,Os.Z)(function*(t){t?(e.gu.No(),yield rO(e)):(yield e.gu.stop(),e.au.length>0&&(_g("RemoteStore",`Stopping write stream with ${e.au.length} pending writes`),e.au=[]))});return function(e){return t.apply(this,arguments)}}())),e.gu}class OO{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Mg,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(e=>{})}static createAndSchedule(e,t,n,r,i){const o=Date.now()+n,s=new OO(e,t,o,r,i);return s.start(n),s}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Tg(Pg.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function PO(e,t){if(yg("AsyncQueue",`${t}: ${e}`),hm(e))return new Tg(Pg.UNAVAILABLE,`${t}: ${e}`);throw e}class TO{constructor(e){this.comparator=e?(t,n)=>e(t,n)||$g.comparator(t.key,n.key):(e,t)=>$g.comparator(e.key,t.key),this.keyedMap=Ly(),this.sortedSet=new Cm(this.comparator)}static emptySet(e){return new TO(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,n)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof TO))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new TO;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class MO{constructor(){this.yu=new Cm($g.comparator)}track(e){const t=e.doc.key,n=this.yu.get(t);n?0!==e.type&&3===n.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==n.type?this.yu=this.yu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.yu=this.yu.remove(t):1===e.type&&2===n.type?this.yu=this.yu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):wg():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,n)=>{e.push(n)}),e}}class SO{constructor(e,t,n,r,i,o,s,a){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=a}static fromInitialDocuments(e,t,n,r){const i=[];return t.forEach(e=>{i.push({type:0,doc:e})}),new SO(e,t,TO.emptySet(t),i,n,r,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&B_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class IO{constructor(){this.Iu=void 0,this.listeners=[]}}class kO{constructor(){this.queries=new Dy(e=>z_(e),B_),this.onlineState="Unknown",this.Tu=new Set}}function EO(e,t){return xO.apply(this,arguments)}function xO(){return(xO=(0,Os.Z)(function*(e,t){const n=Og(e),r=t.query;let i=!1,o=n.queries.get(r);if(o||(i=!0,o=new IO),i)try{o.Iu=yield n.onListen(r)}catch(e){const n=PO(e,`Initialization of query '${H_(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,o),o.listeners.push(t),t.Eu(n.onlineState),o.Iu&&t.Au(o.Iu)&&FO(n)})).apply(this,arguments)}function AO(e,t){return DO.apply(this,arguments)}function DO(){return(DO=(0,Os.Z)(function*(e,t){const n=Og(e),r=t.query;let i=!1;const o=n.queries.get(r);if(o){const e=o.listeners.indexOf(t);e>=0&&(o.listeners.splice(e,1),i=0===o.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)})).apply(this,arguments)}function NO(e,t){const n=Og(e);let r=!1;for(const i of t){const e=n.queries.get(i.query);if(e){for(const t of e.listeners)t.Au(i)&&(r=!0);e.Iu=i}}r&&FO(n)}function RO(e,t,n){const r=Og(e),i=r.queries.get(t);if(i)for(const o of i.listeners)o.onError(n);r.queries.delete(t)}function FO(e){e.Tu.forEach(e=>{e.next()})}class LO{constructor(e,t,n){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=n||{}}Au(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new SO(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.vu(e)&&(this.Ru.next(e),t=!0):this.Vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.Vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}Vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=SO.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class qO{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class UO{constructor(e){this.wt=e}Wi(e){return db(this.wt,e)}zi(e){return e.metadata.exists?yb(this.wt,e.document,!1):h_.newNoDocument(this.Wi(e.metadata.name),this.Hi(e.metadata.readTime))}Hi(e){return cb(e)}}class VO{constructor(e,t,n){this.xu=e,this.localStore=t,this.wt=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=ZO(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const n=Bg.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,n=new UO(this.wt);for(const r of e)if(r.metadata.queries){const e=n.Wi(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||zy()).add(e);t.set(n,r)}}return t}complete(){var e=this;return(0,Os.Z)(function*(){const t=yield function(e,t,n,r){return cC.apply(this,arguments)}(e.localStore,new UO(e.wt),e.documents,e.xu.id),n=e.ku(e.documents);for(const r of e.queries)yield lC(e.localStore,r,n.get(r.name));return e.progress.taskState="Success",{progress:e.progress,Ou:e.collectionGroups,Mu:t}})()}}function ZO(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}class jO{constructor(e){this.key=e}}class BO{constructor(e){this.key=e}}class zO{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=zy(),this.mutatedKeys=zy(),this.Lu=W_(e),this.Uu=new TO(this.Lu)}get qu(){return this.Fu}Ku(e,t){const n=t?t.Gu:new MO,r=t?t.Uu:this.Uu;let i=t?t.mutatedKeys:this.mutatedKeys,o=r,s=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,c="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((e,t)=>{const l=r.get(e),u=$_(this.query,t)?t:null,h=!!l&&this.mutatedKeys.has(l.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let f=!1;l&&u?l.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),f=!0):this.Qu(l,u)||(n.track({type:2,doc:u}),f=!0,(a&&this.Lu(u,a)>0||c&&this.Lu(u,c)<0)&&(s=!0)):!l&&u?(n.track({type:0,doc:u}),f=!0):l&&!u&&(n.track({type:1,doc:l}),f=!0,(a||c)&&(s=!0)),f&&(u?(o=o.add(u),i=d?i.add(e):i.delete(e)):(o=o.delete(e),i=i.delete(e)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const e="F"===this.query.limitType?o.last():o.first();o=o.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{Uu:o,Gu:n,Oi:s,mutatedKeys:i}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const i=e.Gu.pu();i.sort((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return wg()}};return n(e)-n(t)}(e.type,t.type)||this.Lu(e.doc,t.doc)),this.ju(n);const o=t?this.Wu():[],s=0===this.Bu.size&&this.current?1:0,a=s!==this.$u;return this.$u=s,0!==i.length||a?{snapshot:new SO(this.query,e.Uu,r,i,e.mutatedKeys,0===s,a,!1),zu:o}:{zu:o}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Gu:new MO,mutatedKeys:this.mutatedKeys,Oi:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(e=>this.Fu=this.Fu.add(e)),e.modifiedDocuments.forEach(e=>{}),e.removedDocuments.forEach(e=>this.Fu=this.Fu.delete(e)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=zy(),this.Uu.forEach(e=>{this.Hu(e.key)&&(this.Bu=this.Bu.add(e.key))});const t=[];return e.forEach(e=>{this.Bu.has(e)||t.push(new BO(e))}),this.Bu.forEach(n=>{e.has(n)||t.push(new jO(n))}),t}Ju(e){this.Fu=e.ji,this.Bu=zy();const t=this.Ku(e.documents);return this.applyChanges(t,!0)}Yu(){return SO.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class HO{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class $O{constructor(e){this.key=e,this.Xu=!1}}class GO{constructor(e,t,n,r,i,o){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Zu={},this.tc=new Dy(e=>z_(e),B_),this.ec=new Map,this.nc=new Set,this.sc=new Cm($g.comparator),this.ic=new Map,this.rc=new Iw,this.oc={},this.uc=new Map,this.cc=iw.Rn(),this.onlineState="Unknown",this.ac=void 0}get isPrimaryClient(){return!0===this.ac}}function WO(e,t){return KO.apply(this,arguments)}function KO(){return(KO=(0,Os.Z)(function*(e,t){const n=qP(e);let r,i;const o=n.tc.get(t);if(o)r=o.targetId,n.sharedClientState.addLocalQueryTarget(r),i=o.view.Yu();else{const e=yield tC(n.localStore,Z_(t));n.isPrimaryClient&&VC(n.remoteStore,e);const o=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=yield YO(n,t,r,"current"===o)}return i})).apply(this,arguments)}function YO(e,t,n,r){return QO.apply(this,arguments)}function QO(){return(QO=(0,Os.Z)(function*(e,t,n,r){e.hc=(t,n,r)=>{return(i=(0,Os.Z)(function*(e,t,n,r){let i=t.view.Ku(n);i.Oi&&(i=yield iC(e.localStore,t.query,!1).then(({documents:e})=>t.view.Ku(e,i)));const o=r&&r.targetChanges.get(t.targetId),s=t.view.applyChanges(i,e.isPrimaryClient,o);return gP(e,t.targetId,s.zu),s.snapshot}),function(e,t,n,r){return i.apply(this,arguments)})(e,t,n,r);var i};const i=yield iC(e.localStore,t,!0),o=new zO(t,i.ji),s=o.Ku(i.documents),a=Wy.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState),c=o.applyChanges(s,e.isPrimaryClient,a);gP(e,n,c.zu);const l=new HO(t,n,o);return e.tc.set(t,l),e.ec.has(n)?e.ec.get(n).push(t):e.ec.set(n,[t]),c.snapshot})).apply(this,arguments)}function JO(e,t){return XO.apply(this,arguments)}function XO(){return(XO=(0,Os.Z)(function*(e,t){const n=Og(e),r=n.tc.get(t),i=n.ec.get(r.targetId);if(i.length>1)return n.ec.set(r.targetId,i.filter(e=>!B_(e,t))),void n.tc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||(yield nC(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),ZC(n.remoteStore,r.targetId),fP(n,r.targetId)}).catch(im))):(fP(n,r.targetId),yield nC(n.localStore,r.targetId,!0))})).apply(this,arguments)}function eP(){return(eP=(0,Os.Z)(function*(e,t,n){const r=UP(e);try{const e=yield function(e,t){const n=Og(e),r=Vg.now(),i=t.reduce((e,t)=>e.add(t.key),zy());let o,s;return n.persistence.runTransaction("Locally write mutations","readwrite",e=>{let a=Ry(),c=zy();return n.Ui.getEntries(e,i).next(e=>{a=e,a.forEach((e,t)=>{t.isValidDocument()||(c=c.add(e))})}).next(()=>n.localDocuments.getOverlayedDocuments(e,a)).next(i=>{o=i;const s=[];for(const e of t){const t=by(e,o.get(e.key).overlayedDocument);null!=t&&s.push(new Cy(e.key,t,u_(t.value.mapValue),fy.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,s,t)}).next(t=>{s=t;const r=t.applyToLocalDocumentSet(o,c);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)})}).then(()=>({batchId:s.batchId,changes:qy(o)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.oc[e.currentUser.toKey()];r||(r=new Cm(Lg)),r=r.insert(t,n),e.oc[e.currentUser.toKey()]=r}(r,e.batchId,n),yield yP(r,e.changes),yield rO(r.remoteStore)}catch(e){const t=PO(e,"Failed to persist write");n.reject(t)}})).apply(this,arguments)}function tP(e,t){return nP.apply(this,arguments)}function nP(){return(nP=(0,Os.Z)(function*(e,t){const n=Og(e);try{const e=yield Jw(n.localStore,t);t.targetChanges.forEach((e,t)=>{const r=n.ic.get(t);r&&(Cg(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Xu=!0:e.modifiedDocuments.size>0?Cg(r.Xu):e.removedDocuments.size>0&&(Cg(r.Xu),r.Xu=!1))}),yield yP(n,e,t)}catch(e){yield im(e)}})).apply(this,arguments)}function rP(e,t,n){const r=Og(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.tc.forEach((n,r)=>{const i=r.view.Eu(t);i.snapshot&&e.push(i.snapshot)}),function(e,t){const n=Og(e);n.onlineState=t;let r=!1;n.queries.forEach((e,n)=>{for(const i of n.listeners)i.Eu(t)&&(r=!0)}),r&&FO(n)}(r.eventManager,t),e.length&&r.Zu.Go(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function iP(e,t,n){return oP.apply(this,arguments)}function oP(){return(oP=(0,Os.Z)(function*(e,t,n){const r=Og(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.ic.get(t),o=i&&i.key;if(o){let e=new Cm($g.comparator);e=e.insert(o,h_.newNoDocument(o,Zg.min()));const n=zy().add(o),i=new Gy(Zg.min(),new Map,new Tm(Lg),e,n);yield tP(r,i),r.sc=r.sc.remove(o),r.ic.delete(t),_P(r)}else yield nC(r.localStore,t,!1).then(()=>fP(r,t,n)).catch(im)})).apply(this,arguments)}function sP(e,t){return aP.apply(this,arguments)}function aP(){return(aP=(0,Os.Z)(function*(e,t){const n=Og(e),r=t.batch.batchId;try{const e=yield Yw(n.localStore,t);dP(n,r,null),hP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield yP(n,e)}catch(e){yield im(e)}})).apply(this,arguments)}function cP(e,t,n){return lP.apply(this,arguments)}function lP(){return(lP=(0,Os.Z)(function*(e,t,n){const r=Og(e);try{const e=yield function(e,t){const n=Og(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next(t=>(Cg(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t))).next(()=>n.mutationQueue.performConsistencyCheck(e)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)).next(()=>n.localDocuments.getDocuments(e,r))})}(r.localStore,t);dP(r,t,n),hP(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),yield yP(r,e)}catch(n){yield im(n)}})).apply(this,arguments)}function uP(){return(uP=(0,Os.Z)(function*(e,t){const n=Og(e);$C(n.remoteStore)||_g("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=yield function(e){const t=Og(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e))}(n.localStore);if(-1===e)return void t.resolve();const r=n.uc.get(e)||[];r.push(t),n.uc.set(e,r)}catch(e){const n=PO(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}})).apply(this,arguments)}function hP(e,t){(e.uc.get(t)||[]).forEach(e=>{e.resolve()}),e.uc.delete(t)}function dP(e,t,n){const r=Og(e);let i=r.oc[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.oc[r.currentUser.toKey()]=i}}function fP(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.ec.get(t))e.tc.delete(r),n&&e.Zu.lc(r,n);e.ec.delete(t),e.isPrimaryClient&&e.rc.us(t).forEach(t=>{e.rc.containsKey(t)||pP(e,t)})}function pP(e,t){e.nc.delete(t.path.canonicalString());const n=e.sc.get(t);null!==n&&(ZC(e.remoteStore,n),e.sc=e.sc.remove(t),e.ic.delete(n),_P(e))}function gP(e,t,n){for(const r of n)r instanceof jO?(e.rc.addReference(r.key,t),mP(e,r)):r instanceof BO?(_g("SyncEngine","Document no longer in limbo: "+r.key),e.rc.removeReference(r.key,t),e.rc.containsKey(r.key)||pP(e,r.key)):wg()}function mP(e,t){const n=t.key,r=n.path.canonicalString();e.sc.get(n)||e.nc.has(r)||(_g("SyncEngine","New document in limbo: "+n),e.nc.add(r),_P(e))}function _P(e){for(;e.nc.size>0&&e.sc.size<e.maxConcurrentLimboResolutions;){const t=e.nc.values().next().value;e.nc.delete(t);const n=new $g(Bg.fromString(t)),r=e.cc.next();e.ic.set(r,new $O(n)),e.sc=e.sc.insert(n,r),VC(e.remoteStore,new hv(Z_(F_(n.path)),r,2,ym.ot))}}function yP(e,t,n){return bP.apply(this,arguments)}function bP(){return(bP=(0,Os.Z)(function*(e,t,n){const r=Og(e),i=[],o=[],s=[];var a;r.tc.isEmpty()||(r.tc.forEach((e,a)=>{s.push(r.hc(a,t,n).then(e=>{if(e){r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,e.fromCache?"not-current":"current"),i.push(e);const t=zw.Vi(a.targetId,e);o.push(t)}}))}),yield Promise.all(s),r.Zu.Go(i),yield(a=(0,Os.Z)(function*(e,t){const n=Og(e);try{yield n.persistence.runTransaction("notifyLocalViewChanges","readwrite",e=>sm.forEach(t,t=>sm.forEach(t.Pi,r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r)).next(()=>sm.forEach(t.vi,r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))}catch(e){if(!hm(e))throw e;_g("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.$i.get(e),r=t.withLastLimboFreeSnapshotVersion(t.snapshotVersion);n.$i=n.$i.insert(e,r)}}}),function(e,t){return a.apply(this,arguments)})(r.localStore,o))})).apply(this,arguments)}function vP(e,t){return wP.apply(this,arguments)}function wP(){return(wP=(0,Os.Z)(function*(e,t){const n=Og(e);if(!n.currentUser.isEqual(t)){_g("SyncEngine","User change. New user:",t.toKey());const e=yield Ww(n.localStore,t);n.currentUser=t,function(e,t){e.uc.forEach(e=>{e.forEach(e=>{e.reject(new Tg(Pg.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),e.uc.clear()}(n),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),yield yP(n,e.Ki)}})).apply(this,arguments)}function CP(e,t){const n=Og(e),r=n.ic.get(t);if(r&&r.Xu)return zy().add(r.key);{let e=zy();const r=n.ec.get(t);if(!r)return e;for(const t of r){const r=n.tc.get(t);e=e.unionWith(r.view.qu)}return e}}function OP(e,t){return PP.apply(this,arguments)}function PP(){return(PP=(0,Os.Z)(function*(e,t){const n=Og(e),r=yield iC(n.localStore,t.query,!0),i=t.view.Ju(r);return n.isPrimaryClient&&gP(n,t.targetId,i.zu),i})).apply(this,arguments)}function TP(e,t){return MP.apply(this,arguments)}function MP(){return(MP=(0,Os.Z)(function*(e,t){const n=Og(e);return sC(n.localStore,t).then(e=>yP(n,e))})).apply(this,arguments)}function SP(e,t,n,r){return IP.apply(this,arguments)}function IP(){return(IP=(0,Os.Z)(function*(e,t,n,r){const i=Og(e),o=yield function(e,t){const n=Og(e),r=Og(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",e=>r.yn(e,t).next(t=>t?n.localDocuments.getDocuments(e,t):sm.resolve(null)))}(i.localStore,t);null!==o?("pending"===n?yield rO(i.remoteStore):"acknowledged"===n||"rejected"===n?(dP(i,t,r||null),hP(i,t),function(e,t){Og(Og(e).mutationQueue).In(t)}(i.localStore,t)):wg(),yield yP(i,o)):_g("SyncEngine","Cannot apply mutation batch with id: "+t)})).apply(this,arguments)}function kP(){return(kP=(0,Os.Z)(function*(e,t){const n=Og(e);if(qP(n),UP(n),!0===t&&!0!==n.ac){const e=n.sharedClientState.getAllActiveQueryTargets(),t=yield EP(n,e.toArray());n.ac=!0,yield bO(n.remoteStore,!0);for(const r of t)VC(n.remoteStore,r)}else if(!1===t&&!1!==n.ac){const e=[];let t=Promise.resolve();n.ec.forEach((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then(()=>(fP(n,i),nC(n.localStore,i,!0))),ZC(n.remoteStore,i)}),yield t,yield EP(n,e),function(e){const t=Og(e);t.ic.forEach((e,n)=>{ZC(t.remoteStore,n)}),t.rc.cs(),t.ic=new Map,t.sc=new Cm($g.comparator)}(n),n.ac=!1,yield bO(n.remoteStore,!1)}})).apply(this,arguments)}function EP(e,t,n){return xP.apply(this,arguments)}function xP(){return(xP=(0,Os.Z)(function*(e,t,n){const r=Og(e),i=[],o=[];for(const s of t){let e;const t=r.ec.get(s);if(t&&0!==t.length){e=yield tC(r.localStore,Z_(t[0]));for(const e of t){const t=r.tc.get(e),n=yield OP(r,t);n.snapshot&&o.push(n.snapshot)}}else{const t=yield oC(r.localStore,s);e=yield tC(r.localStore,t),yield YO(r,AP(t),s,!1)}i.push(e)}return r.Zu.Go(o),i})).apply(this,arguments)}function AP(e){return R_(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function DP(e){const t=Og(e);return Og(Og(t.localStore).persistence).Ri()}function NP(e,t,n,r){return RP.apply(this,arguments)}function RP(){return(RP=(0,Os.Z)(function*(e,t,n,r){const i=Og(e);if(i.ac)return void _g("SyncEngine","Ignoring unexpected query state notification.");const o=i.ec.get(t);if(o&&o.length>0)switch(n){case"current":case"not-current":{const e=yield sC(i.localStore,G_(o[0])),r=Gy.createSynthesizedRemoteEventForCurrentChange(t,"current"===n);yield yP(i,e,r);break}case"rejected":yield nC(i.localStore,t,!0),fP(i,t,r);break;default:wg()}})).apply(this,arguments)}function FP(e,t,n){return LP.apply(this,arguments)}function LP(){return(LP=(0,Os.Z)(function*(e,t,n){const r=qP(e);if(r.ac){for(const e of t){if(r.ec.has(e)){_g("SyncEngine","Adding an already active target "+e);continue}const t=yield oC(r.localStore,e),n=yield tC(r.localStore,t);yield YO(r,AP(t),n.targetId,!1),VC(r.remoteStore,n)}for(const e of n)r.ec.has(e)&&(yield nC(r.localStore,e,!1).then(()=>{ZC(r.remoteStore,e),fP(r,e)}).catch(im))}})).apply(this,arguments)}function qP(e){const t=Og(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=tP.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=CP.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=iP.bind(null,t),t.Zu.Go=NO.bind(null,t.eventManager),t.Zu.lc=RO.bind(null,t.eventManager),t}function UP(e){const t=Og(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=sP.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=cP.bind(null,t),t}class VP{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,Os.Z)(function*(){t.wt=IC(e.databaseInfo.databaseId),t.sharedClientState=t.dc(e),t.persistence=t._c(e),yield t.persistence.start(),t.localStore=t.wc(e),t.gcScheduler=t.mc(e,t.localStore),t.indexBackfillerScheduler=t.gc(e,t.localStore)})()}mc(e,t){return null}gc(e,t){return null}wc(e){return Gw(this.persistence,new Hw,e.initialUser,this.wt)}_c(e){return new Nw(Fw.Ms,this.wt)}dc(e){return new vC}terminate(){var e=this;return(0,Os.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class ZP extends VP{constructor(e,t,n){super(),this.yc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,n=this;return(0,Os.Z)(function*(){yield t().call(n,e),yield n.yc.initialize(n,e),yield UP(n.yc.syncEngine),yield rO(n.yc.remoteStore),yield n.persistence.ci(()=>(n.gcScheduler&&!n.gcScheduler.started&&n.gcScheduler.start(),n.indexBackfillerScheduler&&!n.indexBackfillerScheduler.started&&n.indexBackfillerScheduler.start(),Promise.resolve()))})()}wc(e){return Gw(this.persistence,new Hw,e.initialUser,this.wt)}mc(e,t){return new hw(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}gc(e,t){const n=new _m(t,this.persistence);return new mm(e.asyncQueue,n)}_c(e){const t=Bw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?Yv.withCacheSize(this.cacheSizeBytes):Yv.DEFAULT;return new Vw(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,MC(),SC(),this.wt,this.sharedClientState,!!this.forceOwnership)}dc(e){return new vC}}class jP extends ZP{constructor(e,t){super(e,t,!1),this.yc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,n=this;return(0,Os.Z)(function*(){yield t().call(n,e);const r=n.yc.syncEngine;n.sharedClientState instanceof bC&&(n.sharedClientState.syncEngine={kr:SP.bind(null,r),Or:NP.bind(null,r),Mr:FP.bind(null,r),Ri:DP.bind(null,r),Nr:TP.bind(null,r)},yield n.sharedClientState.start()),yield n.persistence.ci(function(){var e=(0,Os.Z)(function*(e){yield function(e,t){return kP.apply(this,arguments)}(n.yc.syncEngine,e),n.gcScheduler&&(e&&!n.gcScheduler.started?n.gcScheduler.start():e||n.gcScheduler.stop()),n.indexBackfillerScheduler&&(e&&!n.indexBackfillerScheduler.started?n.indexBackfillerScheduler.start():e||n.indexBackfillerScheduler.stop())});return function(t){return e.apply(this,arguments)}}())})()}dc(e){const t=MC();if(!bC.V(t))throw new Tg(Pg.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=Bw(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new bC(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class BP{initialize(e,t){var n=this;return(0,Os.Z)(function*(){n.localStore||(n.localStore=e.localStore,n.sharedClientState=e.sharedClientState,n.datastore=n.createDatastore(t),n.remoteStore=n.createRemoteStore(t),n.eventManager=n.createEventManager(t),n.syncEngine=n.createSyncEngine(t,!e.synchronizeTabs),n.sharedClientState.onlineStateHandler=e=>rP(n.syncEngine,e,1),n.remoteStore.remoteSyncer.handleCredentialChange=vP.bind(null,n.syncEngine),yield bO(n.remoteStore,n.syncEngine.isPrimaryClient))})()}createEventManager(e){return new kO}createDatastore(e){const t=IC(e.databaseInfo.databaseId),n=new TC(e.databaseInfo);return function(e,t,n,r){return new DC(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>rP(this.syncEngine,e,0),o=CC.V()?new CC:new wC,new RC(t,n,r,i,o);var t,n,r,i,o}createSyncEngine(e,t){return function(e,t,n,r,i,o,s){const a=new GO(e,t,n,r,i,o);return s&&(a.ac=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,Os.Z)(function*(e){const t=Og(e);_g("RemoteStore","RemoteStore shutting down."),t.lu.add(5),yield qC(t),t.du.shutdown(),t._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function zP(e,t=10240){let n=0;return{read:()=>(0,Os.Z)(function*(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}})(),cancel:()=>(0,Os.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class HP{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ic(this.observer.next,e)}error(e){this.observer.error?this.Ic(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}Tc(){this.muted=!0}Ic(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class $P{constructor(e,t){this.Ec=e,this.wt=t,this.metadata=new Mg,this.buffer=new Uint8Array,this.Ac=new TextDecoder("utf-8"),this.Rc().then(e=>{e&&e.Cu()?this.metadata.resolve(e.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.payload)}`))},e=>this.metadata.reject(e))}close(){return this.Ec.cancel()}getMetadata(){var e=this;return(0,Os.Z)(function*(){return e.metadata.promise})()}fc(){var e=this;return(0,Os.Z)(function*(){return yield e.getMetadata(),e.Rc()})()}Rc(){var e=this;return(0,Os.Z)(function*(){const t=yield e.bc();if(null===t)return null;const n=e.Ac.decode(t),r=Number(n);isNaN(r)&&e.Pc(`length string (${n}) is not valid number`);const i=yield e.vc(r);return new qO(JSON.parse(i),t.length+r)})()}Vc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}bc(){var e=this;return(0,Os.Z)(function*(){for(;e.Vc()<0&&!(yield e.Sc()););if(0===e.buffer.length)return null;const t=e.Vc();t<0&&e.Pc("Reached the end of bundle when a length string is expected.");const n=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),n})()}vc(e){var t=this;return(0,Os.Z)(function*(){for(;t.buffer.length<e;)(yield t.Sc())&&t.Pc("Reached the end of bundle when more is expected.");const n=t.Ac.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),n})()}Pc(e){throw this.Ec.cancel(),new Error(`Invalid bundle format: ${e}`)}Sc(){var e=this;return(0,Os.Z)(function*(){const t=yield e.Ec.read();if(!t.done){const n=new Uint8Array(e.buffer.length+t.value.length);n.set(e.buffer),n.set(t.value,e.buffer.length),e.buffer=n}return t.done})()}}class GP{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,Os.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new Tg(Pg.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const n=yield(r=(0,Os.Z)(function*(e,t){const n=Og(e),r=gb(n.wt)+"/documents",i={documents:t.map(e=>hb(n.wt,e))},o=yield n.ao("BatchGetDocuments",r,i),s=new Map;o.forEach(e=>{const t=function(e,t){return"found"in t?function(e,t){Cg(!!t.found);const n=db(e,t.found.name),r=cb(t.found.updateTime),i=new l_({mapValue:{fields:t.found.fields}});return h_.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){Cg(!!t.missing),Cg(!!t.readTime);const n=db(e,t.missing),r=cb(t.readTime);return h_.newNoDocument(n,r)}(e,t):wg()}(n.wt,e);s.set(t.key.toString(),t)});const a=[];return t.forEach(e=>{const t=s.get(e.toString());Cg(!!t),a.push(t)}),a}),function(e,t){return r.apply(this,arguments)})(t.datastore,e);var r;return n.forEach(e=>t.recordVersion(e)),n})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new My(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,Os.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var n;e.mutations.forEach(e=>{t.delete(e.key.toString())}),t.forEach((t,n)=>{const r=$g.fromPath(n);e.mutations.push(new Sy(r,e.precondition(r)))}),yield(n=(0,Os.Z)(function*(e,t){const n=Og(e),r=gb(n.wt)+"/documents",i={writes:t.map(e=>bb(n.wt,e))};yield n.ro("Commit",r,i)}),function(e,t){return n.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw wg();t=Zg.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new Tg(Pg.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?fy.updateTime(t):fy.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Zg.min()))throw new Tg(Pg.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return fy.updateTime(t)}return fy.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class WP{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Dc=n.maxAttempts,this.So=new kC(this.asyncQueue,"transaction_retry")}run(){this.Dc-=1,this.Cc()}Cc(){var e=this;this.So.Io((0,Os.Z)(function*(){const t=new GP(e.datastore),n=e.xc(t);n&&n.then(n=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(n)}).catch(t=>{e.Nc(t)}))}).catch(t=>{e.Nc(t)})}))}xc(e){try{const t=this.updateFunction(e);return!Um(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}Nc(e){this.Dc>0&&this.kc(e)?(this.Dc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Cc(),Promise.resolve()))):this.deferred.reject(e)}kc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!xy(t)}return!1}}class KP{constructor(e,t,n,r){var i=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=fg.UNAUTHENTICATED,this.clientId=Fg.I(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,function(){var e=(0,Os.Z)(function*(e){_g("FirestoreClient","Received user=",e.uid),yield i.authCredentialListener(e),i.user=e});return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(n,e=>(_g("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user)))}getConfiguration(){var e=this;return(0,Os.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Tg(Pg.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Mg;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Os.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(n){const e=PO(n,"Failed to shutdown persistence");t.reject(e)}})),t.promise}}function YP(e,t){return QP.apply(this,arguments)}function QP(){return(QP=(0,Os.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress(),_g("FirestoreClient","Initializing OfflineComponentProvider");const n=yield e.getConfiguration();yield t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(function(){var e=(0,Os.Z)(function*(e){r.isEqual(e)||(yield Ww(t.localStore,e),r=e)});return function(t){return e.apply(this,arguments)}}()),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e.offlineComponents=t})).apply(this,arguments)}function JP(e,t){return XP.apply(this,arguments)}function XP(){return(XP=(0,Os.Z)(function*(e,t){e.asyncQueue.verifyOperationInProgress();const n=yield eT(e);_g("FirestoreClient","Initializing OnlineComponentProvider");const r=yield e.getConfiguration();yield t.initialize(n,r),e.setCredentialChangeListener(e=>_O(t.remoteStore,e)),e.setAppCheckTokenChangeListener((e,n)=>_O(t.remoteStore,n)),e.onlineComponents=t})).apply(this,arguments)}function eT(e){return tT.apply(this,arguments)}function tT(){return(tT=(0,Os.Z)(function*(e){return e.offlineComponents||(_g("FirestoreClient","Using default OfflineComponentProvider"),yield YP(e,new VP)),e.offlineComponents})).apply(this,arguments)}function nT(e){return rT.apply(this,arguments)}function rT(){return(rT=(0,Os.Z)(function*(e){return e.onlineComponents||(_g("FirestoreClient","Using default OnlineComponentProvider"),yield JP(e,new BP)),e.onlineComponents})).apply(this,arguments)}function iT(e){return eT(e).then(e=>e.persistence)}function oT(e){return eT(e).then(e=>e.localStore)}function sT(e){return nT(e).then(e=>e.remoteStore)}function aT(e){return nT(e).then(e=>e.syncEngine)}function cT(e){return lT.apply(this,arguments)}function lT(){return(lT=(0,Os.Z)(function*(e){const t=yield nT(e),n=t.eventManager;return n.onListen=WO.bind(null,t.syncEngine),n.onUnlisten=JO.bind(null,t.syncEngine),n})).apply(this,arguments)}function uT(e,t,n={}){const r=new Mg;return e.asyncQueue.enqueueAndForget((0,Os.Z)(function*(){return function(e,t,n,r,i){const o=new HP({next:o=>{t.enqueueAndForget(()=>AO(e,s));const a=o.docs.has(n);!a&&o.fromCache?i.reject(new Tg(Pg.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&o.fromCache&&r&&"server"===r.source?i.reject(new Tg(Pg.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),s=new LO(F_(n.path),o,{includeMetadataChanges:!0,Du:!0});return EO(e,s)}(yield cT(e),e.asyncQueue,t,n,r)})),r.promise}function hT(e,t,n={}){const r=new Mg;return e.asyncQueue.enqueueAndForget((0,Os.Z)(function*(){return function(e,t,n,r,i){const o=new HP({next:n=>{t.enqueueAndForget(()=>AO(e,s)),n.fromCache&&"server"===r.source?i.reject(new Tg(Pg.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),s=new LO(n,o,{includeMetadataChanges:!0,Du:!0});return EO(e,s)}(yield cT(e),e.asyncQueue,t,n,r)})),r.promise}const dT=new Map;function fT(e,t,n){if(!n)throw new Tg(Pg.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function pT(e,t,n,r){if(!0===t&&!0===r)throw new Tg(Pg.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function gT(e){if(!$g.isDocumentKey(e))throw new Tg(Pg.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function mT(e){if($g.isDocumentKey(e))throw new Tg(Pg.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function _T(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return"function"==typeof e?"a function":wg()}function yT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Tg(Pg.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=_T(e);throw new Tg(Pg.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function bT(e,t){if(t<=0)throw new Tg(Pg.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}class vT{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new Tg(Pg.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new Tg(Pg.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,pT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class wT{constructor(e,t,n){this._authCredentials=t,this._appCheckCredentials=n,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new vT({}),this._settingsFrozen=!1,e instanceof qm?this._databaseId=e:(this._app=e,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new Tg(Pg.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new qm(e.options.projectId)}(e))}get app(){if(!this._app)throw new Tg(Pg.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new Tg(Pg.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new vT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new Ig;switch(e.type){case"gapi":const t=e.client;return Cg(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new Ag(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new Tg(Pg.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=dT.get(e);t&&(_g("ComponentProvider","Removing Datastore"),dT.delete(e),t.terminate())}(this),Promise.resolve()}}class CT{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new PT(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new CT(this.firestore,e,this._key)}}class OT{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new OT(this.firestore,e,this._query)}}class PT extends OT{constructor(e,t,n){super(e,t,F_(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new CT(this.firestore,null,new $g(e))}withConverter(e){return new PT(this.firestore,e,this._path)}}function TT(e,t,...n){if(e=(0,Ms.m9)(e),fT("collection","path",t),e instanceof wT){const r=Bg.fromString(t,...n);return mT(r),new PT(e,null,r)}{if(!(e instanceof CT||e instanceof PT))throw new Tg(Pg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Bg.fromString(t,...n));return mT(r),new PT(e.firestore,null,r)}}function MT(e,t,...n){if(e=(0,Ms.m9)(e),1===arguments.length&&(t=Fg.I()),fT("doc","path",t),e instanceof wT){const r=Bg.fromString(t,...n);return gT(r),new CT(e,null,new $g(r))}{if(!(e instanceof CT||e instanceof PT))throw new Tg(Pg.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Bg.fromString(t,...n));return gT(r),new CT(e.firestore,e instanceof PT?e.converter:null,new $g(r))}}function ST(e,t){return e=(0,Ms.m9)(e),t=(0,Ms.m9)(t),(e instanceof CT||e instanceof PT)&&(t instanceof CT||t instanceof PT)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function IT(e,t){return e=(0,Ms.m9)(e),t=(0,Ms.m9)(t),e instanceof OT&&t instanceof OT&&e.firestore===t.firestore&&B_(e._query,t._query)&&e.converter===t.converter}class kT{constructor(){this.Oc=Promise.resolve(),this.Mc=[],this.Fc=!1,this.$c=[],this.Bc=null,this.Lc=!1,this.Uc=!1,this.qc=[],this.So=new kC(this,"async_queue_retry"),this.Kc=()=>{const e=SC();e&&_g("AsyncQueue","Visibility state changed to "+e.visibilityState),this.So.Eo()};const e=SC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Kc)}get isShuttingDown(){return this.Fc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Gc(),this.Qc(e)}enterRestrictedMode(e){if(!this.Fc){this.Fc=!0,this.Uc=e||!1;const t=SC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Kc)}}enqueue(e){if(this.Gc(),this.Fc)return new Promise(()=>{});const t=new Mg;return this.Qc(()=>this.Fc&&this.Uc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Mc.push(e),this.jc()))}jc(){var e=this;return(0,Os.Z)(function*(){if(0!==e.Mc.length){try{yield e.Mc[0](),e.Mc.shift(),e.So.reset()}catch(yh){if(!hm(yh))throw yh;_g("AsyncQueue","Operation failed with retryable error: "+yh)}e.Mc.length>0&&e.So.Io(()=>e.jc())}})()}Qc(e){const t=this.Oc.then(()=>(this.Lc=!0,e().catch(e=>{throw this.Bc=e,this.Lc=!1,yg("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e}).then(e=>(this.Lc=!1,e))));return this.Oc=t,t}enqueueAfterDelay(e,t,n){this.Gc(),this.qc.indexOf(e)>-1&&(t=0);const r=OO.createAndSchedule(this,e,t,n,e=>this.Wc(e));return this.$c.push(r),r}Gc(){this.Bc&&wg()}verifyOperationInProgress(){}zc(){var e=this;return(0,Os.Z)(function*(){let t;do{t=e.Oc,yield t}while(t!==e.Oc)})()}Hc(e){for(const t of this.$c)if(t.timerId===e)return!0;return!1}Jc(e){return this.zc().then(()=>{this.$c.sort((e,t)=>e.targetTimeMs-t.targetTimeMs);for(const t of this.$c)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.zc()})}Yc(e){this.qc.push(e)}Wc(e){const t=this.$c.indexOf(e);this.$c.splice(t,1)}}function ET(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class xT{constructor(){this._progressObserver={},this._taskCompletionResolver=new Mg,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class AT extends wT{constructor(e,t,n){super(e,t,n),this.type="firestore",this._queue=new kT,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||NT(this),this._firestoreClient.terminate()}}function DT(e){return e._firestoreClient||NT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function NT(e){var t;const n=e._freezeSettings(),r=function(e,t,n,r){return new Lm(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new KP(e._authCredentials,e._appCheckCredentials,e._queue,r)}function RT(e,t,n){const r=new Mg;return e.asyncQueue.enqueue((0,Os.Z)(function*(){try{yield YP(e,n),yield JP(e,t),r.resolve()}catch(e){if(!function(e){return"FirebaseError"===e.name?e.code===Pg.FAILED_PRECONDITION||e.code===Pg.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(e))throw e;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+e),r.reject(e)}})).then(()=>r.promise)}function FT(e){if(e._initialized||e._terminated)throw new Tg(Pg.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class LT{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new Tg(Pg.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hg(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class qT{constructor(e){this._byteString=e}static fromBase64String(e){try{return new qT(km.fromBase64String(e))}catch(e){throw new Tg(Pg.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new qT(km.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class UT{constructor(e){this._methodName=e}}class VT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new Tg(Pg.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new Tg(Pg.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Lg(this._lat,e._lat)||Lg(this._long,e._long)}}const ZT=/^__.*__$/;class jT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Cy(e,this.data,this.fieldMask,t,this.fieldTransforms):new wy(e,this.data,t,this.fieldTransforms)}}class BT{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Cy(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw wg()}}class HT{constructor(e,t,n,r,i,o){this.settings=e,this.databaseId=t,this.wt=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Xc(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Zc(){return this.settings.Zc}ta(e){return new HT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.wt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ea(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.sa(e),r}ia(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ta({path:n,na:!1});return r.Xc(),r}ra(e){return this.ta({path:void 0,na:!0})}oa(e){return hM(e,this.settings.methodName,this.settings.ua||!1,this.path,this.settings.ca)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Xc(){if(this.path)for(let e=0;e<this.path.length;e++)this.sa(this.path.get(e))}sa(e){if(0===e.length)throw this.oa("Document fields must not be empty");if(zT(this.Zc)&&ZT.test(e))throw this.oa('Document fields cannot begin and end with "__"')}}class $T{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.wt=n||IC(e)}aa(e,t,n,r=!1){return new HT({Zc:e,methodName:t,ca:n,path:Hg.emptyPath(),na:!1,ua:r},this.databaseId,this.wt,this.ignoreUndefinedProperties)}}function GT(e){const t=e._freezeSettings(),n=IC(e._databaseId);return new $T(e._databaseId,!!t.ignoreUndefinedProperties,n)}function WT(e,t,n,r,i,o={}){const s=e.aa(o.merge||o.mergeFields?2:0,t,n,i);aM("Data must be an object, but it was:",s,r);const a=oM(r,s);let c,l;if(o.merge)c=new Im(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){const e=[];for(const r of o.mergeFields){const i=cM(t,r,n);if(!s.contains(i))throw new Tg(Pg.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);dM(e,i)||e.push(i)}c=new Im(e),l=s.fieldTransforms.filter(e=>c.covers(e.field))}else c=null,l=s.fieldTransforms;return new jT(new l_(a),c,l)}class KT extends UT{_toFieldTransform(e){if(2!==e.Zc)throw e.oa(1===e.Zc?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof KT}}function YT(e,t,n){return new HT({Zc:3,ca:t.settings.ca,methodName:e._methodName,na:n},t.databaseId,t.wt,t.ignoreUndefinedProperties)}class QT extends UT{_toFieldTransform(e){return new hy(e.path,new ry)}isEqual(e){return e instanceof QT}}class JT extends UT{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=YT(this,e,!0),n=this.ha.map(e=>iM(e,t)),r=new iy(n);return new hy(e.path,r)}isEqual(e){return this===e}}class XT extends UT{constructor(e,t){super(e),this.ha=t}_toFieldTransform(e){const t=YT(this,e,!0),n=this.ha.map(e=>iM(e,t)),r=new sy(n);return new hy(e.path,r)}isEqual(e){return this===e}}class eM extends UT{constructor(e,t){super(e),this.la=t}_toFieldTransform(e){const t=new cy(e.wt,J_(e.wt,this.la));return new hy(e.path,t)}isEqual(e){return this===e}}function tM(e,t,n,r){const i=e.aa(1,t,n);aM("Data must be an object, but it was:",i,r);const o=[],s=l_.empty();vm(r,(e,r)=>{const a=uM(t,e,n);r=(0,Ms.m9)(r);const c=i.ia(a);if(r instanceof KT)o.push(a);else{const e=iM(r,c);null!=e&&(o.push(a),s.set(a,e))}});const a=new Im(o);return new BT(s,a,i.fieldTransforms)}function nM(e,t,n,r,i,o){const s=e.aa(1,t,n),a=[cM(t,r,n)],c=[i];if(o.length%2!=0)throw new Tg(Pg.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let d=0;d<o.length;d+=2)a.push(cM(t,o[d])),c.push(o[d+1]);const l=[],u=l_.empty();for(let d=a.length-1;d>=0;--d)if(!dM(l,a[d])){const e=a[d];let t=c[d];t=(0,Ms.m9)(t);const n=s.ia(e);if(t instanceof KT)l.push(e);else{const r=iM(t,n);null!=r&&(l.push(e),u.set(e,r))}}const h=new Im(l);return new BT(u,h,s.fieldTransforms)}function rM(e,t,n,r=!1){return iM(n,e.aa(r?4:3,t))}function iM(e,t){if(sM(e=(0,Ms.m9)(e)))return aM("Unsupported field value:",t,e),oM(e,t);if(e instanceof UT)return function(e,t){if(!zT(t.Zc))throw t.oa(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t.oa(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.na&&4!==t.Zc)throw t.oa("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=iM(i,t.ra(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=(0,Ms.m9)(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return J_(t.wt,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=Vg.fromDate(e);return{timestampValue:ob(t.wt,n)}}if(e instanceof Vg){const n=new Vg(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ob(t.wt,n)}}if(e instanceof VT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof qT)return{bytesValue:sb(t.wt,e._byteString)};if(e instanceof CT){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t.oa(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:lb(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.oa(`Unsupported field value: ${_T(e)}`)}(e,t)}function oM(e,t){const n={};return wm(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):vm(e,(e,r)=>{const i=iM(r,t.ea(e));null!=i&&(n[e]=i)}),{mapValue:{fields:n}}}function sM(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof Vg||e instanceof VT||e instanceof qT||e instanceof CT||e instanceof UT)}function aM(e,t,n){if(!sM(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){const r=_T(n);throw t.oa("an object"===r?e+" a custom object":e+" "+r)}}function cM(e,t,n){if((t=(0,Ms.m9)(t))instanceof LT)return t._internalPath;if("string"==typeof t)return uM(e,t);throw hM("Field path arguments must be of type string or ",e,!1,void 0,n)}const lM=new RegExp("[~\\*/\\[\\]]");function uM(e,t,n){if(t.search(lM)>=0)throw hM(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new LT(...t.split("."))._internalPath}catch(r){throw hM(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function hM(e,t,n,r,i){const o=r&&!r.isEmpty(),s=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(o||s)&&(c+=" (found",o&&(c+=` in field ${r}`),s&&(c+=` in document ${i}`),c+=")"),new Tg(Pg.INVALID_ARGUMENT,a+e+c)}function dM(e,t){return e.some(e=>e.isEqual(t))}class fM{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new CT(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new pM(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(gM("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class pM extends fM{data(){return super.data()}}function gM(e,t){return"string"==typeof t?uM(e,t):t instanceof LT?t._internalPath:t._delegate._internalPath}class mM{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class _M extends fM{constructor(e,t,n,r,i,o){super(e,t,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new yM(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(gM("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class yM extends _M{data(e={}){return super.data(e)}}class bM{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new mM(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(n=>{e.call(t,new yM(this._firestore,this._userDataWriter,n.key,n,new mM(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new Tg(Pg.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map(n=>({type:"added",doc:new yM(e._firestore,e._userDataWriter,n.doc.key,n.doc,new mM(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:t++}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter(e=>t||3!==e.type).map(t=>{const r=new yM(e._firestore,e._userDataWriter,t.doc.key,t.doc,new mM(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,o=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),o=n.indexOf(t.doc.key)),{type:vM(t.type),doc:r,oldIndex:i,newIndex:o}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function vM(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return wg()}}function wM(e,t){return e instanceof _M&&t instanceof _M?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof bM&&t instanceof bM&&e._firestore===t._firestore&&IT(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function CM(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new Tg(Pg.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class OM{}function PM(e,...t){for(const n of t)e=n._apply(e);return e}class TM extends OM{constructor(e,t,n){super(),this.fa=e,this.da=t,this._a=n,this.type="where"}_apply(e){const t=GT(e.firestore),n=function(e,t,n,r,i,o,s){let a;if(i.isKeyField()){if("array-contains"===o||"array-contains-any"===o)throw new Tg(Pg.INVALID_ARGUMENT,`Invalid Query. You can't perform '${o}' queries on documentId().`);if("in"===o||"not-in"===o){AM(s,o);const t=[];for(const n of s)t.push(xM(r,e,n));a={arrayValue:{values:t}}}else a=xM(r,e,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||AM(s,o),a=rM(n,"where",s,"in"===o||"not-in"===o);const c=v_.create(i,o,a);return function(e,t){if(t.ht()){const n=q_(e);if(null!==n&&!n.isEqual(t.field))throw new Tg(Pg.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${t.field.toString()}'`);const r=L_(e);null!==r&&DM(0,t.field,r)}const n=function(e,t){for(const n of e.filters)if(t.indexOf(n.op)>=0)return n.op;return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw new Tg(Pg.INVALID_ARGUMENT,n===t.op?`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`:`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}(e,c),c}(e._query,0,t,e.firestore._databaseId,this.fa,this.da,this._a);return new OT(e.firestore,e.converter,function(e,t){const n=e.filters.concat([t]);return new N_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}class MM extends OM{constructor(e,t){super(),this.fa=e,this.wa=t,this.type="orderBy"}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new Tg(Pg.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new Tg(Pg.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new E_(t,n);return function(e,t){if(null===L_(e)){const n=q_(e);null!==n&&DM(0,n,t.field)}}(e,r),r}(e._query,this.fa,this.wa);return new OT(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new N_(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}class SM extends OM{constructor(e,t,n){super(),this.type=e,this.ma=t,this.ga=n}_apply(e){return new OT(e.firestore,e.converter,j_(e._query,this.ma,this.ga))}}class IM extends OM{constructor(e,t,n){super(),this.type=e,this.ya=t,this.pa=n}_apply(e){const t=EM(e,this.type,this.ya,this.pa);return new OT(e.firestore,e.converter,function(e,t){return new N_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}class kM extends OM{constructor(e,t,n){super(),this.type=e,this.ya=t,this.pa=n}_apply(e){const t=EM(e,this.type,this.ya,this.pa);return new OT(e.firestore,e.converter,function(e,t){return new N_(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}function EM(e,t,n,r){if(n[0]=(0,Ms.m9)(n[0]),n[0]instanceof fM)return function(e,t,n,r,i){if(!r)throw new Tg(Pg.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const o=[];for(const s of V_(e))if(s.field.isKeyField())o.push(Qm(t,r.key));else{const e=r.data.field(s.field);if(Nm(e))throw new Tg(Pg.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=s.field.canonicalString();throw new Tg(Pg.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}o.push(e)}return new k_(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=GT(e.firestore);return function(e,t,n,r,i,o){const s=e.explicitOrderBy;if(i.length>s.length)throw new Tg(Pg.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let c=0;c<i.length;c++){const o=i[c];if(s[c].field.isKeyField()){if("string"!=typeof o)throw new Tg(Pg.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof o}`);if(!U_(e)&&-1!==o.indexOf("/"))throw new Tg(Pg.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${o}' contains a slash.`);const n=e.path.child(Bg.fromString(o));if(!$g.isDocumentKey(n))throw new Tg(Pg.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new $g(n);a.push(Qm(t,i))}else{const e=rM(n,r,o);a.push(e)}}return new k_(a,o)}(e._query,e.firestore._databaseId,i,t,n,r)}}function xM(e,t,n){if("string"==typeof(n=(0,Ms.m9)(n))){if(""===n)throw new Tg(Pg.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!U_(t)&&-1!==n.indexOf("/"))throw new Tg(Pg.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Bg.fromString(n));if(!$g.isDocumentKey(r))throw new Tg(Pg.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qm(e,new $g(r))}if(n instanceof CT)return Qm(e,n._key);throw new Tg(Pg.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_T(n)}.`)}function AM(e,t){if(!Array.isArray(e)||0===e.length)throw new Tg(Pg.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`);if(e.length>10)throw new Tg(Pg.INVALID_ARGUMENT,`Invalid Query. '${t.toString()}' filters support a maximum of 10 elements in the value array.`)}function DM(e,t,n){if(!n.isEqual(t))throw new Tg(Pg.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}const NM={maxAttempts:5};class RM{convertValue(e,t="none"){switch(zm(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Am(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Dm(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw wg()}}convertObject(e,t){const n={};return vm(e.fields,(e,r)=>{n[e]=this.convertValue(r,t)}),n}convertGeoPoint(e){return new VT(Am(e.latitude),Am(e.longitude))}convertArray(e,t){return(e.values||[]).map(e=>this.convertValue(e,t))}convertServerTimestamp(e,t){switch(t){case"previous":const n=Rm(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Fm(e));default:return null}}convertTimestamp(e){const t=xm(e);return new Vg(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Bg.fromString(e);Cg(Ab(n));const r=new qm(n.get(1),n.get(3)),i=new $g(n.popFirst(5));return r.isEqual(t)||yg(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i}}function FM(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class LM extends RM{constructor(e){super(),this.firestore=e}convertBytes(e){return new qT(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new CT(this.firestore,null,t)}}class qM{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=GT(e)}set(e,t,n){this._verifyNotCommitted();const r=UM(e,this._firestore),i=FM(r.converter,t,n),o=WT(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(o.toMutation(r._key,fy.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=UM(e,this._firestore);let o;return o="string"==typeof(t=(0,Ms.m9)(t))||t instanceof LT?nM(this._dataReader,"WriteBatch.update",i._key,t,n,r):tM(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(o.toMutation(i._key,fy.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=UM(e,this._firestore);return this._mutations=this._mutations.concat(new My(t._key,fy.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new Tg(Pg.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function UM(e,t){if((e=(0,Ms.m9)(e)).firestore!==t)throw new Tg(Pg.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}class VM extends RM{constructor(e){super(),this.firestore=e}convertBytes(e){return new qT(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new CT(this.firestore,null,t)}}function ZM(e,t,n){e=yT(e,CT);const r=yT(e.firestore,AT),i=FM(e.converter,t,n);return zM(r,[WT(GT(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,fy.none())])}function jM(e,t,n,...r){e=yT(e,CT);const i=yT(e.firestore,AT),o=GT(i);let s;return s="string"==typeof(t=(0,Ms.m9)(t))||t instanceof LT?nM(o,"updateDoc",e._key,t,n,r):tM(o,"updateDoc",e._key,t),zM(i,[s.toMutation(e._key,fy.exists(!0))])}function BM(e,...t){var n,r,i;e=(0,Ms.m9)(e);let o={includeMetadataChanges:!1},s=0;"object"!=typeof t[s]||ET(t[s])||(o=t[s],s++);const a={includeMetadataChanges:o.includeMetadataChanges};if(ET(t[s])){const e=t[s];t[s]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[s+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[s+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let c,l,u;if(e instanceof CT)l=yT(e.firestore,AT),u=F_(e._key.path),c={next:n=>{t[s]&&t[s](HM(l,e,n))},error:t[s+1],complete:t[s+2]};else{const n=yT(e,OT);l=yT(n.firestore,AT),u=n._query;const r=new VM(l);c={next:e=>{t[s]&&t[s](new bM(l,r,n,e))},error:t[s+1],complete:t[s+2]},CM(e._query)}return function(e,t,n,r){const i=new HP(r),o=new LO(t,i,n);return e.asyncQueue.enqueueAndForget((0,Os.Z)(function*(){return EO(yield cT(e),o)})),()=>{i.Tc(),e.asyncQueue.enqueueAndForget((0,Os.Z)(function*(){return AO(yield cT(e),o)}))}}(DT(l),u,a,c)}function zM(e,t){return function(e,t){const n=new Mg;return e.asyncQueue.enqueueAndForget((0,Os.Z)(function*(){return function(e,t,n){return eP.apply(this,arguments)}(yield aT(e),t,n)})),n.promise}(DT(e),t)}function HM(e,t,n){const r=n.docs.get(t._key),i=new VM(e);return new _M(e,i,t._key,r,new mM(n.hasPendingWrites,n.fromCache),t.converter)}class $M extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=GT(e)}get(e){const t=UM(e,this._firestore),n=new LM(this._firestore);return this._transaction.lookup([t._key]).then(e=>{if(!e||1!==e.length)return wg();const r=e[0];if(r.isFoundDocument())return new fM(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new fM(this._firestore,n,t._key,null,t.converter);throw wg()})}set(e,t,n){const r=UM(e,this._firestore),i=FM(r.converter,t,n),o=WT(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,o),this}update(e,t,n,...r){const i=UM(e,this._firestore);let o;return o="string"==typeof(t=(0,Ms.m9)(t))||t instanceof LT?nM(this._dataReader,"Transaction.update",i._key,t,n,r):tM(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,o),this}delete(e){const t=UM(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=UM(e,this._firestore),n=new VM(this._firestore);return super.get(e).then(e=>new _M(this._firestore,n,t._key,e._document,new mM(!1,!1),t.converter))}}function GM(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new Tg("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}function WM(){if("undefined"==typeof Uint8Array)throw new Tg("unimplemented","Uint8Arrays are not available in this environment.")}function KM(){if("undefined"==typeof atob)throw new Tg("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(e,t=!0){!function(e){pg=e}(Ps.SDK_VERSION),(0,Ps._registerComponent)(new Ts.wA("firestore",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=new AT(r,new Eg(e.getProvider("auth-internal")),new Ng(e.getProvider("app-check-internal")));return n=Object.assign({useFetchStreams:t},n),i._setSettings(n),i},"PUBLIC")),(0,Ps.registerVersion)(dg,"3.4.10",e),(0,Ps.registerVersion)(dg,"3.4.10","esm2017")}();class YM{constructor(e){this._delegate=e}static fromBase64String(e){return KM(),new YM(qT.fromBase64String(e))}static fromUint8Array(e){return WM(),new YM(qT.fromUint8Array(e))}toBase64(){return KM(),this._delegate.toBase64()}toUint8Array(){return WM(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function QM(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const r of["next","error","complete"])if(r in n&&"function"==typeof n[r])return!0;return!1}(e)}class JM{enableIndexedDbPersistence(e,t){return function(e,t){FT(e=yT(e,AT));const n=DT(e),r=e._freezeSettings(),i=new BP;return RT(n,i,new ZP(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function(e){FT(e=yT(e,AT));const t=DT(e),n=e._freezeSettings(),r=new BP;return RT(t,r,new jP(r,n.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function(e){if(e._initialized&&!e._terminated)throw new Tg(Pg.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Mg;return e._queue.enqueueAndForgetEvenWhileRestricted((0,Os.Z)(function*(){try{yield(n=(0,Os.Z)(function*(e){if(!cm.V())return Promise.resolve();const t=e+"main";yield cm.delete(t)}),function(e){return n.apply(this,arguments)})(Bw(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}var n})),t.promise}(e._delegate)}}class XM{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof qm||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();e.merge||t.host===e.host||bg("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){!function(e,t,n,r={}){var i;const o=(e=yT(e,wT))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==t&&bg("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},o),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=fg.MOCK_USER;else{t=(0,Ms.Sg)(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const o=r.mockUserToken.sub||r.mockUserToken.user_id;if(!o)throw new Tg(Pg.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new fg(o)}e._authCredentials=new kg(new Sg(t,n))}}(this._delegate,e,t,n)}enableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,Os.Z)(function*(){const t=yield iT(e),n=yield sT(e);return t.setNetworkEnabled(!0),function(e){const t=Og(e);return t.lu.delete(0),FC(t)}(n)}))}(DT(e=yT(e,AT)))}(this._delegate)}disableNetwork(){return function(e){return function(e){return e.asyncQueue.enqueue((0,Os.Z)(function*(){const t=yield iT(e),n=yield sT(e);return t.setNetworkEnabled(!1),(r=(0,Os.Z)(function*(e){const t=Og(e);t.lu.add(0),yield qC(t),t._u.set("Offline")}),function(e){return r.apply(this,arguments)})(n);var r}))}(DT(e=yT(e,AT)))}(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,pT("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function(e){return function(e){const t=new Mg;return e.asyncQueue.enqueueAndForget((0,Os.Z)(function*(){return function(e,t){return uP.apply(this,arguments)}(yield aT(e),t)})),t.promise}(DT(e=yT(e,AT)))}(this._delegate)}onSnapshotsInSync(e){return function(e,t){return function(e,t){const n=new HP(t);return e.asyncQueue.enqueueAndForget((0,Os.Z)(function*(){return function(e,t){Og(e).Tu.add(t),t.next()}(yield cT(e),n)})),()=>{n.Tc(),e.asyncQueue.enqueueAndForget((0,Os.Z)(function*(){return function(e,t){Og(e).Tu.delete(t)}(yield cT(e),n)}))}}(DT(e=yT(e,AT)),ET(t)?t:{next:t})}(this._delegate,e)}get app(){if(!this._appCompat)throw new Tg("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new fS(this,TT(this._delegate,e))}catch(t){throw oS(t,"collection()","Firestore.collection()")}}doc(e){try{return new iS(this,MT(this._delegate,e))}catch(t){throw oS(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new uS(this,function(e,t){if(e=yT(e,wT),fT("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new Tg(Pg.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new OT(e,null,function(e){return new N_(Bg.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw oS(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function(e,t,n){e=yT(e,AT);const r=Object.assign(Object.assign({},NM),void 0);return function(e){if(e.maxAttempts<1)throw new Tg(Pg.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Mg;return e.asyncQueue.enqueueAndForget((0,Os.Z)(function*(){const i=yield function(e){return nT(e).then(e=>e.datastore)}(e);new WP(e.asyncQueue,i,n,t,r).run()})),r.promise}(DT(e),n=>t(new $M(e,n)),r)}(this._delegate,t=>e(new tS(this,t)))}batch(){return DT(this._delegate),new nS(new qM(this._delegate,e=>zM(this._delegate,e)))}loadBundle(e){return function(e,t){const n=DT(e=yT(e,AT)),r=new xT;return function(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?(new TextEncoder).encode(e):e,function(e,t){return new $P(e,t)}(function(e,t){if(e instanceof Uint8Array)return zP(e,t);if(e instanceof ArrayBuffer)return zP(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),t)}(n,IC(t));e.asyncQueue.enqueueAndForget((0,Os.Z)(function*(){!function(e,t,n){const r=Og(e);var i;(i=(0,Os.Z)(function*(e,t,n){try{const r=yield t.getMetadata();if(yield function(e,t){const n=Og(e),r=cb(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",e=>n.Ds.getBundleMetadata(e,t.id)).then(e=>!!e&&e.createTime.compareTo(r)>=0)}(e.localStore,r))return yield t.close(),n._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(r)),Promise.resolve(new Set);n._updateProgress(ZO(r));const i=new VO(r,e.localStore,t.wt);let o=yield t.fc();for(;o;){const e=yield i.Nu(o);e&&n._updateProgress(e),o=yield t.fc()}const s=yield i.complete();return yield yP(e,s.Mu,void 0),yield function(e,t){const n=Og(e);return n.persistence.runTransaction("Save bundle","readwrite",e=>n.Ds.saveBundleMetadata(e,t))}(e.localStore,r),n._completeWith(s.progress),Promise.resolve(s.Ou)}catch(e){return bg("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}}),function(e,t,n){return i.apply(this,arguments)})(r,t,n).then(e=>{r.sharedClientState.notifyBundleLoaded(e)})}(yield aT(e),i,r)}))}(n,e._databaseId,t,r),r}(this._delegate,e)}namedQuery(e){return function(e,t){return function(e,t){return e.asyncQueue.enqueue((0,Os.Z)(function*(){return function(e,t){const n=Og(e);return n.persistence.runTransaction("Get named query","readonly",e=>n.Ds.getNamedQuery(e,t))}(yield oT(e),t)}))}(DT(e=yT(e,AT)),t).then(t=>t?new OT(e,null,t.query):null)}(this._delegate,e).then(e=>e?new uS(this,e):null)}}class eS extends RM{constructor(e){super(),this.firestore=e}convertBytes(e){return new YM(new qT(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return iS.forKey(t,this.firestore,null)}}class tS{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new eS(e)}get(e){const t=pS(e);return this._delegate.get(t).then(e=>new cS(this._firestore,new _M(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter)))}set(e,t,n){const r=pS(e);return n?(GM("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=pS(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=pS(e);return this._delegate.delete(t),this}}class nS{constructor(e){this._delegate=e}set(e,t,n){const r=pS(e);return n?(GM("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=pS(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=pS(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class rS{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new yM(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new lS(this._firestore,n),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=rS.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new rS(e,new eS(e),t),r.set(t,i)),i}}rS.INSTANCES=new WeakMap;class iS{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eS(e)}static forPath(e,t,n){if(e.length%2!=0)throw new Tg("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new iS(t,new CT(t._delegate,n,new $g(e)))}static forKey(e,t,n){return new iS(t,new CT(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new fS(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new fS(this.firestore,TT(this._delegate,e))}catch(t){throw oS(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Ms.m9)(e))instanceof CT&&ST(this._delegate,e)}set(e,t){t=GM("DocumentReference.set",t);try{return t?ZM(this._delegate,e,t):ZM(this._delegate,e)}catch(n){throw oS(n,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?jM(this._delegate,e):jM(this._delegate,e,t,...n)}catch(r){throw oS(r,"updateDoc()","DocumentReference.update()")}}delete(){return function(e){return zM(yT(e.firestore,AT),[new My(e._key,fy.none())])}(this._delegate)}onSnapshot(...e){const t=sS(e),n=aS(e,e=>new cS(this.firestore,new _M(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)));return BM(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=yT(e,CT);const t=yT(e.firestore,AT),n=DT(t),r=new VM(t);return function(e,t){const n=new Mg;return e.asyncQueue.enqueueAndForget((0,Os.Z)(function*(){return(r=(0,Os.Z)(function*(e,t,n){try{const r=yield function(e,t){const n=Og(e);return n.persistence.runTransaction("read document","readonly",e=>n.localDocuments.getDocument(e,t))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new Tg(Pg.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=PO(e,`Failed to get document '${t} from cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield oT(e),t,n);var r})),n.promise}(n,e._key).then(n=>new _M(t,r,e._key,n,new mM(null!==n&&n.hasLocalMutations,!0),e.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=yT(e,CT);const t=yT(e.firestore,AT);return uT(DT(t),e._key,{source:"server"}).then(n=>HM(t,e,n))}(this._delegate):function(e){e=yT(e,CT);const t=yT(e.firestore,AT);return uT(DT(t),e._key).then(n=>HM(t,e,n))}(this._delegate),t.then(e=>new cS(this.firestore,new _M(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter)))}withConverter(e){return new iS(this.firestore,this._delegate.withConverter(e?rS.getInstance(this.firestore,e):null))}}function oS(e,t,n){return e.message=e.message.replace(t,n),e}function sS(e){for(const t of e)if("object"==typeof t&&!QM(t))return t;return{}}function aS(e,t){var n,r;let i;return i=QM(e[0])?e[0]:QM(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class cS{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new iS(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return wM(this._delegate,e._delegate)}}class lS extends cS{data(e){const t=this._delegate.data(e);return function(e,t){e||wg()}(void 0!==t),t}}class uS{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new eS(e)}where(e,t,n){try{return new uS(this.firestore,PM(this._delegate,function(e,t,n){const r=t,i=gM("where",e);return new TM(i,r,n)}(e,t,n)))}catch(r){throw oS(r,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new uS(this.firestore,PM(this._delegate,function(e,t="asc"){const n=t,r=gM("orderBy",e);return new MM(r,n)}(e,t)))}catch(n){throw oS(n,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new uS(this.firestore,PM(this._delegate,function(e){return bT("limit",e),new SM("limit",e,"F")}(e)))}catch(t){throw oS(t,"limit()","Query.limit()")}}limitToLast(e){try{return new uS(this.firestore,PM(this._delegate,function(e){return bT("limitToLast",e),new SM("limitToLast",e,"L")}(e)))}catch(t){throw oS(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new uS(this.firestore,PM(this._delegate,function(...e){return new IM("startAt",e,!0)}(...e)))}catch(t){throw oS(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new uS(this.firestore,PM(this._delegate,function(...e){return new IM("startAfter",e,!1)}(...e)))}catch(t){throw oS(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new uS(this.firestore,PM(this._delegate,function(...e){return new kM("endBefore",e,!1)}(...e)))}catch(t){throw oS(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new uS(this.firestore,PM(this._delegate,function(...e){return new kM("endAt",e,!0)}(...e)))}catch(t){throw oS(t,"endAt()","Query.endAt()")}}isEqual(e){return IT(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function(e){e=yT(e,OT);const t=yT(e.firestore,AT),n=DT(t),r=new VM(t);return function(e,t){const n=new Mg;return e.asyncQueue.enqueueAndForget((0,Os.Z)(function*(){return(r=(0,Os.Z)(function*(e,t,n){try{const r=yield iC(e,t,!0),i=new zO(t,r.ji),o=i.Ku(r.documents),s=i.applyChanges(o,!1);n.resolve(s.snapshot)}catch(e){const r=PO(e,`Failed to execute query '${t} against cache`);n.reject(r)}}),function(e,t,n){return r.apply(this,arguments)})(yield oT(e),t,n);var r})),n.promise}(n,e._query).then(n=>new bM(t,r,e,n))}(this._delegate):"server"===(null==e?void 0:e.source)?function(e){e=yT(e,OT);const t=yT(e.firestore,AT),n=DT(t),r=new VM(t);return hT(n,e._query,{source:"server"}).then(n=>new bM(t,r,e,n))}(this._delegate):function(e){e=yT(e,OT);const t=yT(e.firestore,AT),n=DT(t),r=new VM(t);return CM(e._query),hT(n,e._query).then(n=>new bM(t,r,e,n))}(this._delegate),t.then(e=>new dS(this.firestore,new bM(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)))}onSnapshot(...e){const t=sS(e),n=aS(e,e=>new dS(this.firestore,new bM(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot)));return BM(this._delegate,t,n)}withConverter(e){return new uS(this.firestore,this._delegate.withConverter(e?rS.getInstance(this.firestore,e):null))}}class hS{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new lS(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class dS{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new uS(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new lS(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(e=>new hS(this._firestore,e))}forEach(e,t){this._delegate.forEach(n=>{e.call(t,new lS(this._firestore,n))})}isEqual(e){return wM(this._delegate,e._delegate)}}class fS extends uS{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new iS(this.firestore,e):null}doc(e){try{return new iS(this.firestore,void 0===e?MT(this._delegate):MT(this._delegate,e))}catch(t){throw oS(t,"doc()","CollectionReference.doc()")}}add(e){return function(e,t){const n=yT(e.firestore,AT),r=MT(e),i=FM(e.converter,t);return zM(n,[WT(GT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,fy.exists(!1))]).then(()=>r)}(this._delegate,e).then(e=>new iS(this.firestore,e))}isEqual(e){return ST(this._delegate,e._delegate)}withConverter(e){return new fS(this.firestore,this._delegate.withConverter(e?rS.getInstance(this.firestore,e):null))}}function pS(e){return yT(e,CT)}class gS{constructor(...e){this._delegate=new LT(...e)}static documentId(){return new gS(Hg.keyField().canonicalString())}isEqual(e){return(e=(0,Ms.m9)(e))instanceof LT&&this._delegate._internalPath.isEqual(e._internalPath)}}class mS{constructor(e){this._delegate=e}static serverTimestamp(){const e=new QT("serverTimestamp");return e._methodName="FieldValue.serverTimestamp",new mS(e)}static delete(){const e=new KT("deleteField");return e._methodName="FieldValue.delete",new mS(e)}static arrayUnion(...e){const t=function(...e){return new JT("arrayUnion",e)}(...e);return t._methodName="FieldValue.arrayUnion",new mS(t)}static arrayRemove(...e){const t=function(...e){return new XT("arrayRemove",e)}(...e);return t._methodName="FieldValue.arrayRemove",new mS(t)}static increment(e){const t=function(e){return new eM("increment",e)}(e);return t._methodName="FieldValue.increment",new mS(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const _S={Firestore:XM,GeoPoint:VT,Timestamp:Vg,Blob:YM,Transaction:tS,WriteBatch:nS,DocumentReference:iS,DocumentSnapshot:cS,Query:uS,QueryDocumentSnapshot:lS,QuerySnapshot:dS,CollectionReference:fS,FieldPath:gS,FieldValue:mS,setLogLevel:function(e){!function(e){gg.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};var yS,bS;function vS(e,t){return function(e,t=fi.z){return new di.y(n=>{let r;return null!=t?t.schedule(()=>{r=e.onSnapshot({includeMetadataChanges:!0},n)}):r=e.onSnapshot({includeMetadataChanges:!0},n),()=>{null!=r&&r()}})}(e,t)}function wS(e,t){return vS(e,t).pipe((0,Ni.U)(e=>({payload:e,type:"query"})))}function CS(e,t){return wS(e,t).pipe(Wa(void 0),eh(),(0,Ni.U)(([e,t])=>{const n=t.payload.docChanges(),r=n.map(e=>({type:e.type,payload:e}));return e&&JSON.stringify(e.payload.metadata)!==JSON.stringify(t.payload.metadata)&&t.payload.docs.forEach((t,i)=>{const o=n.find(e=>e.doc.ref.isEqual(t.ref)),s=null==e?void 0:e.payload.docs.find(e=>e.ref.isEqual(t.ref));o&&JSON.stringify(o.doc.metadata)===JSON.stringify(t.metadata)||!o&&s&&JSON.stringify(s.metadata)===JSON.stringify(t.metadata)||r.push({type:"modified",payload:{oldIndex:i,newIndex:i,type:"modified",doc:t}})}),r}))}function OS(e,t,n){return CS(e,n).pipe(Ka((e,n)=>function(e,t,n){return t.forEach(t=>{n.indexOf(t.type)>-1&&(e=function(e,t){switch(t.type){case"added":if(!e[t.newIndex]||!e[t.newIndex].doc.ref.isEqual(t.doc.ref))return PS(e,t.newIndex,0,t);break;case"modified":if(null==e[t.oldIndex]||e[t.oldIndex].doc.ref.isEqual(t.doc.ref)){if(t.oldIndex!==t.newIndex){const n=e.slice();return n.splice(t.oldIndex,1),n.splice(t.newIndex,0,t),n}return PS(e,t.newIndex,1,t)}break;case"removed":if(e[t.oldIndex]&&e[t.oldIndex].doc.ref.isEqual(t.doc.ref))return PS(e,t.oldIndex,1)}return e}(e,t))}),e}(e,n.map(e=>e.payload),t),[]),oi(),(0,Ni.U)(e=>e.map(e=>({type:e.type,payload:e}))))}function PS(e,t,n,...r){const i=e.slice();return i.splice(t,n,...r),i}function TS(e){return e&&0!==e.length||(e=["added","removed","modified"]),e}bS=(e,t)=>new XM(e,t,new JM),(yS=ih.Z).INTERNAL.registerComponent(new Ts.wA("firestore-compat",e=>{const t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("firestore").getImmediate();return bS(t,n)},"PUBLIC").setServiceProps(Object.assign({},_S))),yS.registerVersion("@firebase/firestore-compat","0.1.19");class MS{constructor(e,t,n){this.ref=e,this.query=t,this.afs=n}stateChanges(e){let t=CS(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Ni.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)))),t.pipe(Wa(void 0),eh(),Yi(([e,t])=>t.length>0||!e),(0,Ni.U)(([e,t])=>t),gs.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ka((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=TS(e);return OS(this.query,t,this.afs.schedulers.outsideAngular).pipe(gs.iC)}valueChanges(e={}){return wS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ni.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data())),gs.iC)}get(e){return(0,Fi.D)(this.query.get(e)).pipe(gs.iC)}add(e){return this.ref.add(e)}doc(e){return new SS(this.ref.doc(e),this.afs)}}class SS{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const n=this.ref.collection(e),{ref:r,query:i}=DS(n,t);return new MS(r,i,this.afs)}snapshotChanges(){return function(e,t){return vS(e,t).pipe(Wa(void 0),eh(),(0,Ni.U)(([e,t])=>t.exists?(null==e?void 0:e.exists)?{payload:t,type:"modified"}:{payload:t,type:"added"}:{payload:t,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(gs.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Ni.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Fi.D)(this.ref.get(e)).pipe(gs.iC)}}class IS{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?CS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ni.U)(t=>t.filter(t=>e.indexOf(t.type)>-1)),Yi(e=>e.length>0),gs.iC):CS(this.query,this.afs.schedulers.outsideAngular).pipe(gs.iC)}auditTrail(e){return this.stateChanges(e).pipe(Ka((e,t)=>[...e,...t],[]))}snapshotChanges(e){const t=TS(e);return OS(this.query,t,this.afs.schedulers.outsideAngular).pipe(gs.iC)}valueChanges(e={}){return wS(this.query,this.afs.schedulers.outsideAngular).pipe((0,Ni.U)(t=>t.payload.docs.map(t=>e.idField?Object.assign({[e.idField]:t.id},t.data()):t.data())),gs.iC)}get(e){return(0,Fi.D)(this.query.get(e)).pipe(gs.iC)}}const kS=new r.OlP("angularfire2.enableFirestorePersistence"),ES=new r.OlP("angularfire2.firestore.persistenceSettings"),xS=new r.OlP("angularfire2.firestore.settings"),AS=new r.OlP("angularfire2.firestore.use-emulator");function DS(e,t=(e=>e)){return{query:t(e),ref:e}}let NS=(()=>{class e{constructor(e,t,n,r,i,o,s,a,c,l,u,h,d,f,p,g,m){this.schedulers=s;const _=(0,ms.on)(e,o,t),y=c;l&&fa(_,o,u,d,f,p,h,g),[this.firestore,this.persistenceEnabled$]=(0,ms.cc)(`${_.name}.firestore`,"AngularFirestore",_.name,()=>{const e=o.runOutsideAngular(()=>_.firestore());if(r&&e.settings(r),y&&e.useEmulator(...y),n&&!Oe(i)){const t=()=>{try{return(0,Fi.D)(e.enablePersistence(a||void 0).then(()=>!0,()=>!1))}catch(t){return"undefined"!=typeof console&&console.warn(t),(0,Jr.of)(!1)}};return[e,o.runOutsideAngular(t)]}return[e,(0,Jr.of)(!1)]},[r,y,n])}collection(e,t){let n;n="string"==typeof e?this.firestore.collection(e):e;const{ref:r,query:i}=DS(n,t),o=this.schedulers.ngZone.run(()=>r);return new MS(o,i,this)}collectionGroup(e,t){const n=t||(e=>e),r=this.firestore.collectionGroup(e);return new IS(n(r),this)}doc(e){let t;t="string"==typeof e?this.firestore.doc(e):e;const n=this.schedulers.ngZone.run(()=>t);return new SS(n,this)}createId(){return this.firestore.collection("_").doc().id}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ms.Dh),r.LFG(ms.xv,8),r.LFG(kS,8),r.LFG(xS,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(gs.HU),r.LFG(ES,8),r.LFG(AS,8),r.LFG(pa,8),r.LFG(aa,8),r.LFG(ca,8),r.LFG(la,8),r.LFG(ua,8),r.LFG(ha,8),r.LFG(da,8),r.LFG(oa,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),RS=(()=>{class e{constructor(){sa.Z.registerVersion("angularfire",gs.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:e,providers:[{provide:kS,useValue:!0},{provide:ES,useValue:t}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[NS]}),e})(),FS=(()=>{class e{constructor(e,t,n,r){this.afAuth=e,this.toastr=t,this.router=n,this.afs=r,this.loggedIn=new Qr(!1),this.isLoggedInGuard=!1,this.user$=e.authState}login(e,t){this.afAuth.signInWithEmailAndPassword(e,t).then(e=>{this.toastr.success("Logged In Successfully"),this.loadUser(),this.loggedIn.next(!0),this.isLoggedInGuard=!0,this.router.navigate(["/"])}).catch(e=>{this.toastr.warning(e)})}signup(e,t,n){this.afAuth.createUserWithEmailAndPassword(t,n).then(t=>{this.toastr.success("Signed Up Successfully"),this.loadUser(),this.SetUserData(t.user,e),this.loggedIn.next(!0),this.isLoggedInGuard=!0,console.log(t),this.router.navigate(["/"])}).catch(e=>{this.toastr.warning(e)})}SetUserData(e,t){return this.afs.doc(`users/${e.uid}`).set({uid:e.uid,email:e.email,isAdmin:!1,userName:t},{merge:!0})}getUserData(e){return this.afs.doc(`users/${e}`).valueChanges()}loadUser(){this.afAuth.authState.subscribe(e=>{localStorage.setItem("user",JSON.stringify(e)),console.log(e)})}logOut(){this.afAuth.signOut().then(()=>{this.toastr.success("User Logged Out Successfully"),localStorage.removeItem("user"),this.loggedIn.next(!1),this.isLoggedInGuard=!1,this.router.navigate(["/login"])})}isLoggedIn(){return this.loggedIn.asObservable()}get isAdmin(){}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(pa),r.LFG(Aa),r.LFG(xu),r.LFG(NS))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),LS=(()=>{class e{constructor(e,t,n){this.authService=e,this.router=t,this.toastr=n}canActivate(){return this.authService.user$.pipe(Go(e=>this.authService.getUserData(e.uid)),(0,Ni.U)(e=>e.isAdmin))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(FS),r.LFG(xu),r.LFG(Aa))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),qS=(()=>{class e{constructor(e,t){this.afs=e,this.toastr=t}saveData(e){this.afs.collection("categories").add(e).then(e=>{console.log(e),this.toastr.success("Data Insert Successfully ..!")}).catch(e=>{console.log(e)})}loadData(){return this.afs.collection("categories").snapshotChanges().pipe((0,Ni.U)(e=>e.map(e=>{const t=e.payload.doc.data();return{id:e.payload.doc.id,data:t}})))}updateData(e,t){this.afs.doc(`categories/${e}`).update(t).then(e=>{this.toastr.success("Data Updated Successfully ..!")})}deleteData(e){this.afs.doc(`categories/${e}`).delete().then(e=>{this.toastr.success("Data Deleted..!")})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(NS),r.LFG(Aa))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),US=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}setProperty(e,t){this._renderer.setProperty(this._elementRef.nativeElement,e,t)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq))},e.\u0275dir=r.lG2({type:e}),e})(),VS=(()=>{class e extends US{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();const ZS=new r.OlP("NgValueAccessor"),jS={provide:ZS,useExisting:(0,r.Gpc)(()=>zS),multi:!0},BS=new r.OlP("CompositionEventMode");let zS=(()=>{class e extends US{constructor(e,t,n){super(e,t),this._compositionMode=n,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=o()?o().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this.setProperty("value",null==e?"":e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(r.SBq),r.Y36(BS,8))},e.\u0275dir=r.lG2({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&r.NdJ("input",function(e){return t._handleInput(e.target.value)})("blur",function(){return t.onTouched()})("compositionstart",function(){return t._compositionStart()})("compositionend",function(e){return t._compositionEnd(e.target.value)})},features:[r._Bn([jS]),r.qOj]}),e})();function HS(e){return null==e||0===e.length}function $S(e){return null!=e&&"number"==typeof e.length}const GS=new r.OlP("NgValidators"),WS=new r.OlP("NgAsyncValidators"),KS=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class YS{static min(e){return function(e){return t=>{if(HS(t.value)||HS(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}(e)}static max(e){return function(e){return t=>{if(HS(t.value)||HS(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}(e)}static required(e){return QS(e)}static requiredTrue(e){return function(e){return!0===e.value?null:{required:!0}}(e)}static email(e){return JS(e)}static minLength(e){return function(e){return t=>HS(t.value)||!$S(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static maxLength(e){return function(e){return t=>$S(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}(e)}static pattern(e){return function(e){if(!e)return XS;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(HS(e.value))return null;const r=e.value;return t.test(r)?null:{pattern:{requiredPattern:n,actualValue:r}}}}(e)}static nullValidator(e){return null}static compose(e){return oI(e)}static composeAsync(e){return aI(e)}}function QS(e){return HS(e.value)?{required:!0}:null}function JS(e){return HS(e.value)||KS.test(e.value)?null:{email:!0}}function XS(e){return null}function eI(e){return null!=e}function tI(e){const t=(0,r.QGY)(e)?(0,Fi.D)(e):e;return(0,r.CqO)(t),t}function nI(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function rI(e,t){return t.map(t=>t(e))}function iI(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}function oI(e){if(!e)return null;const t=e.filter(eI);return 0==t.length?null:function(e){return nI(rI(e,t))}}function sI(e){return null!=e?oI(iI(e)):null}function aI(e){if(!e)return null;const t=e.filter(eI);return 0==t.length?null:function(e){return Li(rI(e,t).map(tI)).pipe((0,Ni.U)(nI))}}function cI(e){return null!=e?aI(iI(e)):null}function lI(e,t){return null===e?[t]:Array.isArray(e)?[...e,t]:[e,t]}function uI(e){return e._rawValidators}function hI(e){return e._rawAsyncValidators}let dI=(()=>{class e{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=sI(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=cI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e}),e})(),fI=(()=>{class e extends dI{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,features:[r.qOj]}),e})();class pI extends dI{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class gI{constructor(e){this._cd=e}is(e){var t,n,r;return"submitted"===e?!!(null===(t=this._cd)||void 0===t?void 0:t.submitted):!!(null===(r=null===(n=this._cd)||void 0===n?void 0:n.control)||void 0===r?void 0:r[e])}}let mI=(()=>{class e extends gI{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(pI,2))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))},features:[r.qOj]}),e})(),_I=(()=>{class e extends gI{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(fI,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(e,t){2&e&&r.ekj("ng-untouched",t.is("untouched"))("ng-touched",t.is("touched"))("ng-pristine",t.is("pristine"))("ng-dirty",t.is("dirty"))("ng-valid",t.is("valid"))("ng-invalid",t.is("invalid"))("ng-pending",t.is("pending"))("ng-submitted",t.is("submitted"))},features:[r.qOj]}),e})();function yI(e,t){return[...t.path,e]}function bI(e,t){CI(e,t),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&PI(e,t)})}(e,t),function(e,t){const n=(e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)};e.registerOnChange(n),t._registerOnDestroy(()=>{e._unregisterOnChange(n)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&PI(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),function(e,t){if(t.valueAccessor.setDisabledState){const n=e=>{t.valueAccessor.setDisabledState(e)};e.registerOnDisabledChange(n),t._registerOnDestroy(()=>{e._unregisterOnDisabledChange(n)})}}(e,t)}function vI(e,t,n=!0){const r=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(r),t.valueAccessor.registerOnTouched(r)),OI(e,t),e&&(t._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function wI(e,t){e.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function CI(e,t){const n=uI(e);null!==t.validator?e.setValidators(lI(n,t.validator)):"function"==typeof n&&e.setValidators([n]);const r=hI(e);null!==t.asyncValidator?e.setAsyncValidators(lI(r,t.asyncValidator)):"function"==typeof r&&e.setAsyncValidators([r]);const i=()=>e.updateValueAndValidity();wI(t._rawValidators,i),wI(t._rawAsyncValidators,i)}function OI(e,t){let n=!1;if(null!==e){if(null!==t.validator){const r=uI(e);if(Array.isArray(r)&&r.length>0){const i=r.filter(e=>e!==t.validator);i.length!==r.length&&(n=!0,e.setValidators(i))}}if(null!==t.asyncValidator){const r=hI(e);if(Array.isArray(r)&&r.length>0){const i=r.filter(e=>e!==t.asyncValidator);i.length!==r.length&&(n=!0,e.setAsyncValidators(i))}}}const r=()=>{};return wI(t._rawValidators,r),wI(t._rawAsyncValidators,r),n}function PI(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function TI(e,t){CI(e,t)}function MI(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}function SI(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function II(e,t){if(!t)return null;let n,r,i;return Array.isArray(t),t.forEach(e=>{e.constructor===zS?n=e:Object.getPrototypeOf(e.constructor)===VS?r=e:i=e}),i||r||n||null}function kI(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}const EI="VALID",xI="INVALID",AI="PENDING",DI="DISABLED";function NI(e){return(qI(e)?e.validators:e)||null}function RI(e){return Array.isArray(e)?sI(e):e||null}function FI(e,t){return(qI(t)?t.asyncValidators:e)||null}function LI(e){return Array.isArray(e)?cI(e):e||null}function qI(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class UI{constructor(e,t){this._hasOwnPendingAsyncValidator=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=e,this._rawAsyncValidators=t,this._composedValidatorFn=RI(this._rawValidators),this._composedAsyncValidatorFn=LI(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===EI}get invalid(){return this.status===xI}get pending(){return this.status==AI}get disabled(){return this.status===DI}get enabled(){return this.status!==DI}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._rawValidators=e,this._composedValidatorFn=RI(e)}setAsyncValidators(e){this._rawAsyncValidators=e,this._composedAsyncValidatorFn=LI(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=AI,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=DI,this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=EI,this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),this.status!==EI&&this.status!==AI||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?DI:EI}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=AI,this._hasOwnPendingAsyncValidator=!0;const t=tI(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(t,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let r=e;return t.forEach(e=>{r=r instanceof ZI?r.controls.hasOwnProperty(e)?r.controls[e]:null:r instanceof jI&&r.at(e)||null}),r}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new r.vpe,this.statusChanges=new r.vpe}_calculateStatus(){return this._allControlsDisabled()?DI:this.errors?xI:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(AI)?AI:this._anyControlsHaveStatus(xI)?xI:EI}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){qI(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class VI extends UI{constructor(e=null,t,n){super(NI(t),FI(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){kI(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){kI(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class ZI extends UI{constructor(e,t,n){super(NI(t),FI(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,n={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof VI?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const n=this.controls[t];n&&e(n,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,r)=>{n=t(n,e,r)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class jI extends UI{constructor(e,t,n){super(NI(t),FI(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[e]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,n={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((n,r)=>{n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof VI?e.value:e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet. If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error(`Cannot find form control at index ${e}`)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const BI={provide:fI,useExisting:(0,r.Gpc)(()=>HI)},zI=(()=>Promise.resolve(null))();let HI=(()=>{class e extends fI{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new r.vpe,this.form=new ZI({},sI(e),cI(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){zI.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),bI(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){zI.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),kI(this._directives,e)})}addFormGroup(e){zI.then(()=>{const t=this._findContainer(e.path),n=new ZI({});TI(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){zI.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){zI.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,SI(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(GS,10),r.Y36(WS,10))},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([BI]),r.qOj]}),e})();const $I={provide:pI,useExisting:(0,r.Gpc)(()=>WI)},GI=(()=>Promise.resolve(null))();let WI=(()=>{class e extends pI{constructor(e,t,n,i){super(),this.control=new VI,this._registered=!1,this.update=new r.vpe,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=II(0,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),MI(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?yI(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){bI(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){GI.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;GI.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(fI,9),r.Y36(GS,10),r.Y36(WS,10),r.Y36(ZS,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[r._Bn([$I]),r.qOj,r.TTD]}),e})(),KI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),YI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();const QI=new r.OlP("NgModelWithFormControlWarning"),JI={provide:fI,useExisting:(0,r.Gpc)(()=>XI)};let XI=(()=>{class e extends fI{constructor(e,t){super(),this.validators=e,this.asyncValidators=t,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new r.vpe,this._setValidators(e),this._setAsyncValidators(t)}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(OI(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return bI(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){vI(e.control||null,e,!1),kI(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,SI(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=e.control,n=this.form.get(e.path);t!==n&&(vI(t||null,e),n instanceof VI&&(bI(n,e),e.control=n))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){const t=this.form.get(e.path);TI(t,e),t.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){const t=this.form.get(e.path);t&&function(e,t){return OI(e,t)}(t,e)&&t.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){CI(this.form,this),this._oldForm&&OI(this._oldForm,this)}_checkFormPresent(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(GS,10),r.Y36(WS,10))},e.\u0275dir=r.lG2({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&r.NdJ("submit",function(e){return t.onSubmit(e)})("reset",function(){return t.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[r._Bn([JI]),r.qOj,r.TTD]}),e})();const ek={provide:pI,useExisting:(0,r.Gpc)(()=>tk)};let tk=(()=>{class e extends pI{constructor(e,t,n,i,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.update=new r.vpe,this._ngModelWarningSent=!1,this._parent=e,this._setValidators(t),this._setAsyncValidators(n),this.valueAccessor=II(0,i)}set isDisabled(e){}ngOnChanges(e){this._added||this._setUpControl(),MI(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return yI(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(fI,13),r.Y36(GS,10),r.Y36(WS,10),r.Y36(ZS,10),r.Y36(QI,8))},e.\u0275dir=r.lG2({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[r._Bn([ek]),r.qOj,r.TTD]}),e._ngModelWarningSentOnce=!1,e})();const nk={provide:ZS,useExisting:(0,r.Gpc)(()=>ik),multi:!0};function rk(e,t){return null==e?`${t}`:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let ik=(()=>{class e extends VS{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this.setProperty("selectedIndex",-1);const n=rk(t,e);this.setProperty("value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&r.NdJ("change",function(e){return t.onChange(e.target.value)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([nk]),r.qOj]}),e})(),ok=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(rk(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(ik,9))},e.\u0275dir=r.lG2({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const sk={provide:ZS,useExisting:(0,r.Gpc)(()=>ck),multi:!0};function ak(e,t){return null==e?`${t}`:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let ck=(()=>{class e extends VS{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(e){this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(void 0!==t.selectedOptions){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const r=e.item(t),i=this._getOptionValue(r.value);n.push(i)}}else{const e=t.options;for(let t=0;t<e.length;t++){const r=e.item(t);if(r.selected){const e=this._getOptionValue(r.value);n.push(e)}}}this.value=n,e(n)}}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275dir=r.lG2({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&r.NdJ("change",function(e){return t.onChange(e.target)})("blur",function(){return t.onTouched()})},inputs:{compareWith:"compareWith"},features:[r._Bn([sk]),r.qOj]}),e})(),lk=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(ak(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(ak(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj),r.Y36(ck,9))},e.\u0275dir=r.lG2({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const uk={provide:GS,useExisting:(0,r.Gpc)(()=>hk),multi:!0};let hk=(()=>{class e{constructor(){this._required=!1}get required(){return this._required}set required(e){this._required=null!=e&&!1!==e&&"false"!=`${e}`,this._onChange&&this._onChange()}validate(e){return this.required?QS(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(e,t){2&e&&r.uIk("required",t.required?"":null)},inputs:{required:"required"},features:[r._Bn([uk])]}),e})();const dk={provide:GS,useExisting:(0,r.Gpc)(()=>fk),multi:!0};let fk=(()=>{class e{constructor(){this._enabled=!1}set email(e){this._enabled=""===e||!0===e||"true"===e,this._onChange&&this._onChange()}validate(e){return this._enabled?JS(e):null}registerOnValidatorChange(e){this._onChange=e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=r.lG2({type:e,selectors:[["","email","","formControlName",""],["","email","","formControl",""],["","email","","ngModel",""]],inputs:{email:"email"},features:[r._Bn([dk])]}),e})(),pk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[YI]]}),e})(),gk=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[pk]}),e})(),mk=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:QI,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[pk]}),e})(),_k=(()=>{class e{group(e,t=null){const n=this._reduceControls(e);let r,i=null,o=null;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,o=null!=t.asyncValidators?t.asyncValidators:null,r=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,o=null!=t.asyncValidator?t.asyncValidator:null)),new ZI(n,{asyncValidators:o,updateOn:r,validators:i})}control(e,t,n){return new VI(e,t,n)}array(e,t,n){const r=e.map(e=>this._createControl(e));return new jI(r,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof VI||e instanceof ZI||e instanceof jI?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=(0,r.Yz7)({factory:function(){return new e},token:e,providedIn:mk}),e})();function yk(e,t){1&e&&(r.TgZ(0,"div",20),r._uU(1," Category field is required "),r.qZA())}function bk(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td"),r._uU(2),r.qZA(),r.TgZ(3,"td"),r._uU(4),r.qZA(),r.TgZ(5,"td"),r.TgZ(6,"button",21),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw().onEdit(t.data.category,t.id)}),r._uU(7," Edit "),r.qZA(),r.TgZ(8,"button",22),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw().onDelete(t.id)}),r._uU(9," Delete "),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit,n=t.index;r.xp6(2),r.Oqu(n+1),r.xp6(2),r.Oqu(e.data.category)}}const vk=function(e){return{"is-invalid":e}};let wk=(()=>{class e{constructor(e){this.categoryService=e,this.formStatus="Add"}ngOnInit(){this.categoryService.loadData().subscribe(e=>{console.log(e),this.categoryArray=e})}onSubmit(e){let t={category:e.value.category};"Add"==this.formStatus?(this.categoryService.saveData(t),e.reset()):"Edit"==this.formStatus&&(this.categoryService.updateData(this.categoryId,t),e.reset(),this.formStatus="Add")}onEdit(e,t){this.formCategory=e,this.formStatus="Edit",this.categoryId=t}onDelete(e){this.categoryService.deleteData(e)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(qS))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-categories"]],decls:33,vars:10,consts:[[1,"container"],[1,"row"],[1,"col-md-12","bg-secondary-theme","p-5","shadow-effect"],[1,"text-center","text-theme-primary"],[1,"text-center","mb-5"],[1,"text-center","d-flex",3,"ngSubmit"],["categoryForm","ngForm"],[1,"col-md-10"],["type","text","name","category","placeholder","Add New Categories","required","",1,"form-control",3,"ngModel","ngClass","ngModelChange"],["newCategory","ngModel"],["class","alert alert-danger",4,"ngIf"],[1,"col-md-2"],[1,"btn","btn-block","btn-in","mb-1","btn-theme",3,"disabled"],[1,"row","mt-5","mb-5"],[1,"col-md-3"],[1,"col-md-6"],[1,"card","shadow-effect"],[1,"card-body"],[1,"table","row-border","hover"],[4,"ngFor","ngForOf"],[1,"alert","alert-danger"],[1,"btn","btn-sm","btn-warning","me-3",3,"click"],[1,"btn","btn-sm","btn-danger","ml-2",3,"click"]],template:function(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"h3",3),r._uU(4),r.qZA(),r.TgZ(5,"p",4),r._uU(6),r.qZA(),r.TgZ(7,"form",5,6),r.NdJ("ngSubmit",function(){r.CHM(e);const n=r.MAs(8);return t.onSubmit(n)}),r.TgZ(9,"div",7),r.TgZ(10,"input",8,9),r.NdJ("ngModelChange",function(e){return t.formCategory=e}),r.qZA(),r.YNc(12,yk,2,0,"div",10),r.qZA(),r.TgZ(13,"div",11),r.TgZ(14,"button",12),r._uU(15),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(16,"div",13),r._UZ(17,"div",14),r.TgZ(18,"div",15),r.TgZ(19,"div",16),r.TgZ(20,"div",17),r.TgZ(21,"table",18),r.TgZ(22,"thead"),r.TgZ(23,"tr"),r.TgZ(24,"th"),r._uU(25,"No"),r.qZA(),r.TgZ(26,"th"),r._uU(27,"Category"),r.qZA(),r.TgZ(28,"th"),r._uU(29,"Action"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(30,"tbody"),r.YNc(31,bk,10,2,"tr",19),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(32,"div",14),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(8),n=r.MAs(11);r.xp6(4),r.hij(" ",t.formStatus," Categories "),r.xp6(2),r.hij(" You can add ",t.formStatus," categories from here ..! "),r.xp6(4),r.Q6J("ngModel",t.formCategory)("ngClass",r.VKq(8,vk,n.touched&&n.invalid)),r.xp6(2),r.Q6J("ngIf",n.touched&&n.invalid),r.xp6(2),r.Q6J("disabled",e.invalid),r.xp6(1),r.hij(" ",t.formStatus," Category "),r.xp6(16),r.Q6J("ngForOf",t.categoryArray)}},directives:[KI,_I,HI,zS,hk,mI,WI,se,ue,ce],styles:[".bg-secondary-theme[_ngcontent-%COMP%], .btn-in[_ngcontent-%COMP%]{background-color:#041e50;color:#fff}.btn-in[_ngcontent-%COMP%]{cursor:pointer}.btn-in[_ngcontent-%COMP%]:hover{background-color:#083588}"]}),e})(),Ck=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-dashboard"]],decls:20,vars:0,consts:[[1,"container"],[1,"row","m-auto"],[1,"col-md-6","mb-5"],["routerLink","../categories",1,"card","shadow-effect","pointer"],[1,"card-body","text-center"],[1,"mt-3","text-theme-primary"],[1,"bi","bi-clipboard-data-fill","heading"],[1,"text-theme-primary"],["routerLink","../disaster-list",1,"card","shadow-effect","pointer"],[1,"bi","bi-file-richtext-fill"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"h1",5),r._UZ(6,"i",6),r.qZA(),r.TgZ(7,"h2",7),r._uU(8,"Category"),r.qZA(),r.TgZ(9,"p"),r._uU(10,"Manage Your Category Details Here."),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(11,"div",2),r.TgZ(12,"div",8),r.TgZ(13,"div",4),r.TgZ(14,"h1",5),r._UZ(15,"i",9),r.qZA(),r.TgZ(16,"h2",7),r._uU(17,"Disaster List"),r.qZA(),r.TgZ(18,"p"),r._uU(19,"Manage Your list of Disaster."),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA())},directives:[Au],styles:[".text-theme-primary[_ngcontent-%COMP%]{color:#041e50}.card[_ngcontent-%COMP%]{cursor:pointer;text-align:center;height:200px}.bi[_ngcontent-%COMP%]{font-size:40px}.card[_ngcontent-%COMP%]:hover{--tw-shadow:0 25px 50px -12px #00000040;--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);transition:all .5s linear;transform:scale(1.05);cursor:pointer}.container[_ngcontent-%COMP%]{height:100vh;margin-top:100px}"]}),e})();const Ok="firebasestorage.googleapis.com";class Pk extends Ms.ZR{constructor(e,t){super(Tk(e),`Firebase Storage: ${t} (${Tk(e)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Pk.prototype)}_codeEquals(e){return Tk(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function Tk(e){return"storage/"+e}function Mk(){return new Pk("unknown","An unknown error occurred, please check the error payload for server response.")}function Sk(){return new Pk("canceled","User canceled the upload/download.")}function Ik(){return new Pk("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function kk(e){return new Pk("invalid-argument",e)}function Ek(){return new Pk("app-deleted","The Firebase app was deleted.")}function xk(e){return new Pk("invalid-root-operation","The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Ak(e,t){return new Pk("invalid-format","String does not match format '"+e+"': "+t)}function Dk(e){throw new Pk("internal-error","Internal error: "+e)}class Nk{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let n;try{n=Nk.makeFromUrl(e,t)}catch(r){return new Nk(e,"")}if(""===n.path)return n;throw new Pk("invalid-default-bucket","Invalid default bucket '"+e+"'.")}static makeFromUrl(e,t){let n=null;const r="([A-Za-z0-9.\\-_]+)",i=new RegExp("^gs://"+r+"(/(.*))?$","i");function o(e){e.path_=decodeURIComponent(e.path)}const s=t.replace(/[.]/g,"\\."),a=[{regex:i,indices:{bucket:1,path:3},postModify:function(e){"/"===e.path.charAt(e.path.length-1)&&(e.path_=e.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${s}/v[A-Za-z0-9_]+/b/${r}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:o},{regex:new RegExp(`^https?://${t===Ok?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${r}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:o}];for(let c=0;c<a.length;c++){const t=a[c],r=t.regex.exec(e);if(r){let e=r[t.indices.path];e||(e=""),n=new Nk(r[t.indices.bucket],e),t.postModify(n);break}}if(null==n)throw function(e){return new Pk("invalid-url","Invalid URL '"+e+"'.")}(e);return n}}class Rk{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function Fk(e){return"string"==typeof e||e instanceof String}function Lk(e){return qk()&&e instanceof Blob}function qk(){return"undefined"!=typeof Blob}function Uk(e,t,n,r){if(r<t)throw kk(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw kk(`Invalid value for '${e}'. Expected ${n} or less.`)}function Vk(e,t,n){let r=t;return null==n&&(r=`https://${t}`),`${n}://${r}/v0${e}`}function Zk(e){const t=encodeURIComponent;let n="?";for(const r in e)e.hasOwnProperty(r)&&(n=n+(t(r)+"=")+t(e[r])+"&");return n=n.slice(0,-1),n}var jk=(()=>(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"}(jk||(jk={})),jk))();class Bk{constructor(e,t,n,r,i,o,s,a,c,l,u){this.url_=e,this.method_=t,this.headers_=n,this.body_=r,this.successCodes_=i,this.additionalRetryCodes_=o,this.callback_=s,this.errorCallback_=a,this.timeout_=c,this.progressCallback_=l,this.connectionFactory_=u,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((e,t)=>{this.resolve_=e,this.reject_=t,this.start_()})}start_(){const e=(e,t)=>{const n=this.resolve_,r=this.reject_,i=t.connection;if(t.wasSuccessCode)try{const e=this.callback_(i,i.getResponse());!function(e){return void 0!==e}(e)?n():n(e)}catch(o){r(o)}else if(null!==i){const e=Mk();e.serverResponse=i.getErrorText(),r(this.errorCallback_?this.errorCallback_(i,e):e)}else r(t.canceled?this.appDelete_?Ek():Sk():new Pk("retry-limit-exceeded","Max retry time for operation exceeded, please try again."))};this.canceled_?e(0,new zk(!1,null,!0)):this.backoffId_=function(e,t,n){let r=1,i=null,o=null,s=!1,a=0;function c(){return 2===a}let l=!1;function u(...e){l||(l=!0,t.apply(null,e))}function h(t){i=setTimeout(()=>{i=null,e(f,c())},t)}function d(){o&&clearTimeout(o)}function f(e,...t){if(l)return void d();if(e)return d(),void u.call(null,e,...t);if(c()||s)return d(),void u.call(null,e,...t);let n;r<64&&(r*=2),1===a?(a=2,n=0):n=1e3*(r+Math.random()),h(n)}let p=!1;function g(e){p||(p=!0,d(),l||(null!==i?(e||(a=2),clearTimeout(i),h(0)):e||(a=1)))}return h(0),o=setTimeout(()=>{s=!0,g(!0)},n),g}((e,t)=>{if(t)return void e(!1,new zk(!1,null,!0));const n=this.connectionFactory_();this.pendingConnection_=n;const r=e=>{null!==this.progressCallback_&&this.progressCallback_(e.loaded,e.lengthComputable?e.total:-1)};null!==this.progressCallback_&&n.addUploadProgressListener(r),n.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&n.removeUploadProgressListener(r),this.pendingConnection_=null;const t=n.getErrorCode()===jk.NO_ERROR,i=n.getStatus();if(!t||this.isRetryStatusCode_(i)){const t=n.getErrorCode()===jk.ABORT;return void e(!1,new zk(!1,null,t))}const o=-1!==this.successCodes_.indexOf(i);e(!0,new zk(o,n))})},e,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function(e){e(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(e){const t=e>=500&&e<600,n=-1!==[408,429].indexOf(e),r=-1!==this.additionalRetryCodes_.indexOf(e);return t||n||r}}class zk{constructor(e,t,n){this.wasSuccessCode=e,this.connection=t,this.canceled=!!n}}function Hk(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function $k(...e){const t=Hk();if(void 0!==t){const n=new t;for(let t=0;t<e.length;t++)n.append(e[t]);return n.getBlob()}if(qk())return new Blob(e);throw new Pk("unsupported-environment","This browser doesn't seem to support creating Blobs")}const Gk={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Wk{constructor(e,t){this.data=e,this.contentType=t||null}}function Kk(e,t){switch(e){case Gk.RAW:return new Wk(Yk(t));case Gk.BASE64:case Gk.BASE64URL:return new Wk(Qk(e,t));case Gk.DATA_URL:return new Wk(function(e){const t=new Jk(e);return t.base64?Qk(Gk.BASE64,t.rest):function(e){let t;try{t=decodeURIComponent(e)}catch(n){throw Ak(Gk.DATA_URL,"Malformed data URL.")}return Yk(t)}(t.rest)}(t),new Jk(t).contentType)}throw Mk()}function Yk(e){const t=[];for(let n=0;n<e.length;n++){let r=e.charCodeAt(n);r<=127?t.push(r):r<=2047?t.push(192|r>>6,128|63&r):55296==(64512&r)?n<e.length-1&&56320==(64512&e.charCodeAt(n+1))?(r=65536|(1023&r)<<10|1023&e.charCodeAt(++n),t.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)):t.push(239,191,189):56320==(64512&r)?t.push(239,191,189):t.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(t)}function Qk(e,t){switch(e){case Gk.BASE64:{const n=-1!==t.indexOf("-"),r=-1!==t.indexOf("_");if(n||r)throw Ak(e,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break}case Gk.BASE64URL:{const n=-1!==t.indexOf("+"),r=-1!==t.indexOf("/");if(n||r)throw Ak(e,"Invalid character '"+(n?"+":"/")+"' found: is it base64 encoded?");t=t.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=atob(t)}catch(i){throw Ak(e,"Invalid character found")}const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}class Jk{constructor(e){this.base64=!1,this.contentType=null;const t=e.match(/^data:([^,]+)?,/);if(null===t)throw Ak(Gk.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const n=t[1]||null;var r,i;null!=n&&(this.base64=(r=n).length>=(i=";base64").length&&r.substring(r.length-i.length)===i,this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=e.substring(e.indexOf(",")+1)}}class Xk{constructor(e,t){let n=0,r="";Lk(e)?(this.data_=e,n=e.size,r=e.type):e instanceof ArrayBuffer?(t?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),n=this.data_.length):e instanceof Uint8Array&&(t?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),n=e.length),this.size_=n,this.type_=r}size(){return this.size_}type(){return this.type_}slice(e,t){if(Lk(this.data_)){const o=(r=e,i=t,(n=this.data_).webkitSlice?n.webkitSlice(r,i):n.mozSlice?n.mozSlice(r,i):n.slice?n.slice(r,i):null);return null===o?null:new Xk(o)}var n,r,i;{const n=new Uint8Array(this.data_.buffer,e,t-e);return new Xk(n,!0)}}static getBlob(...e){if(qk()){const t=e.map(e=>e instanceof Xk?e.data_:e);return new Xk($k.apply(null,t))}{const t=e.map(e=>Fk(e)?Kk(Gk.RAW,e).data:e.data_);let n=0;t.forEach(e=>{n+=e.byteLength});const r=new Uint8Array(n);let i=0;return t.forEach(e=>{for(let t=0;t<e.length;t++)r[i++]=e[t]}),new Xk(r,!0)}}uploadData(){return this.data_}}function eE(e){let t;try{t=JSON.parse(e)}catch(n){return null}return function(e){return"object"==typeof e&&!Array.isArray(e)}(t)?t:null}function tE(e){const t=e.lastIndexOf("/",e.length-2);return-1===t?e:e.slice(t+1)}function nE(e,t){return t}class rE{constructor(e,t,n,r){this.server=e,this.local=t||e,this.writable=!!n,this.xform=r||nE}}let iE=null;function oE(){if(iE)return iE;const e=[];e.push(new rE("bucket")),e.push(new rE("generation")),e.push(new rE("metageneration")),e.push(new rE("name","fullPath",!0));const t=new rE("name");t.xform=function(e,t){return function(e){return!Fk(e)||e.length<2?e:tE(e)}(t)},e.push(t);const n=new rE("size");return n.xform=function(e,t){return void 0!==t?Number(t):t},e.push(n),e.push(new rE("timeCreated")),e.push(new rE("updated")),e.push(new rE("md5Hash",null,!0)),e.push(new rE("cacheControl",null,!0)),e.push(new rE("contentDisposition",null,!0)),e.push(new rE("contentEncoding",null,!0)),e.push(new rE("contentLanguage",null,!0)),e.push(new rE("contentType",null,!0)),e.push(new rE("metadata","customMetadata",!0)),iE=e,iE}function sE(e,t,n){const r=eE(t);return null===r?null:function(e,t,n){const r={type:"file"},i=n.length;for(let o=0;o<i;o++){const e=n[o];r[e.local]=e.xform(r,t[e.server])}return function(e,t){Object.defineProperty(e,"ref",{get:function(){const n=new Nk(e.bucket,e.fullPath);return t._makeStorageReference(n)}})}(r,e),r}(e,r,n)}function aE(e,t){const n={},r=t.length;for(let i=0;i<r;i++){const r=t[i];r.writable&&(n[r.server]=e[r.local])}return JSON.stringify(n)}class cE{constructor(e,t,n,r){this.url=e,this.method=t,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function lE(e){if(!e)throw Mk()}function uE(e,t){return function(n,r){const i=sE(e,r,t);return lE(null!==i),i}}function hE(e){return function(t,n){let r;return r=401===t.getStatus()?t.getErrorText().includes("Firebase App Check token is invalid")?new Pk("unauthorized-app","This app does not have permission to access Firebase Storage on this project."):new Pk("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again."):402===t.getStatus()?new Pk("quota-exceeded","Quota for bucket '"+e.bucket+"' exceeded, please view quota on https://firebase.google.com/pricing/."):403===t.getStatus()?new Pk("unauthorized","User does not have permission to access '"+e.path+"'."):n,r.serverResponse=n.serverResponse,r}}function dE(e){const t=hE(e);return function(n,r){let i=t(n,r);return 404===n.getStatus()&&(i=new Pk("object-not-found","Object '"+e.path+"' does not exist.")),i.serverResponse=r.serverResponse,i}}function fE(e,t,n){const r=Vk(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new cE(r,"GET",uE(e,n),i);return o.errorHandler=dE(t),o}function pE(e,t,n){const r=Object.assign({},n);return r.fullPath=e.path,r.size=t.size(),r.contentType||(r.contentType=function(e,t){return t&&t.type()||"application/octet-stream"}(0,t)),r}class gE{constructor(e,t,n,r){this.current=e,this.total=t,this.finalized=!!n,this.metadata=r||null}}function mE(e,t){let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Status")}catch(r){lE(!1)}return lE(!!n&&-1!==(t||["active"]).indexOf(n)),n}const _E=262144,yE={STATE_CHANGED:"state_changed"},bE={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function vE(e){switch(e){case"running":case"pausing":case"canceling":return bE.RUNNING;case"paused":return bE.PAUSED;case"success":return bE.SUCCESS;case"canceled":return bE.CANCELED;case"error":default:return bE.ERROR}}class wE{constructor(e,t,n){if(function(e){return"function"==typeof e}(e)||null!=t||null!=n)this.next=e,this.error=null!=t?t:void 0,this.complete=null!=n?n:void 0;else{const t=e;this.next=t.next,this.error=t.error,this.complete=t.complete}}}function CE(e){return(...t)=>{Promise.resolve().then(()=>e(...t))}}class OE extends class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=jk.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=jk.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=jk.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,t,n,r){if(this.sent_)throw Dk("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(t,e,!0),void 0!==r)for(const i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return void 0!==n?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw Dk("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw Dk("cannot .getStatus() before sending");try{return this.xhr_.status}catch(e){return-1}}getResponse(){if(!this.sent_)throw Dk("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw Dk("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",e)}}{initXhr(){this.xhr_.responseType="text"}}function PE(){return new OE}class TE{constructor(e,t,n=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=e,this._blob=t,this._metadata=n,this._mappings=oE(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=e=>{this._request=void 0,this._chunkMultiplier=1,e._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=e,this._transition("error"))},this._metadataErrorHandler=e=>{this._request=void 0,e._codeEquals("canceled")?this.completeTransitions_():(this._error=e,this._transition("error"))},this._promise=new Promise((e,t)=>{this._resolve=e,this._reject=t,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const e=this._transferred;return t=>this._updateProgress(e+t)}_shouldDoResumable(e){return e.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(e){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([t,n])=>{switch(this._state){case"running":e(t,n);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((e,t)=>{const n=function(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s=pE(t,r,i),a={name:s.fullPath},c=Vk(o,e.host,e._protocol),l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${r.size()}`,"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},u=aE(s,n),h=new cE(c,"POST",function(e){let t;mE(e);try{t=e.getResponseHeader("X-Goog-Upload-URL")}catch(n){lE(!1)}return lE(Fk(t)),t},e.maxUploadRetryTime);return h.urlParams=a,h.headers=l,h.body=u,h.errorHandler=hE(t),h}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,PE,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._uploadUrl=e,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const e=this._uploadUrl;this._resolveToken((t,n)=>{const r=function(e,t,n,r){const i=new cE(n,"POST",function(e){const t=mE(e,["active","final"]);let n=null;try{n=e.getResponseHeader("X-Goog-Upload-Size-Received")}catch(o){lE(!1)}n||lE(!1);const i=Number(n);return lE(!isNaN(i)),new gE(i,r.size(),"final"===t)},e.maxUploadRetryTime);return i.headers={"X-Goog-Upload-Command":"query"},i.errorHandler=hE(t),i}(this._ref.storage,this._ref._location,e,this._blob),i=this._ref.storage._makeRequest(r,PE,t,n);this._request=i,i.getPromise().then(e=>{e=e,this._request=void 0,this._updateProgress(e.current),this._needToFetchStatus=!1,e.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const e=_E*this._chunkMultiplier,t=new gE(this._transferred,this._blob.size()),n=this._uploadUrl;this._resolveToken((r,i)=>{let o;try{o=function(e,t,n,r,i,o,s,a){const c=new gE(0,0);if(s?(c.current=s.current,c.total=s.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw new Pk("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.");const l=c.total-c.current;let u=l;i>0&&(u=Math.min(u,i));const h=c.current,d={"X-Goog-Upload-Command":u===l?"upload, finalize":"upload","X-Goog-Upload-Offset":`${c.current}`},f=r.slice(h,h+u);if(null===f)throw Ik();const p=new cE(n,"POST",function(e,n){const i=mE(e,["active","final"]),s=c.current+u,a=r.size();let l;return l="final"===i?uE(t,o)(e,n):null,new gE(s,a,"final"===i,l)},t.maxUploadRetryTime);return p.headers=d,p.body=f.uploadData(),p.progressCallback=a||null,p.errorHandler=hE(e),p}(this._ref._location,this._ref.storage,n,this._blob,e,this._mappings,t,this._makeProgressCallback())}catch(a){return this._error=a,void this._transition("error")}const s=this._ref.storage._makeRequest(o,PE,r,i);this._request=s,s.getPromise().then(e=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(e.current),e.finalized?(this._metadata=e.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){_E*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((e,t)=>{const n=fE(this._ref.storage,this._ref._location,this._mappings),r=this._ref.storage._makeRequest(n,PE,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((e,t)=>{const n=function(e,t,n,r,i){const o=t.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){let e="";for(let t=0;t<2;t++)e+=Math.random().toString().slice(2);return e}();s["Content-Type"]="multipart/related; boundary="+a;const c=pE(t,r,i),l=aE(c,n),u=Xk.getBlob("--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+a+"\r\nContent-Type: "+c.contentType+"\r\n\r\n",r,"\r\n--"+a+"--");if(null===u)throw Ik();const h={name:c.fullPath},d=Vk(o,e.host,e._protocol),f=e.maxUploadRetryTime,p=new cE(d,"POST",uE(e,n),f);return p.urlParams=h,p.headers=s,p.body=u.uploadData(),p.errorHandler=hE(t),p}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),r=this._ref.storage._makeRequest(n,PE,e,t);this._request=r,r.getPromise().then(e=>{this._request=void 0,this._metadata=e,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(e){const t=this._transferred;this._transferred=e,this._transferred!==t&&this._notifyObservers()}_transition(e){if(this._state!==e)switch(e){case"canceling":case"pausing":this._state=e,void 0!==this._request&&this._request.cancel();break;case"running":const t="paused"===this._state;this._state=e,t&&(this._notifyObservers(),this._start());break;case"paused":this._state=e,this._notifyObservers();break;case"canceled":this._error=Sk(),this._state=e,this._notifyObservers();break;case"error":case"success":this._state=e,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const e=vE(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:e,metadata:this._metadata,task:this,ref:this._ref}}on(e,t,n,r){const i=new wE(t||void 0,n||void 0,r||void 0);return this._addObserver(i),()=>{this._removeObserver(i)}}then(e,t){return this._promise.then(e,t)}catch(e){return this.then(null,e)}_addObserver(e){this._observers.push(e),this._notifyObserver(e)}_removeObserver(e){const t=this._observers.indexOf(e);-1!==t&&this._observers.splice(t,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(e=>{this._notifyObserver(e)})}_finishPromise(){if(void 0!==this._resolve){let e=!0;switch(vE(this._state)){case bE.SUCCESS:CE(this._resolve.bind(null,this.snapshot))();break;case bE.CANCELED:case bE.ERROR:CE(this._reject.bind(null,this._error))();break;default:e=!1}e&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(e){switch(vE(this._state)){case bE.RUNNING:case bE.PAUSED:e.next&&CE(e.next.bind(e,this.snapshot))();break;case bE.SUCCESS:e.complete&&CE(e.complete.bind(e))();break;case bE.CANCELED:case bE.ERROR:e.error&&CE(e.error.bind(e,this._error))();break;default:e.error&&CE(e.error.bind(e,this._error))()}}resume(){const e="paused"===this._state||"pausing"===this._state;return e&&this._transition("running"),e}pause(){const e="running"===this._state;return e&&this._transition("pausing"),e}cancel(){const e="running"===this._state||"pausing"===this._state;return e&&this._transition("canceling"),e}}class ME{constructor(e,t){this._service=e,this._location=t instanceof Nk?t:Nk.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new ME(e,t)}get root(){const e=new Nk(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return tE(this._location.path)}get storage(){return this._service}get parent(){const e=function(e){if(0===e.length)return null;const t=e.lastIndexOf("/");return-1===t?"":e.slice(0,t)}(this._location.path);if(null===e)return null;const t=new Nk(this._location.bucket,e);return new ME(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw xk(e)}}function SE(e,t,n){return IE.apply(this,arguments)}function IE(){return(IE=(0,Os.Z)(function*(e,t,n){const r={pageToken:n},i=yield kE(e,r);t.prefixes.push(...i.prefixes),t.items.push(...i.items),null!=i.nextPageToken&&(yield SE(e,t,i.nextPageToken))})).apply(this,arguments)}function kE(e,t){null!=t&&"number"==typeof t.maxResults&&Uk("options.maxResults",1,1e3,t.maxResults);const n=t||{},r=function(e,t,n,r,i){const o={};o.prefix=t.isRoot?"":t.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);const s=Vk(t.bucketOnlyServerUrl(),e.host,e._protocol),a=e.maxOperationRetryTime,c=new cE(s,"GET",function(e,t){return function(n,r){const i=function(e,t,n){const r=eE(n);return null===r?null:function(e,t,n){const r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(const i of n.prefixes){const n=i.replace(/\/$/,""),o=e._makeStorageReference(new Nk(t,n));r.prefixes.push(o)}if(n.items)for(const i of n.items){const n=e._makeStorageReference(new Nk(t,i.name));r.items.push(n)}return r}(e,t,r)}(e,t,r);return lE(null!==i),i}}(e,t.bucket),a);return c.urlParams=o,c.errorHandler=hE(t),c}(e.storage,e._location,"/",n.pageToken,n.maxResults);return e.storage.makeRequestWithTokens(r,PE)}function EE(e,t){const n=function(e,t){const n=t.split("/").filter(e=>e.length>0).join("/");return 0===e.length?n:e+"/"+n}(e._location.path,t),r=new Nk(e._location.bucket,n);return new ME(e.storage,r)}function xE(e,t){if(e instanceof NE){const n=e;if(null==n._bucket)throw new Pk("no-default-bucket","No default bucket found. Did you set the 'storageBucket' property when initializing the app?");const r=new ME(n,n._bucket);return null!=t?xE(r,t):r}return void 0!==t?EE(e,t):e}function AE(e,t){if(t&&/^[A-Za-z]+:\/\//.test(t)){if(e instanceof NE)return new ME(e,t);throw kk("To use ref(service, url), the first argument must be a Storage instance.")}return xE(e,t)}function DE(e,t){const n=null==t?void 0:t.storageBucket;return null==n?null:Nk.makeFromBucketSpec(n,e)}class NE{constructor(e,t,n,r,i){this.app=e,this._authProvider=t,this._appCheckProvider=n,this._url=r,this._firebaseVersion=i,this._bucket=null,this._host=Ok,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=r?Nk.makeFromBucketSpec(r,this._host):DE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?Nk.makeFromBucketSpec(this._url,e):DE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Uk("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Uk("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return(0,Os.Z)(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const e=yield t.getToken();if(null!==e)return e.accessToken}return null})()}_getAppCheckToken(){var e=this;return(0,Os.Z)(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new ME(this,e)}_makeRequest(e,t,n,r){if(this._deleted)return new Rk(Ek());{const i=function(e,t,n,r,i,o){const s=Zk(e.urlParams),a=e.url+s,c=Object.assign({},e.headers);return function(e,t){t&&(e["X-Firebase-GMPID"]=t)}(c,t),function(e,t){null!==t&&t.length>0&&(e.Authorization="Firebase "+t)}(c,n),function(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(null!=t?t:"AppManager")}(c,o),function(e,t){null!==t&&(e["X-Firebase-AppCheck"]=t)}(c,r),new Bk(a,e.method,c,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i)}(e,this._appId,n,r,t,this._firebaseVersion);return this._requests.add(i),i.getPromise().then(()=>this._requests.delete(i),()=>this._requests.delete(i)),i}}makeRequestWithTokens(e,t){var n=this;return(0,Os.Z)(function*(){const[r,i]=yield Promise.all([n._getAuthToken(),n._getAppCheckToken()]);return n._makeRequest(e,t,r,i).getPromise()})()}}const RE="@firebase/storage",FE="0.9.7";function LE(e,t){return AE(e=(0,Ms.m9)(e),t)}(0,Ps._registerComponent)(new Ts.wA("storage",function(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new NE(n,r,i,t,Ps.SDK_VERSION)},"PUBLIC").setMultipleInstances(!0)),(0,Ps.registerVersion)(RE,FE,""),(0,Ps.registerVersion)(RE,FE,"esm2017");class qE{constructor(e,t,n){this._delegate=e,this.task=t,this.ref=n}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class UE{constructor(e,t){this._delegate=e,this._ref=t,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new qE(this._delegate.snapshot,this,this._ref)}then(e,t){return this._delegate.then(t=>{if(e)return e(new qE(t,this,this._ref))},t)}on(e,t,n,r){let i;return t&&(i="function"==typeof t?e=>t(new qE(e,this,this._ref)):{next:t.next?e=>t.next(new qE(e,this,this._ref)):void 0,complete:t.complete||void 0,error:t.error||void 0}),this._delegate.on(e,i,n||void 0,r||void 0)}}class VE{constructor(e,t){this._delegate=e,this._service=t}get prefixes(){return this._delegate.prefixes.map(e=>new ZE(e,this._service))}get items(){return this._delegate.items.map(e=>new ZE(e,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class ZE{constructor(e,t){this._delegate=e,this.storage=t}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(e){const t=function(e,t){return EE(e,t)}(this._delegate,e);return new ZE(t,this.storage)}get root(){return new ZE(this._delegate.root,this.storage)}get parent(){const e=this._delegate.parent;return null==e?null:new ZE(e,this.storage)}put(e,t){return this._throwIfRoot("put"),new UE(function(e,t,n){return function(e,t,n){return e._throwIfRoot("uploadBytesResumable"),new TE(e,new Xk(t),n)}(e=(0,Ms.m9)(e),t,n)}(this._delegate,e,t),this)}putString(e,t=Gk.RAW,n){this._throwIfRoot("putString");const r=Kk(t,e),i=Object.assign({},n);return null==i.contentType&&null!=r.contentType&&(i.contentType=r.contentType),new UE(new TE(this._delegate,new Xk(r.data,!0),i),this)}listAll(){return function(e){return function(e){const t={prefixes:[],items:[]};return SE(e,t).then(()=>t)}(e=(0,Ms.m9)(e))}(this._delegate).then(e=>new VE(e,this.storage))}list(e){return function(e,t){return kE(e=(0,Ms.m9)(e),t)}(this._delegate,e||void 0).then(e=>new VE(e,this.storage))}getMetadata(){return function(e){return function(e){e._throwIfRoot("getMetadata");const t=fE(e.storage,e._location,oE());return e.storage.makeRequestWithTokens(t,PE)}(e=(0,Ms.m9)(e))}(this._delegate)}updateMetadata(e){return function(e,t){return function(e,t){e._throwIfRoot("updateMetadata");const n=function(e,t,n,r){const i=Vk(t.fullServerUrl(),e.host,e._protocol),o=aE(n,r),s=e.maxOperationRetryTime,a=new cE(i,"PATCH",uE(e,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=dE(t),a}(e.storage,e._location,t,oE());return e.storage.makeRequestWithTokens(n,PE)}(e=(0,Ms.m9)(e),t)}(this._delegate,e)}getDownloadURL(){return function(e){return function(e){e._throwIfRoot("getDownloadURL");const t=function(e,t,n){const r=Vk(t.fullServerUrl(),e.host,e._protocol),i=e.maxOperationRetryTime,o=new cE(r,"GET",function(e,t){return function(n,r){const i=sE(e,r,t);return lE(null!==i),function(e,t,n,r){const i=eE(t);if(null===i)return null;if(!Fk(i.downloadTokens))return null;const o=i.downloadTokens;if(0===o.length)return null;const s=encodeURIComponent;return o.split(",").map(t=>{const i=e.fullPath;return Vk("/b/"+s(e.bucket)+"/o/"+s(i),n,r)+Zk({alt:"media",token:t})})[0]}(i,r,e.host,e._protocol)}}(e,n),i);return o.errorHandler=dE(t),o}(e.storage,e._location,oE());return e.storage.makeRequestWithTokens(t,PE).then(e=>{if(null===e)throw new Pk("no-download-url","The given file does not have any download URLs.");return e})}(e=(0,Ms.m9)(e))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function(e){return function(e){e._throwIfRoot("deleteObject");const t=function(e,t){const n=Vk(t.fullServerUrl(),e.host,e._protocol),r=new cE(n,"DELETE",function(e,t){},e.maxOperationRetryTime);return r.successCodes=[200,204],r.errorHandler=dE(t),r}(e.storage,e._location);return e.storage.makeRequestWithTokens(t,PE)}(e=(0,Ms.m9)(e))}(this._delegate)}_throwIfRoot(e){if(""===this._delegate._location.path)throw xk(e)}}class jE{constructor(e,t){this.app=e,this._delegate=t}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(e){if(BE(e))throw kk("ref() expected a child path but got a URL, use refFromURL instead.");return new ZE(LE(this._delegate,e),this)}refFromURL(e){if(!BE(e))throw kk("refFromURL() expected a full URL but got a child path, use ref() instead.");try{Nk.makeFromUrl(e,this._delegate.host)}catch(t){throw kk("refFromUrl() expected a valid full URL but got an invalid one.")}return new ZE(LE(this._delegate,e),this)}setMaxUploadRetryTime(e){this._delegate.maxUploadRetryTime=e}setMaxOperationRetryTime(e){this._delegate.maxOperationRetryTime=e}useEmulator(e,t,n={}){!function(e,t,n,r={}){!function(e,t,n,r={}){e.host=`${t}:${n}`,e._protocol="http";const{mockUserToken:i}=r;i&&(e._overrideAuthToken="string"==typeof i?i:(0,Ms.Sg)(i,e.app.options.projectId))}(e,t,n,r)}(this._delegate,e,t,n)}}function BE(e){return/^[A-Za-z]+:\/\//.test(e)}function zE(e,{instanceIdentifier:t}){const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("storage").getImmediate({identifier:t});return new jE(n,r)}function HE(e){const t=function(e){return new di.y(t=>{const n=e=>t.next(e);n(e.snapshot);const r=e.on("state_changed",n);return e.then(e=>{n(e),t.complete()},r=>{n(e.snapshot),(e=>{t.error(e)})(r)}),function(){r()}}).pipe(function(e,t=fi.P){return n=>n.lift(new pi(e,t))}(0))}(e);return{task:e,then:e.then.bind(e),catch:e.catch.bind(e),pause:e.pause.bind(e),cancel:e.cancel.bind(e),resume:e.resume.bind(e),snapshotChanges:()=>t,percentageChanges:()=>t.pipe((0,Ni.U)(e=>e.bytesTransferred/e.totalBytes*100))}}function $E(e){return{getDownloadURL:()=>(0,Jr.of)(void 0).pipe(gs.fc,Go(()=>e.getDownloadURL()),gs.iC),getMetadata:()=>(0,Jr.of)(void 0).pipe(gs.fc,Go(()=>e.getMetadata()),gs.iC),delete:()=>(0,Fi.D)(e.delete()),child:t=>$E(e.child(t)),updateMetadata:t=>(0,Fi.D)(e.updateMetadata(t)),put:(t,n)=>HE(e.put(t,n)),putString:(t,n,r)=>HE(e.putString(t,n,r)),list:t=>(0,Fi.D)(e.list(t)),listAll:()=>(0,Fi.D)(e.listAll())}}!function(e){const t={TaskState:bE,TaskEvent:yE,StringFormat:Gk,Storage:jE,Reference:ZE};e.INTERNAL.registerComponent(new Ts.wA("storage-compat",zE,"PUBLIC").setServiceProps(t).setMultipleInstances(!0)),e.registerVersion("@firebase/storage-compat","0.1.15")}(ih.Z);const GE=new r.OlP("angularfire2.storageBucket"),WE=new r.OlP("angularfire2.storage.maxUploadRetryTime"),KE=new r.OlP("angularfire2.storage.maxOperationRetryTime"),YE=new r.OlP("angularfire2.storage.use-emulator");let QE=(()=>{class e{constructor(e,t,n,r,i,o,s,a,c,l){const u=(0,ms.on)(e,i,t);this.storage=(0,ms.cc)(`${u.name}.storage.${n}`,"AngularFireStorage",u.name,()=>{const e=i.runOutsideAngular(()=>u.storage(n||void 0)),t=c;return t&&e.useEmulator(...t),s&&e.setMaxUploadRetryTime(s),a&&e.setMaxOperationRetryTime(a),e},[s,a])}ref(e){return $E(this.storage.ref(e))}refFromURL(e){return $E(this.storage.refFromURL(e))}upload(e,t,n){return $E(this.storage.ref(e)).put(t,n)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ms.Dh),r.LFG(ms.xv,8),r.LFG(GE,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(gs.HU),r.LFG(WE,8),r.LFG(KE,8),r.LFG(YE,8),r.LFG(oa,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),JE=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})(),XE=(()=>{class e{constructor(){sa.Z.registerVersion("angularfire",gs.q4.full,"gcs-compat")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[QE],imports:[JE]}),e})(),ex=(()=>{class e{constructor(e,t,n,r,i){this.storage=e,this.afs=t,this.toastr=n,this.router=r,this.auth=i,this.auth.user$.subscribe(e=>{this.uid=null==e?void 0:e.uid})}uploadImage(e,t,n,r){const i=`disasterIMG/${Date.now()}`;console.log(i),this.storage.upload(i,e).then(()=>{console.log("disaster image uploaded successfully"),this.storage.ref(i).getDownloadURL().subscribe(e=>{t.disasterImgPath=e,console.log(t),"Edit"==n?this.updateData(r,t):this.saveData(t)})})}saveData(e){this.afs.collection("disasters").add(e).then(e=>{this.toastr.success("Data Insert Successfully")}).catch(e=>{console.log(e)})}loadData(){return this.afs.collection("disasters").snapshotChanges().pipe((0,Ni.U)(e=>e.map(e=>{const t=e.payload.doc.data();return{id:e.payload.doc.id,data:t}})))}loadOneData(e){return this.afs.doc(`disasters/${e}`).valueChanges()}updateData(e,t){this.afs.doc(`disasters/${e}`).update(t).then(()=>{this.toastr.success("Data Updated Successfully"),this.router.navigate(["/disasters"])})}deleteImage(e,t){this.storage.storage.refFromURL(e).delete().then(()=>{this.deleteData(t)})}deleteData(e){this.afs.doc(`disasters/${e}`).delete().then(()=>{this.toastr.warning("Data Deleted ..!")})}markFeatured(e,t){this.afs.doc(`disasters/${e}`).update(t).then(()=>{this.toastr.info("Featured Status Updated")})}loadFeatured(){return this.afs.collection("disasters",e=>e.where("isFeatured","==",!0)).snapshotChanges().pipe((0,Ni.U)(e=>e.map(e=>{const t=e.payload.doc.data();return{id:e.payload.doc.id,data:t}})))}loadUserDisaster(){return this.afs.collection("disasters",e=>e.where("uid","==",this.uid)).snapshotChanges().pipe((0,Ni.U)(e=>e.map(e=>{const t=e.payload.doc.data();return{id:e.payload.doc.id,data:t}})))}loadSearch(e){this.searchedArray=e,console.log(e)}loadCategoryDisasters(e){return this.afs.collection("disasters",t=>t.where("category.categoryId","==",e).limit(4)).snapshotChanges().pipe((0,Ni.U)(e=>e.map(e=>{const t=e.payload.doc.data();return{id:e.payload.doc.id,data:t}})))}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(QE),r.LFG(NS),r.LFG(Aa),r.LFG(xu),r.LFG(FS))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),tx=(()=>{class e{constructor(e,t){this.route=e,this.disasterService=t}ngOnInit(){this.route.params.subscribe(e=>{this.disasterService.loadOneData(e.id).subscribe(e=>{this.disasterData=e})})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(ll),r.Y36(ex))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-post-detail"]],decls:14,vars:5,consts:[[1,"disaster-details"],["alt","","width","40%",1,"float-end","rounded",2,"margin","10px","color","#ffff",3,"src"],[2,"color","#2a2a2b"],[1,"lh-lg","mt-3"],[3,"innerHtml"],["routerLink","/disasters",1,"btn","btn-theme","mt-3"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r._UZ(1,"img",1),r.TgZ(2,"h1"),r._uU(3),r.qZA(),r.TgZ(4,"i"),r._uU(5),r.qZA(),r._UZ(6,"br"),r._UZ(7,"br"),r.TgZ(8,"small",2),r._uU(9),r.qZA(),r.TgZ(10,"div",3),r._UZ(11,"p",4),r.qZA(),r.TgZ(12,"button",5),r._uU(13," Back to Disaster "),r.qZA(),r.qZA()),2&e&&(r.xp6(1),r.s9C("src",null==t.disasterData?null:t.disasterData.disasterImgPath,r.LSH),r.xp6(2),r.Oqu(t.disasterData.title),r.xp6(2),r.Oqu(t.disasterData.userName),r.xp6(4),r.Oqu(t.disasterData.excerpt),r.xp6(2),r.Q6J("innerHtml",t.disasterData.content,r.oJD))},directives:[Au],styles:[".post-details[_ngcontent-%COMP%]{width:70%;margin:auto;height:100vh}.btn-theme[_ngcontent-%COMP%]{background-color:#041e50;color:#fff}"]}),e})();const nx=function(e,t){return["/category",e,t]};function rx(e,t){if(1&e&&(r.TgZ(0,"ul",4),r.TgZ(1,"li",5),r.TgZ(2,"a",6),r._uU(3),r.qZA(),r.qZA(),r.qZA()),2&e){const e=t.$implicit;r.xp6(2),r.Q6J("routerLink",r.WLB(2,nx,e.data.category,e.id)),r.xp6(1),r.hij(" ",e.data.category," ")}}let ix=(()=>{class e{constructor(e){this.categoryService=e}ngOnInit(){this.categoryService.loadData().subscribe(e=>{this.categoryArray=e})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(qS))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-category"]],decls:4,vars:1,consts:[[1,"navbar","navbar-expand-lg","fixed","mt-3"],[1,"container"],[1,"collapse","navbar-collapse","justify-content-center"],["class","navbar-nav",4,"ngFor","ngForOf"],[1,"navbar-nav"],[1,"nav-item","ml-3","mb-3"],[1,"nav-link",3,"routerLink"]],template:function(e,t){1&e&&(r.TgZ(0,"nav",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.YNc(3,rx,4,5,"ul",3),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(3),r.Q6J("ngForOf",t.categoryArray))},directives:[ce,Du],styles:["a[_ngcontent-%COMP%]{color:#fff}a[_ngcontent-%COMP%]:hover{color:#bbb}li[_ngcontent-%COMP%]{background-color:#041e50;margin-right:10px;width:100px;text-align:center;border-radius:50%}"]}),e})();const ox=function(e){return["/disaster",e]};function sx(e,t){if(1&e&&(r.TgZ(0,"div",3),r.TgZ(1,"div",4),r.TgZ(2,"div",5),r._UZ(3,"img",6),r.qZA(),r.TgZ(4,"div",5),r.TgZ(5,"h2",7),r._uU(6),r.qZA(),r.TgZ(7,"p",8),r.TgZ(8,"i"),r._uU(9),r.qZA(),r.qZA(),r.TgZ(10,"div"),r._uU(11),r.qZA(),r.TgZ(12,"h5",9),r.TgZ(13,"i"),r._uU(14),r.ALo(15,"date"),r.qZA(),r.qZA(),r.TgZ(16,"button",10),r._uU(17," Read More "),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=t.$implicit;r.xp6(3),r.s9C("src",e.data.disasterImgPath,r.LSH),r.xp6(3),r.Oqu(e.data.title),r.xp6(3),r.Oqu(e.data.userName),r.xp6(2),r.Oqu(e.data.excerpt),r.xp6(3),r.Oqu(r.lcZ(15,6,e.data.createdAt.toMillis())),r.xp6(2),r.Q6J("routerLink",r.VKq(8,ox,e.id))}}let ax=(()=>{class e{constructor(e){this.disasterService=e}ngOnInit(){this.disasterService.loadFeatured().subscribe(e=>{this.filterDisasters=this.disasterArray=e,console.log(e)})}ReadMore(e){this.disasterService.loadOneData(e).subscribe(e=>{this.id=e})}filter(e){this.filterDisasters=e?this.disasterArray.filter(t=>t.data.title.toLowerCase().includes(e.toLowerCase())):this.disasterArray}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(ex))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-home"]],decls:4,vars:1,consts:[[1,"mt-2","mb-3"],[1,"post-list","pb-5"],["class","alert alert-in shadow-effect","role","alert",4,"ngFor","ngForOf"],["role","alert",1,"alert","alert-in","shadow-effect"],[1,"d-flex","flex-wrap","flex-xl-nowrap","flex-lg-nowrap","flex-md-nowrap"],[1,"p-2"],["alt","","width","196px","height","196px",1,"rounded",3,"src"],[1,"alert-heading","lh-1"],[1,""],[1,"alert-heading","mt-1"],[1,"btn","btn-in","mt-2",3,"routerLink"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r._UZ(1,"app-category"),r.qZA(),r.TgZ(2,"div",1),r.YNc(3,sx,18,10,"div",2),r.qZA()),2&e&&(r.xp6(3),r.Q6J("ngForOf",t.filterDisasters))},directives:[ix,ce,Au],pipes:[be],styles:[".post-list[_ngcontent-%COMP%]{width:70%;margin:auto}.alert-in[_ngcontent-%COMP%]{box-shadow:0 2px 4px #0006,0 7px 13px -3px #0000004d,inset 0 -3px 0 #0003}.alert-in[_ngcontent-%COMP%]:hover{--tw-shadow:0 25px 50px -12px #00000040;--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow);transition:all .5s linear;transform:scale(1.05);cursor:pointer}.btn-in[_ngcontent-%COMP%]{background-color:#041e50;color:#bbb}"]}),e})();function cx(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Email Cannot be Empty"),r.qZA())}function lx(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1," Please Enter a Valid Email Address "),r.qZA())}function ux(e,t){if(1&e&&(r.TgZ(0,"div",19),r.YNc(1,cx,2,0,"div",20),r.YNc(2,lx,2,0,"div",20),r.qZA()),2&e){r.oxw();const e=r.MAs(15);r.xp6(1),r.Q6J("ngIf",null==e.errors?null:e.errors.required),r.xp6(1),r.Q6J("ngIf",null==e.errors?null:e.errors.email)}}function hx(e,t){1&e&&(r.TgZ(0,"div",19),r._uU(1," Password Cannot be Empty "),r.qZA())}const dx=function(e){return{"is-invalid":e}};let fx=(()=>{class e{constructor(e,t,n){this.afs=e,this.afAuth=t,this.authService=n}ngOnInit(){}onSubmit(e){this.authService.login(e.email,e.password)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(NS),r.Y36(pa),r.Y36(FS))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-login"]],decls:29,vars:9,consts:[[1,"container"],[1,"row"],[1,"col-md-3"],[1,"col-md-6"],[1,"card","p-5","shadow-effect","bg-secondary-theme","mt-5"],[1,"card-body"],[1,"text-center","head","mb-2"],[1,"text-theme-primary"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"form-group"],["type","email","placeholder","Email","name","email","ngModel","","required","","email","",1,"form-control","mb-3",3,"ngClass"],["Email","ngModel"],["class","alert alert-danger",4,"ngIf"],["type","password","placeholder","Password","name","password","ngModel","","required","",1,"form-control","mb-2",3,"ngClass"],["Password","ngModel"],[1,"btn","btn-block","btn-theme","mt-3",3,"disabled"],[1,"redirectToLogin","mt-2"],["routerLink","/register-user",1,"redirect"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",1),r._UZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r.TgZ(6,"div",6),r.TgZ(7,"h2",7),r._uU(8,"Log In"),r.qZA(),r.TgZ(9,"h3"),r._uU(10,"Welcome Back"),r.qZA(),r.qZA(),r.TgZ(11,"form",8,9),r.NdJ("ngSubmit",function(){r.CHM(e);const n=r.MAs(12);return t.onSubmit(n.value)}),r.TgZ(13,"div",10),r._UZ(14,"input",11,12),r.YNc(16,ux,3,2,"div",13),r.qZA(),r.TgZ(17,"div",10),r._UZ(18,"input",14,15),r.YNc(20,hx,2,0,"div",13),r.qZA(),r.TgZ(21,"button",16),r._uU(22," Login "),r.qZA(),r.qZA(),r.TgZ(23,"div",17),r.TgZ(24,"span"),r._uU(25,"Don't have an account?"),r.TgZ(26,"span",18),r._uU(27," Sign Up"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(28,"div",2),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(12),t=r.MAs(15),n=r.MAs(19);r.xp6(14),r.Q6J("ngClass",r.VKq(5,dx,t.touched&&t.invalid)),r.xp6(2),r.Q6J("ngIf",t.touched&&t.invalid),r.xp6(2),r.Q6J("ngClass",r.VKq(7,dx,n.touched&&n.invalid)),r.xp6(2),r.Q6J("ngIf",n.touched&&n.invalid),r.xp6(1),r.Q6J("disabled",e.invalid)}},directives:[KI,_I,HI,zS,mI,WI,hk,fk,se,ue,Au],styles:[".container[_ngcontent-%COMP%]{height:100vh}.bg-secondary-theme[_ngcontent-%COMP%]{box-shadow:0 1px 2px 0 #3c40434d,0 1px 3px 1px #3c404326;color:#ddd}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:50px}.redirectToLogin[_ngcontent-%COMP%]{text-align:center;color:#041e50}.redirectToLogin[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]{color:#2b3e50;cursor:pointer;padding-left:3px}.redirectToLogin[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]:hover{color:#131d27}.btn-theme[_ngcontent-%COMP%]{background-color:#041e50;color:#fff;outline:none;border:none;width:100%}.head[_ngcontent-%COMP%]{color:#041e50}"]}),e})(),px=(()=>{class e{constructor(e){this.auth=e}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(FS))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function gx(e,t){1&e&&(r.TgZ(0,"button",17),r._uU(1," Back to Dashboard "),r.qZA())}function mx(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",24),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit;return r.oxw(2).onFeatured(t.id,!0)}),r._uU(1," Approved "),r.qZA()}}function _x(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",25),r.NdJ("click",function(){r.CHM(e);const t=r.oxw().$implicit;return r.oxw(2).onFeatured(t.id,!1)}),r._uU(1," Disapproved "),r.qZA()}}function yx(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td",14),r._uU(2),r.qZA(),r.TgZ(3,"td",18),r._UZ(4,"img",19),r.qZA(),r.TgZ(5,"td",15),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.ALo(11,"date"),r.qZA(),r.TgZ(12,"td",20),r.TgZ(13,"button",21),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw(2).onDelete(t.data.disasterImgPath,t.id)}),r._uU(14," Delete "),r.qZA(),r.YNc(15,mx,2,0,"button",22),r.YNc(16,_x,2,0,"button",23),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit,n=t.index;r.xp6(2),r.Oqu(n+1),r.xp6(2),r.s9C("src",e.data.disasterImgPath,r.LSH),r.xp6(2),r.Oqu(e.data.title),r.xp6(2),r.Oqu(e.data.category.category),r.xp6(2),r.Oqu(r.lcZ(11,7,e.data.createdAt.toMillis())),r.xp6(5),r.Q6J("ngIf",!e.data.isFeatured),r.xp6(1),r.Q6J("ngIf",e.data.isFeatured)}}function bx(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r.TgZ(6,"h3",6),r._uU(7,"All Blog disasters"),r.qZA(),r.TgZ(8,"p"),r._uU(9,"From here you can manage your blog disasters."),r.qZA(),r.TgZ(10,"button",7),r._uU(11," Add New disaster "),r.qZA(),r.YNc(12,gx,2,0,"button",8),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(13,"div",9),r.TgZ(14,"div",10),r.TgZ(15,"div",11),r.TgZ(16,"div",12),r.TgZ(17,"table",13),r.TgZ(18,"thead"),r.TgZ(19,"tr"),r.TgZ(20,"th",14),r._uU(21,"No"),r.qZA(),r.TgZ(22,"th",15),r._uU(23,"disaster Image"),r.qZA(),r.TgZ(24,"th"),r._uU(25,"Title"),r.qZA(),r.TgZ(26,"th"),r._uU(27,"Category"),r.qZA(),r.TgZ(28,"th"),r._uU(29,"Date"),r.qZA(),r.TgZ(30,"th"),r._uU(31,"Actions"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(32,"tbody"),r.YNc(33,yx,17,9,"tr",16),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(12),r.Q6J("ngIf",e.isAdmin),r.xp6(21),r.Q6J("ngForOf",e.disasterArray)}}const vx=function(e){return{id:e}};function wx(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"tr"),r.TgZ(1,"td",14),r._uU(2),r.qZA(),r.TgZ(3,"td",18),r._UZ(4,"img",19),r.qZA(),r.TgZ(5,"td",15),r._uU(6),r.qZA(),r.TgZ(7,"td"),r._uU(8),r.qZA(),r.TgZ(9,"td"),r._uU(10),r.ALo(11,"date"),r.qZA(),r.TgZ(12,"td",20),r.TgZ(13,"button",26),r._uU(14," Edit "),r.qZA(),r.TgZ(15,"button",21),r.NdJ("click",function(){const t=r.CHM(e).$implicit;return r.oxw(2).onDelete(t.data.disasterImgPath,t.id)}),r._uU(16," Delete "),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=t.$implicit,n=t.index;r.xp6(2),r.Oqu(n+1),r.xp6(2),r.s9C("src",e.data.disasterImgPath,r.LSH),r.xp6(2),r.Oqu(e.data.title),r.xp6(2),r.Oqu(e.data.category.category),r.xp6(2),r.Oqu(r.lcZ(11,6,e.data.createdAt.toMillis())),r.xp6(3),r.Q6J("queryParams",r.VKq(8,vx,e.id))}}function Cx(e,t){if(1&e&&(r.TgZ(0,"div"),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r.TgZ(6,"h3",6),r._uU(7,"All Blog disasters"),r.qZA(),r.TgZ(8,"p"),r._uU(9,"From here you can manage your blog disasters."),r.qZA(),r.TgZ(10,"button",7),r._uU(11," Add New disaster "),r.qZA(),r.TgZ(12,"button",17),r._uU(13," Back to Home "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(14,"div",9),r.TgZ(15,"div",10),r.TgZ(16,"div",11),r.TgZ(17,"div",12),r.TgZ(18,"table",13),r.TgZ(19,"thead"),r.TgZ(20,"tr"),r.TgZ(21,"th",14),r._uU(22,"No"),r.qZA(),r.TgZ(23,"th",15),r._uU(24,"disaster Image"),r.qZA(),r.TgZ(25,"th"),r._uU(26,"Title"),r.qZA(),r.TgZ(27,"th"),r._uU(28,"Category"),r.qZA(),r.TgZ(29,"th"),r._uU(30,"Date"),r.qZA(),r.TgZ(31,"th"),r._uU(32,"Actions"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(33,"tbody"),r.YNc(34,wx,17,10,"tr",16),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(34),r.Q6J("ngForOf",e.userDisasterArray)}}let Ox=(()=>{class e{constructor(e,t,n){this.disasterService=e,this.authService=t,this.userService=n,this.authService.user$.pipe(Go(e=>this.authService.getUserData(null==e?void 0:e.uid))).subscribe(e=>{this.isAdmin=null==e?void 0:e.isAdmin}),this.authService.user$.subscribe(e=>{this.uid=e.uid})}ngOnInit(){this.disasterService.loadData().subscribe(e=>{this.disasterArray=e,this.userDisasterArray=this.disasterArray.filter(e=>e.data.uid==this.uid),console.log(this.userDisasterArray)})}onDelete(e,t){this.disasterService.deleteImage(e,t)}onFeatured(e,t){this.disasterService.markFeatured(e,{isFeatured:t})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(ex),r.Y36(FS),r.Y36(px))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-disaster-list"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"container"],[1,"row"],[1,"col-md-12"],[1,"card","shadow-effect","bg-secondary-theme"],[1,"card-body","text-center"],[1,"text-theme-center"],["routerLink","/disasters/create",1,"btn","btn-info","bg-theme","me-3"],["class","btn btn-warning ml-2","routerLink","/",4,"ngIf"],[1,"row","mt-5"],[1,"col-md-12","mb-5"],[1,"card","shadow-effect"],[1,"card-body"],[1,"table","row-border","hover"],["width","10"],["width","200"],[4,"ngFor","ngForOf"],["routerLink","/",1,"btn","btn-warning","ml-2"],["width","200","height","100"],["height","50px",1,"img","img-fluid",3,"src"],[1,"d-flex"],[1,"btn","btn-sm","btn-danger","me-2",3,"click"],["class","btn btn-sm btn-success ml-2",3,"click",4,"ngIf"],["class","btn btn-sm btn-info ml-2",3,"click",4,"ngIf"],[1,"btn","btn-sm","btn-success","ml-2",3,"click"],[1,"btn","btn-sm","btn-info","ml-2",3,"click"],["routerLink","../disasters/create",1,"btn","btn-sm","btn-warning","me-2",3,"queryParams"]],template:function(e,t){1&e&&(r.YNc(0,bx,34,2,"div",0),r.YNc(1,Cx,35,1,"div",0)),2&e&&(r.Q6J("ngIf",t.isAdmin),r.xp6(1),r.Q6J("ngIf",!t.isAdmin))},directives:[ue,Au,ce],pipes:[be],styles:[".bg-secondary-theme[_ngcontent-%COMP%]{background-color:#041e50;color:#fff}"]}),e})();function Px(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1," UserName Cannot be Empty "),r.qZA())}function Tx(e,t){if(1&e&&(r.TgZ(0,"div",21),r.YNc(1,Px,2,0,"div",22),r.qZA()),2&e){r.oxw();const e=r.MAs(15);r.xp6(1),r.Q6J("ngIf",null==e.errors?null:e.errors.required)}}function Mx(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1,"Email Cannot be Empty"),r.qZA())}function Sx(e,t){1&e&&(r.TgZ(0,"div"),r._uU(1," Please Enter a Valid Email Address "),r.qZA())}function Ix(e,t){if(1&e&&(r.TgZ(0,"div",21),r.YNc(1,Mx,2,0,"div",22),r.YNc(2,Sx,2,0,"div",22),r.qZA()),2&e){r.oxw();const e=r.MAs(19);r.xp6(1),r.Q6J("ngIf",null==e.errors?null:e.errors.required),r.xp6(1),r.Q6J("ngIf",null==e.errors?null:e.errors.email)}}function kx(e,t){1&e&&(r.TgZ(0,"div",21),r._uU(1," Password Cannot be Empty "),r.qZA())}const Ex=function(e){return{"is-invalid":e}};let xx=(()=>{class e{constructor(e){this.authService=e}ngOnInit(){}onSubmit(e){this.authService.signup(e.userName,e.email,e.password)}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(FS))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-signup"]],decls:33,vars:13,consts:[[1,"container"],[1,"row"],[1,"col-md-3"],[1,"col-md-6"],[1,"card","p-5","shadow-effect","bg-secondary-theme","mt-5"],[1,"card-body"],[1,"text-center","mb-2"],[1,"text-theme-primary"],[3,"ngSubmit"],["loginForm","ngForm"],[1,"form-group"],["type","text","placeholder","UserName","name","userName","ngModel","","required","","userName","",1,"form-control","mb-3",3,"ngClass"],["userName","ngModel"],["class","alert alert-danger",4,"ngIf"],["type","email","placeholder","Email","name","email","ngModel","","required","","email","",1,"form-control","mb-3",3,"ngClass"],["Email","ngModel"],["type","password","placeholder","Password","name","password","ngModel","","required","",1,"form-control","mb-2",3,"ngClass"],["Password","ngModel"],[1,"btn","btn-block","btn-theme","mt-3",3,"disabled"],[1,"redirectToLogin","mt-2"],["routerLink","/login",1,"redirect"],[1,"alert","alert-danger"],[4,"ngIf"]],template:function(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",0),r.TgZ(1,"div",1),r._UZ(2,"div",2),r.TgZ(3,"div",3),r.TgZ(4,"div",4),r.TgZ(5,"div",5),r.TgZ(6,"div",6),r.TgZ(7,"h2",7),r._uU(8,"Sign Up"),r.qZA(),r.TgZ(9,"p"),r._uU(10,"Please signup to create an account to post disaster posts"),r.qZA(),r.qZA(),r.TgZ(11,"form",8,9),r.NdJ("ngSubmit",function(){r.CHM(e);const n=r.MAs(12);return t.onSubmit(n.value)}),r.TgZ(13,"div",10),r._UZ(14,"input",11,12),r.YNc(16,Tx,2,1,"div",13),r.qZA(),r.TgZ(17,"div",10),r._UZ(18,"input",14,15),r.YNc(20,Ix,3,2,"div",13),r.qZA(),r.TgZ(21,"div",10),r._UZ(22,"input",16,17),r.YNc(24,kx,2,0,"div",13),r.qZA(),r.TgZ(25,"button",18),r._uU(26," Sign Up "),r.qZA(),r.qZA(),r.TgZ(27,"div",19),r.TgZ(28,"span"),r._uU(29,"Already have an account? "),r.TgZ(30,"span",20),r._uU(31,"Log In"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r._UZ(32,"div",2),r.qZA(),r.qZA()}if(2&e){const e=r.MAs(12),t=r.MAs(15),n=r.MAs(19),i=r.MAs(23);r.xp6(14),r.Q6J("ngClass",r.VKq(7,Ex,t.touched&&t.invalid)),r.xp6(2),r.Q6J("ngIf",t.touched&&t.invalid),r.xp6(2),r.Q6J("ngClass",r.VKq(9,Ex,n.touched&&n.invalid)),r.xp6(2),r.Q6J("ngIf",n.touched&&n.invalid),r.xp6(2),r.Q6J("ngClass",r.VKq(11,Ex,i.touched&&i.invalid)),r.xp6(2),r.Q6J("ngIf",i.touched&&i.invalid),r.xp6(1),r.Q6J("disabled",e.invalid)}},directives:[KI,_I,HI,zS,mI,WI,hk,se,ue,fk,Au],styles:[".container[_ngcontent-%COMP%]{height:100vh}.bg-secondary-theme[_ngcontent-%COMP%]{box-shadow:0 1px 2px 0 #3c40434d,0 1px 3px 1px #3c404326;color:#041e50}form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:50px}.redirectToLogin[_ngcontent-%COMP%]{text-align:center}.redirectToLogin[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]{color:#2b3e50;cursor:pointer;padding-left:3px}.redirectToLogin[_ngcontent-%COMP%]   .redirect[_ngcontent-%COMP%]:hover{color:#131d27}.btn-theme[_ngcontent-%COMP%]{background-color:#041e50;color:#fff;outline:none;border:none;width:100%}"]}),e})(),Ax=(()=>{class e{constructor(e,t,n){this.authService=e,this.router=t,this.toastr=n}canActivate(e,t){return this.authService.user$?(console.log("Access Granted .."),!0):(this.toastr.warning("You dont have permission to access this page .."),this.router.navigate(["/login"]),!1)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(FS),r.LFG(xu),r.LFG(Aa))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function Dx(e,t){if(1&e&&(r.TgZ(0,"div",3),r.TgZ(1,"div",4),r.TgZ(2,"h1"),r._uU(3),r.qZA(),r.TgZ(4,"p"),r._uU(5),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(3),r.Oqu(e.categoryObj.category),r.xp6(2),r.hij("No blog with ",e.categoryObj.category,"")}}const Nx=function(e){return["/disaster",e]};function Rx(e,t){if(1&e&&(r.TgZ(0,"div",11),r._UZ(1,"img",12),r.TgZ(2,"div",13),r.TgZ(3,"small",14),r._uU(4),r.qZA(),r.TgZ(5,"h5",15),r._uU(6),r.qZA(),r.TgZ(7,"p"),r._uU(8),r.qZA(),r.TgZ(9,"small",16),r._uU(10),r.ALo(11,"date"),r.qZA(),r.qZA(),r.qZA()),2&e){const e=r.oxw(2).$implicit;r.Q6J("routerLink",r.VKq(8,Nx,e.id)),r.xp6(1),r.s9C("src",e.data.disasterImgPath,r.LSH),r.xp6(3),r.hij(" ",e.data.category.category," "),r.xp6(2),r.Oqu(e.data.title),r.xp6(2),r.Oqu(e.data.excerpt),r.xp6(2),r.hij(" LAST UPDATED - ",r.lcZ(11,6,e.data.createdAt.toMillis())," ")}}function Fx(e,t){if(1&e&&(r.TgZ(0,"div",9),r.YNc(1,Rx,12,10,"div",10),r.qZA()),2&e){const e=r.oxw().$implicit;r.xp6(1),r.Q6J("ngIf",e)}}function Lx(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,Fx,2,1,"div",8),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.Q6J("ngIf",e.data.isFeatured)}}function qx(e,t){if(1&e&&(r.TgZ(0,"div",5),r.TgZ(1,"h1"),r._uU(2),r.qZA(),r.TgZ(3,"div",6),r.YNc(4,Lx,2,1,"div",7),r.qZA(),r.qZA()),2&e){const e=r.oxw();r.xp6(2),r.Oqu(e.categoryObj.category),r.xp6(2),r.Q6J("ngForOf",e.disastersArray)}}let Ux=(()=>{class e{constructor(e,t){this.route=e,this.disasterService=t}ngOnInit(){this.route.params.subscribe(e=>{console.log(e),this.categoryObj=e,this.disasterService.loadCategoryDisasters(e.id).subscribe(e=>{this.disastersArray=e,console.log(e)})})}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(ll),r.Y36(ex))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-category-list"]],decls:3,vars:2,consts:[[1,"box"],["class","bg-theme p-5",4,"ngIf"],["class","container mb-5",4,"ngIf"],[1,"bg-theme","p-5"],[1,"container"],[1,"container","mb-5"],[1,"row"],[4,"ngFor","ngForOf"],["class","col-md-4 mb-3",4,"ngIf"],[1,"col-md-4","mb-3"],["class","card shadow-effect",3,"routerLink",4,"ngIf"],[1,"card","shadow-effect",3,"routerLink"],["alt","post-image",1,"card-img-top",3,"src"],[1,"card-body"],[1,"bg-light","text-danger","text-center"],[1,"mt-1"],[1,"bg-light","text-warning","text-center"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.YNc(1,Dx,6,2,"div",1),r.YNc(2,qx,5,2,"div",2),r.qZA()),2&e&&(r.xp6(1),r.Q6J("ngIf",(null==t.disastersArray?null:t.disastersArray.length)<1||!t.disastersArray.isFeatured),r.xp6(1),r.Q6J("ngIf",t.disastersArray))},directives:[ue,ce,Au],pipes:[be],styles:[".box[_ngcontent-%COMP%]{height:100vh}.card[_ngcontent-%COMP%]{cursor:pointer}"]}),e})();const Vx=["editor"],Zx=["editorWrapper"],jx=["editorToolbar"];function Bx(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"angular-editor-toolbar",8,9),r.NdJ("execute",function(t){return r.CHM(e),r.oxw().executeCommand(t)}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("id",e.id)("uploadUrl",e.config.uploadUrl)("upload",e.config.upload)("showToolbar",void 0===e.config.showToolbar||e.config.showToolbar)("fonts",e.getFonts())("customClasses",e.config.customClasses)("defaultFontName",e.config.defaultFontName)("defaultFontSize",e.config.defaultFontSize)("hiddenButtons",e.config.toolbarHiddenButtons)}}function zx(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"angular-editor-toolbar",8,9),r.NdJ("execute",function(t){return r.CHM(e),r.oxw().executeCommand(t)}),r.qZA()}if(2&e){const e=r.oxw();r.Q6J("id",e.id)("uploadUrl",e.config.uploadUrl)("upload",e.config.upload)("showToolbar",void 0===e.config.showToolbar||e.config.showToolbar)("fonts",e.getFonts())("customClasses",e.config.customClasses)("defaultFontName",e.config.defaultFontName)("defaultFontSize",e.config.defaultFontSize)("hiddenButtons",e.config.toolbarHiddenButtons)}}const Hx=["fileInput"];function $x(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",2),r.TgZ(1,"ae-select",63),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw(2).customClassId=t})("change",function(){r.CHM(e);const t=r.oxw(2);return t.setCustomClass(t.customClassId)}),r.qZA(),r.qZA()}if(2&e){const e=r.oxw(2);r.xp6(1),r.Q6J("options",e.customClassList)("ngModel",e.customClassId)("disabled",e.htmlMode)("hidden",e.isButtonHidden("customClasses"))}}function Gx(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"div",1),r.TgZ(1,"div",2),r.TgZ(2,"button",3),r.NdJ("click",function(){return r.CHM(e),r.oxw().triggerCommand("undo")}),r._UZ(3,"i",4),r.qZA(),r.TgZ(4,"button",5),r.NdJ("click",function(){return r.CHM(e),r.oxw().triggerCommand("redo")}),r._UZ(5,"i",6),r.qZA(),r.qZA(),r.TgZ(6,"div",2),r.TgZ(7,"button",7),r.NdJ("click",function(){return r.CHM(e),r.oxw().triggerCommand("bold")}),r._UZ(8,"i",8),r.qZA(),r.TgZ(9,"button",9),r.NdJ("click",function(){return r.CHM(e),r.oxw().triggerCommand("italic")}),r._UZ(10,"i",10),r.qZA(),r.TgZ(11,"button",11),r.NdJ("click",function(){return r.CHM(e),r.oxw().triggerCommand("underline")}),r._UZ(12,"i",12),r.qZA(),r.TgZ(13,"button",13),r.NdJ("click",function(){return r.CHM(e),r.oxw().triggerCommand("strikeThrough")}),r._UZ(14,"i",14),r.qZA(),r.TgZ(15,"button",15),r.NdJ("click",function(){return r.CHM(e),r.oxw().triggerCommand("subscript")}),r._UZ(16,"i",16),r.qZA(),r.TgZ(17,"button",17),r.NdJ("click",function(){return r.CHM(e),r.oxw().triggerCommand("superscript")}),r._UZ(18,"i",18),r.qZA(),r.qZA(),r.TgZ(19,"div",2),r.TgZ(20,"button",19),r.NdJ("click",function(){return r.CHM(e),r.oxw().triggerCommand("justifyLeft")}),r._UZ(21,"i",20),r.qZA(),r.TgZ(22,"button",21),r.NdJ("click",function(){return r.CHM(e),r.oxw().triggerCommand("justifyCenter")}),r._UZ(23,"i",22),r.qZA(),r.TgZ(24,"button",23),r.NdJ("click",function(){return r.CHM(e),r.oxw().triggerCommand("justifyRight")}),r._UZ(25,"i",24),r.qZA(),r.TgZ(26,"button",25),r.NdJ("click",function(){return r.CHM(e),r.oxw().triggerCommand("justifyFull")}),r._UZ(27,"i",26),r.qZA(),r.qZA(),r.TgZ(28,"div",2),r.TgZ(29,"button",27),r.NdJ("click",function(){return r.CHM(e),r.oxw().triggerCommand("indent")}),r._UZ(30,"i",28),r.qZA(),r.TgZ(31,"button",29),r.NdJ("click",function(){return r.CHM(e),r.oxw().triggerCommand("outdent")}),r._UZ(32,"i",30),r.qZA(),r.qZA(),r.TgZ(33,"div",2),r.TgZ(34,"button",31),r.NdJ("click",function(){return r.CHM(e),r.oxw().triggerCommand("insertUnorderedList")}),r._UZ(35,"i",32),r.qZA(),r.TgZ(36,"button",33),r.NdJ("click",function(){return r.CHM(e),r.oxw().triggerCommand("insertOrderedList")}),r._UZ(37,"i",34),r.qZA(),r.qZA(),r.TgZ(38,"div",2),r.TgZ(39,"ae-select",35),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().block=t})("change",function(){r.CHM(e);const t=r.oxw();return t.triggerCommand(t.block)}),r.qZA(),r.qZA(),r.TgZ(40,"div",2),r.TgZ(41,"ae-select",36),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().fontName=t})("change",function(){r.CHM(e);const t=r.oxw();return t.setFontName(t.fontName)}),r.qZA(),r.qZA(),r.TgZ(42,"div",2),r.TgZ(43,"ae-select",37),r.NdJ("ngModelChange",function(t){return r.CHM(e),r.oxw().fontSize=t})("change",function(){r.CHM(e);const t=r.oxw();return t.setFontSize(t.fontSize)}),r.qZA(),r.qZA(),r.TgZ(44,"div",2),r.TgZ(45,"input",38,39),r.NdJ("change",function(){r.CHM(e);const t=r.MAs(46);return r.oxw().insertColor(t.value,"textColor")}),r.qZA(),r.TgZ(47,"button",40),r.NdJ("click",function(){r.CHM(e);const t=r.MAs(46);return r.oxw().focus(),t.click()}),r.TgZ(48,"span",41),r._UZ(49,"i",42),r.qZA(),r.qZA(),r.TgZ(50,"input",38,43),r.NdJ("change",function(){r.CHM(e);const t=r.MAs(51);return r.oxw().insertColor(t.value,"backgroundColor")}),r.qZA(),r.TgZ(52,"button",44),r.NdJ("click",function(){r.CHM(e);const t=r.MAs(51);return r.oxw().focus(),t.click()}),r.TgZ(53,"span",45),r._UZ(54,"i",42),r.qZA(),r.qZA(),r.qZA(),r.YNc(55,$x,2,4,"div",46),r.TgZ(56,"div",2),r.TgZ(57,"button",47),r.NdJ("click",function(){return r.CHM(e),r.oxw().insertUrl()}),r._UZ(58,"i",48),r.qZA(),r.TgZ(59,"button",49),r.NdJ("click",function(){return r.CHM(e),r.oxw().triggerCommand("unlink")}),r._UZ(60,"i",50),r.qZA(),r.TgZ(61,"input",51,52),r.NdJ("change",function(t){return r.CHM(e),r.oxw().onFileChanged(t)}),r.qZA(),r.TgZ(63,"button",53),r.NdJ("click",function(){r.CHM(e);const t=r.MAs(62);return r.oxw().focus(),t.click()}),r._UZ(64,"i",54),r.qZA(),r.TgZ(65,"button",55),r.NdJ("click",function(){return r.CHM(e),r.oxw().insertVideo()}),r._UZ(66,"i",56),r.qZA(),r.TgZ(67,"button",57),r.NdJ("click",function(){return r.CHM(e),r.oxw().triggerCommand("insertHorizontalRule")}),r._UZ(68,"i",58),r.qZA(),r.qZA(),r.TgZ(69,"div",2),r.TgZ(70,"button",59),r.NdJ("click",function(){return r.CHM(e),r.oxw().triggerCommand("removeFormat")}),r._UZ(71,"i",60),r.qZA(),r.qZA(),r.TgZ(72,"div",2),r.TgZ(73,"button",61),r.NdJ("click",function(){return r.CHM(e),r.oxw().triggerCommand("toggleEditorMode")}),r._UZ(74,"i",62),r.qZA(),r.qZA(),r.qZA()}if(2&e){const e=r.oxw();r.xp6(2),r.Q6J("hidden",e.isButtonHidden("undo")),r.xp6(2),r.Q6J("hidden",e.isButtonHidden("redo")),r.xp6(3),r.Q6J("id","bold-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("bold")),r.xp6(2),r.Q6J("id","italic-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("italic")),r.xp6(2),r.Q6J("id","underline-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("underline")),r.xp6(2),r.Q6J("id","strikeThrough-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("strikeThrough")),r.xp6(2),r.Q6J("id","subscript-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("subscript")),r.xp6(2),r.Q6J("id","superscript-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("superscript")),r.xp6(3),r.Q6J("id","justifyLeft-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("justifyLeft")),r.xp6(2),r.Q6J("id","justifyCenter-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("justifyCenter")),r.xp6(2),r.Q6J("id","justifyRight-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("justifyRight")),r.xp6(2),r.Q6J("id","justifyFull-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("justifyFull")),r.xp6(3),r.Q6J("id","indent-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("indent")),r.xp6(2),r.Q6J("id","outdent-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("outdent")),r.xp6(3),r.Q6J("id","insertUnorderedList-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("insertUnorderedList")),r.xp6(2),r.Q6J("id","insertOrderedList-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("insertOrderedList")),r.xp6(3),r.Q6J("options",e.headings)("ngModel",e.block)("disabled",e.htmlMode)("hidden",e.isButtonHidden("heading")),r.xp6(2),r.Q6J("options",e.fonts)("ngModel",e.fontName)("disabled",e.htmlMode)("hidden",e.isButtonHidden("fontName")),r.xp6(2),r.Q6J("options",e.fontSizes)("ngModel",e.fontSize)("disabled",e.htmlMode)("hidden",e.isButtonHidden("fontSize")),r.xp6(4),r.Q6J("id","foregroundColorPicker-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("textColor")),r.xp6(5),r.Q6J("id","backgroundColorPicker-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("backgroundColor")),r.xp6(3),r.Q6J("ngIf",e._customClasses),r.xp6(2),r.Q6J("id","link-"+e.id)("disabled",e.isLinkButtonDisabled)("hidden",e.isButtonHidden("link")),r.xp6(2),r.Q6J("id","unlink-"+e.id)("disabled",e.htmlMode||!e.linkSelected)("hidden",e.isButtonHidden("unlink")),r.xp6(4),r.Q6J("id","insertImage-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("insertImage")),r.xp6(2),r.Q6J("id","insertVideo-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("insertVideo")),r.xp6(2),r.Q6J("id","insertHorizontalRule-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("insertHorizontalRule")),r.xp6(3),r.Q6J("id","clearFormatting-"+e.id)("disabled",e.htmlMode)("hidden",e.isButtonHidden("removeFormat")),r.xp6(3),r.Q6J("id","toggleEditorMode-"+e.id)("hidden",e.isButtonHidden("toggleEditorMode"))}}const Wx=["labelButton"],Kx=function(e,t){return{selected:e,focused:t}};function Yx(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"button",9),r.NdJ("click",function(t){const n=r.CHM(e).$implicit;return r.oxw().optionSelect(n,t)}),r._uU(1),r.qZA()}if(2&e){const e=t.$implicit,n=t.index,i=r.oxw();r.Q6J("ngClass",r.WLB(2,Kx,e.value===i.value,n===i.optionId)),r.xp6(1),r.hij(" ",e.label," ")}}function Qx(e,t){1&e&&(r.TgZ(0,"span",10),r._uU(1,"No items for select"),r.qZA())}const Jx=function(e){return{"ae-expanded":e}};let Xx=(()=>{class e{constructor(e,t){this.http=e,this.doc=t,this.saveSelection=()=>{if(this.doc.getSelection){const e=this.doc.getSelection();e.getRangeAt&&e.rangeCount&&(this.savedSelection=e.getRangeAt(0),this.selectedText=e.toString())}else this.savedSelection=this.doc.getSelection&&this.doc.createRange?document.createRange():null}}executeCommand(e){["h1","h2","h3","h4","h5","h6","p","pre"].includes(e)?this.doc.execCommand("formatBlock",!1,e):this.doc.execCommand(e,!1,null)}createLink(e){e.includes("http")?this.insertHtml('<a href="'+e+'" target="_blank">'+this.selectedText+"</a>"):this.doc.execCommand("createlink",!1,e)}insertColor(e,t){this.restoreSelection()&&this.doc.execCommand("textColor"===t?"foreColor":"hiliteColor",!1,e)}setFontName(e){this.doc.execCommand("fontName",!1,e)}setFontSize(e){this.doc.execCommand("fontSize",!1,e)}insertHtml(e){if(!this.doc.execCommand("insertHTML",!1,e))throw new Error("Unable to perform the operation")}restoreSelection(){if(!this.savedSelection)return!1;if(this.doc.getSelection){const e=this.doc.getSelection();return e.removeAllRanges(),e.addRange(this.savedSelection),!0}return!!this.doc.getSelection||void 0}executeInNextQueueIteration(e,t=100){setTimeout(e,t)}checkSelection(){if(0===this.savedSelection.toString().length)throw new Error("No Selection Made");return!0}uploadImage(e){const t=new FormData;return t.append("file",e,e.name),this.http.post(this.uploadUrl,t,{reportProgress:!0,observe:"events",withCredentials:this.uploadWithCredentials})}insertImage(e){this.doc.execCommand("insertImage",!1,e)}setDefaultParagraphSeparator(e){this.doc.execCommand("defaultParagraphSeparator",!1,e)}createCustomClass(e){let t=this.selectedText;if(e){const n=e.tag?e.tag:"span";t="<"+n+' class="'+e.class+'">'+this.selectedText+"</"+n+">"}this.insertHtml(t)}insertVideo(e){e.match("www.youtube.com")&&this.insertYouTubeVideoTag(e),e.match("vimeo.com")&&this.insertVimeoVideoTag(e)}insertYouTubeVideoTag(e){const t=e.split("v=")[1];this.insertHtml(`\n      <div style='position: relative'>\n        <a href='${e}' target='_blank'>\n          <img src="https://img.youtube.com/vi/${t}/0.jpg" alt="click to watch"/>\n          <img style='position: absolute; left:200px; top:140px'\n          src="https://img.icons8.com/color/96/000000/youtube-play.png"/>\n        </a>\n      </div>`)}insertVimeoVideoTag(e){const t=this.http.get(`https://vimeo.com/api/oembed.json?url=${e}`).subscribe(n=>{this.insertHtml(`<div>\n        <a href='${e}' target='_blank'>\n          <img src="${n.thumbnail_url_with_play_button}" alt="${n.title}"/>\n        </a>\n      </div>`),t.unsubscribe()})}nextNode(e){if(e.hasChildNodes())return e.firstChild;for(;e&&!e.nextSibling;)e=e.parentNode;return e?e.nextSibling:null}getRangeSelectedNodes(e,t){let n=e.startContainer;const r=e.endContainer;let i=[];if(n===r)i=[n];else{for(;n&&n!==r;)i.push(n=this.nextNode(n));for(n=e.startContainer;n&&n!==e.commonAncestorContainer;)i.unshift(n),n=n.parentNode}if(t)for(n=e.commonAncestorContainer;n;)i.push(n),n=n.parentNode;return i}getSelectedNodes(){const e=[];if(this.doc.getSelection){const t=this.doc.getSelection();for(let n=0,r=t.rangeCount;n<r;++n)e.push.apply(e,this.getRangeSelectedNodes(t.getRangeAt(n),!0))}return e}replaceWithOwnChildren(e){const t=e.parentNode;for(;e.hasChildNodes();)t.insertBefore(e.firstChild,e);t.removeChild(e)}removeSelectedElements(e){const t=e.toLowerCase().split(",");this.getSelectedNodes().forEach(e=>{1===e.nodeType&&t.indexOf(e.tagName.toLowerCase())>-1&&this.replaceWithOwnChildren(e)})}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(yo),r.LFG(s))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();const eA={editable:!0,spellcheck:!0,height:"auto",minHeight:"0",maxHeight:"auto",width:"auto",minWidth:"0",translate:"yes",enableToolbar:!0,showToolbar:!0,placeholder:"Enter text here...",defaultParagraphSeparator:"",defaultFontName:"",defaultFontSize:"",fonts:[{class:"arial",name:"Arial"},{class:"times-new-roman",name:"Times New Roman"},{class:"calibri",name:"Calibri"},{class:"comic-sans-ms",name:"Comic Sans MS"}],uploadUrl:"v1/image",uploadWithCredentials:!1,sanitize:!0,toolbarPosition:"top",outline:!0};function tA(e){return null!=e}let nA=(()=>{class e{constructor(e,t,n,i,o,s,a){this.r=e,this.editorService=t,this.doc=n,this.sanitizer=i,this.cdRef=o,this.autoFocus=a,this.modeVisual=!0,this.showPlaceholder=!1,this.disabled=!1,this.focused=!1,this.touched=!1,this.changed=!1,this.id="",this.config=eA,this.placeholder="",this.viewMode=new r.vpe,this.blurEvent=new r.vpe,this.focusEvent=new r.vpe,this.tabindex=-1;const c=Number(s);this.tabIndex=c||0===c?c:null}onFocus(){this.focus()}ngOnInit(){this.config.toolbarPosition=this.config.toolbarPosition?this.config.toolbarPosition:eA.toolbarPosition}ngAfterViewInit(){tA(this.autoFocus)&&this.focus()}onPaste(e){if(this.config.rawPaste){e.preventDefault();const t=e.clipboardData.getData("text/plain");return document.execCommand("insertHTML",!1,t),t}}executeCommand(e){this.focus(),"focus"!==e&&("toggleEditorMode"===e?this.toggleEditorMode(this.modeVisual):""!==e&&("clear"===e?(this.editorService.removeSelectedElements(this.getCustomTags()),this.onContentChange(this.textArea.nativeElement)):"default"===e?(this.editorService.removeSelectedElements("h1,h2,h3,h4,h5,h6,p,pre"),this.onContentChange(this.textArea.nativeElement)):this.editorService.executeCommand(e),this.exec()))}onTextAreaFocus(e){this.focused?e.stopPropagation():(this.focused=!0,this.focusEvent.emit(e),this.touched&&this.changed||this.editorService.executeInNextQueueIteration(()=>{this.configure(),this.touched=!0}))}onTextAreaMouseOut(e){this.editorService.saveSelection()}onTextAreaBlur(e){if(this.editorService.executeInNextQueueIteration(this.editorService.saveSelection),"function"==typeof this.onTouched&&this.onTouched(),null!==e.relatedTarget){const t=e.relatedTarget.parentElement;t.classList.contains("angular-editor-toolbar-set")||t.classList.contains("ae-picker")||(this.blurEvent.emit(e),this.focused=!1)}}focus(){this.modeVisual?this.textArea.nativeElement.focus():(this.doc.getElementById("sourceText"+this.id).focus(),this.focused=!0)}onContentChange(e){let t="";t=this.modeVisual?e.innerHTML:e.innerText,t&&"<br>"!==t||(t=""),"function"==typeof this.onChange&&(this.onChange(this.config.sanitize||void 0===this.config.sanitize?this.sanitizer.sanitize(r.q3G.HTML,t):t),!t!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder)),this.changed=!0}registerOnChange(e){this.onChange=t=>e("<br>"===t?"":t)}registerOnTouched(e){this.onTouched=e}writeValue(e){(!e||"<br>"===e||""===e)!==this.showPlaceholder&&this.togglePlaceholder(this.showPlaceholder),void 0!==e&&""!==e&&"<br>"!==e||(e=null),this.refreshView(e)}refreshView(e){this.r.setProperty(this.textArea.nativeElement,"innerHTML",null===e?"":e)}togglePlaceholder(e){e?(this.r.removeClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!1):(this.r.addClass(this.editorWrapper.nativeElement,"show-placeholder"),this.showPlaceholder=!0)}setDisabledState(e){this.r[e?"addClass":"removeClass"](this.textArea.nativeElement,"disabled"),this.disabled=e}toggleEditorMode(e){let t;const n=this.textArea.nativeElement;if(e){t=this.r.createText(n.innerHTML),this.r.setProperty(n,"innerHTML",""),this.r.setProperty(n,"contentEditable",!1);const e=this.r.createElement("pre");this.r.setStyle(e,"margin","0"),this.r.setStyle(e,"outline","none");const r=this.r.createElement("code");this.r.setProperty(r,"id","sourceText"+this.id),this.r.setStyle(r,"display","block"),this.r.setStyle(r,"white-space","pre-wrap"),this.r.setStyle(r,"word-break","keep-all"),this.r.setStyle(r,"outline","none"),this.r.setStyle(r,"margin","0"),this.r.setStyle(r,"background-color","#fff5b9"),this.r.setProperty(r,"contentEditable",!0),this.r.appendChild(r,t),this.focusInstance=this.r.listen(r,"focus",e=>this.onTextAreaFocus(e)),this.blurInstance=this.r.listen(r,"blur",e=>this.onTextAreaBlur(e)),this.r.appendChild(e,r),this.r.appendChild(n,e),this.doc.execCommand("defaultParagraphSeparator",!1,"div"),this.modeVisual=!1,this.viewMode.emit(!1),r.focus()}else this.doc.querySelectorAll?this.r.setProperty(n,"innerHTML",n.innerText):(t=this.doc.createRange(),t.selectNodeContents(n.firstChild),this.r.setProperty(n,"innerHTML",t.toString())),this.r.setProperty(n,"contentEditable",!0),this.modeVisual=!0,this.viewMode.emit(!0),this.onContentChange(n),n.focus();this.editorToolbar.setEditorMode(!this.modeVisual)}exec(){let e;this.editorToolbar.triggerButtons(),this.doc.getSelection&&(e=this.doc.getSelection(),this.editorService.executeInNextQueueIteration(this.editorService.saveSelection));let t=e.focusNode;const n=[];for(;t&&"editor"!==t.id;)n.unshift(t),t=t.parentNode;this.editorToolbar.triggerBlocks(n)}configure(){this.editorService.uploadUrl=this.config.uploadUrl,this.editorService.uploadWithCredentials=this.config.uploadWithCredentials,this.config.defaultParagraphSeparator&&this.editorService.setDefaultParagraphSeparator(this.config.defaultParagraphSeparator),this.config.defaultFontName&&this.editorService.setFontName(this.config.defaultFontName),this.config.defaultFontSize&&this.editorService.setFontSize(this.config.defaultFontSize)}getFonts(){return(this.config.fonts?this.config.fonts:eA.fonts).map(e=>({label:e.name,value:e.name}))}getCustomTags(){const e=["span"];return this.config.customClasses.forEach(t=>{void 0!==t.tag&&(e.includes(t.tag)||e.push(t.tag))}),e.join(",")}ngOnDestroy(){this.blurInstance&&this.blurInstance(),this.focusInstance&&this.focusInstance()}filterStyles(e){return e.replace("position: fixed;","")}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(Xx),r.Y36(s),r.Y36(tt),r.Y36(r.sBO),r.$8M("tabindex"),r.$8M("autofocus"))},e.\u0275cmp=r.Xpm({type:e,selectors:[["angular-editor"]],viewQuery:function(e,t){if(1&e&&(r.Gf(Vx,7),r.Gf(Zx,7),r.Gf(jx,5)),2&e){let e;r.iGM(e=r.CRH())&&(t.textArea=e.first),r.iGM(e=r.CRH())&&(t.editorWrapper=e.first),r.iGM(e=r.CRH())&&(t.editorToolbar=e.first)}},hostVars:1,hostBindings:function(e,t){1&e&&r.NdJ("focus",function(){return t.onFocus()}),2&e&&r.uIk("tabindex",t.tabindex)},inputs:{id:"id",config:"config",placeholder:"placeholder",tabIndex:"tabIndex"},outputs:{viewMode:"viewMode",blurEvent:"blur",focusEvent:"focus",html:"html"},features:[r._Bn([{provide:ZS,useExisting:(0,r.Gpc)(()=>e),multi:!0},Xx])],decls:10,vars:19,consts:[[1,"angular-editor"],["angularEditor",""],[3,"id","uploadUrl","upload","showToolbar","fonts","customClasses","defaultFontName","defaultFontSize","hiddenButtons","execute",4,"ngIf"],[1,"angular-editor-wrapper"],["editorWrapper",""],[1,"angular-editor-textarea",3,"input","focus","blur","click","keyup","mouseout","paste"],["editor",""],[1,"angular-editor-placeholder"],[3,"id","uploadUrl","upload","showToolbar","fonts","customClasses","defaultFontName","defaultFontSize","hiddenButtons","execute"],["editorToolbar",""]],template:function(e,t){1&e&&(r.TgZ(0,"div",0,1),r.YNc(2,Bx,2,9,"angular-editor-toolbar",2),r.TgZ(3,"div",3,4),r.TgZ(5,"div",5,6),r.NdJ("input",function(e){return t.onContentChange(e.target)})("focus",function(e){return t.onTextAreaFocus(e)})("blur",function(e){return t.onTextAreaBlur(e)})("click",function(){return t.exec()})("keyup",function(){return t.exec()})("mouseout",function(e){return t.onTextAreaMouseOut(e)})("paste",function(e){return t.onPaste(e)}),r.qZA(),r.TgZ(7,"span",7),r._uU(8),r.qZA(),r.qZA(),r.YNc(9,zx,2,9,"angular-editor-toolbar",2),r.qZA()),2&e&&(r.Udp("width",t.config.width)("min-width",t.config.minWidth),r.xp6(2),r.Q6J("ngIf","top"===t.config.toolbarPosition),r.xp6(3),r.Udp("height",t.config.height)("min-height",t.config.minHeight)("max-height",t.config.maxHeight)("outline",!1===t.config.outline?"none":void 0),r.uIk("contenteditable",t.config.editable)("tabindex",t.disabled?-1:t.tabIndex)("translate",t.config.translate)("spellcheck",t.config.spellcheck),r.xp6(3),r.Oqu(t.placeholder||t.config.placeholder),r.xp6(1),r.Q6J("ngIf","bottom"===t.config.toolbarPosition))},directives:function(){return[ue,rA]},styles:['@charset "UTF-8";\n@font-face{font-family:FontAwesome;src:url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.eot?v=4.7.0);src:url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.eot#iefix&v=4.7.0) format("embedded-opentype"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0) format("woff2"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.woff?v=4.7.0) format("woff"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.ttf?v=4.7.0) format("truetype"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular) format("svg");font-weight:400;font-style:normal}.fa[_ngcontent-%COMP%]{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg[_ngcontent-%COMP%]{font-size:1.3333333333em;line-height:.75em;vertical-align:-15%}.fa-2x[_ngcontent-%COMP%]{font-size:2em}.fa-3x[_ngcontent-%COMP%]{font-size:3em}.fa-4x[_ngcontent-%COMP%]{font-size:4em}.fa-5x[_ngcontent-%COMP%]{font-size:5em}.fa-fw[_ngcontent-%COMP%]{width:1.2857142857em;text-align:center}.fa-ul[_ngcontent-%COMP%]{padding-left:0;margin-left:2.1428571429em;list-style-type:none}.fa-ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}.fa-li[_ngcontent-%COMP%]{position:absolute;left:-2.1428571429em;width:2.1428571429em;top:.1428571429em;text-align:center}.fa-li.fa-lg[_ngcontent-%COMP%]{left:-1.8571428571em}.fa-border[_ngcontent-%COMP%]{padding:.2em .25em .15em;border:.08em solid #eee;border-radius:.1em}.fa-pull-left[_ngcontent-%COMP%]{float:left}.fa-pull-right[_ngcontent-%COMP%]{float:right}.fa.fa-pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.fa-pull-right[_ngcontent-%COMP%]{margin-left:.3em}.pull-right[_ngcontent-%COMP%]{float:right}.pull-left[_ngcontent-%COMP%]{float:left}.fa.pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.pull-right[_ngcontent-%COMP%]{margin-left:.3em}.fa-spin[_ngcontent-%COMP%]{-webkit-animation:fa-spin 2s linear infinite;animation:fa-spin 2s linear infinite}.fa-pulse[_ngcontent-%COMP%]{-webkit-animation:fa-spin 1s steps(8) infinite;animation:fa-spin 1s steps(8) infinite}@-webkit-keyframes fa-spin{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}@keyframes fa-spin{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}.fa-rotate-90[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";transform:rotate(90deg)}.fa-rotate-180[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";transform:rotate(180deg)}.fa-rotate-270[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";transform:rotate(270deg)}.fa-flip-horizontal[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";transform:scaleX(-1)}.fa-flip-vertical[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";transform:scaleY(-1)}[_ngcontent-%COMP%]:root   .fa-flip-horizontal[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-flip-vertical[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-90[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-180[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-270[_ngcontent-%COMP%]{filter:none}.fa-stack[_ngcontent-%COMP%]{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x[_ngcontent-%COMP%], .fa-stack-2x[_ngcontent-%COMP%]{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x[_ngcontent-%COMP%]{line-height:inherit}.fa-stack-2x[_ngcontent-%COMP%]{font-size:2em}.fa-inverse[_ngcontent-%COMP%]{color:#fff}.fa-glass[_ngcontent-%COMP%]:before{content:"\uf000"}.fa-music[_ngcontent-%COMP%]:before{content:"\uf001"}.fa-search[_ngcontent-%COMP%]:before{content:"\uf002"}.fa-envelope-o[_ngcontent-%COMP%]:before{content:"\uf003"}.fa-heart[_ngcontent-%COMP%]:before{content:"\uf004"}.fa-star[_ngcontent-%COMP%]:before{content:"\uf005"}.fa-star-o[_ngcontent-%COMP%]:before{content:"\uf006"}.fa-user[_ngcontent-%COMP%]:before{content:"\uf007"}.fa-film[_ngcontent-%COMP%]:before{content:"\uf008"}.fa-th-large[_ngcontent-%COMP%]:before{content:"\uf009"}.fa-th[_ngcontent-%COMP%]:before{content:"\uf00a"}.fa-th-list[_ngcontent-%COMP%]:before{content:"\uf00b"}.fa-check[_ngcontent-%COMP%]:before{content:"\uf00c"}.fa-close[_ngcontent-%COMP%]:before, .fa-remove[_ngcontent-%COMP%]:before, .fa-times[_ngcontent-%COMP%]:before{content:"\uf00d"}.fa-search-plus[_ngcontent-%COMP%]:before{content:"\uf00e"}.fa-search-minus[_ngcontent-%COMP%]:before{content:"\uf010"}.fa-power-off[_ngcontent-%COMP%]:before{content:"\uf011"}.fa-signal[_ngcontent-%COMP%]:before{content:"\uf012"}.fa-cog[_ngcontent-%COMP%]:before, .fa-gear[_ngcontent-%COMP%]:before{content:"\uf013"}.fa-trash-o[_ngcontent-%COMP%]:before{content:"\uf014"}.fa-home[_ngcontent-%COMP%]:before{content:"\uf015"}.fa-file-o[_ngcontent-%COMP%]:before{content:"\uf016"}.fa-clock-o[_ngcontent-%COMP%]:before{content:"\uf017"}.fa-road[_ngcontent-%COMP%]:before{content:"\uf018"}.fa-download[_ngcontent-%COMP%]:before{content:"\uf019"}.fa-arrow-circle-o-down[_ngcontent-%COMP%]:before{content:"\uf01a"}.fa-arrow-circle-o-up[_ngcontent-%COMP%]:before{content:"\uf01b"}.fa-inbox[_ngcontent-%COMP%]:before{content:"\uf01c"}.fa-play-circle-o[_ngcontent-%COMP%]:before{content:"\uf01d"}.fa-repeat[_ngcontent-%COMP%]:before, .fa-rotate-right[_ngcontent-%COMP%]:before{content:"\uf01e"}.fa-refresh[_ngcontent-%COMP%]:before{content:"\uf021"}.fa-list-alt[_ngcontent-%COMP%]:before{content:"\uf022"}.fa-lock[_ngcontent-%COMP%]:before{content:"\uf023"}.fa-flag[_ngcontent-%COMP%]:before{content:"\uf024"}.fa-headphones[_ngcontent-%COMP%]:before{content:"\uf025"}.fa-volume-off[_ngcontent-%COMP%]:before{content:"\uf026"}.fa-volume-down[_ngcontent-%COMP%]:before{content:"\uf027"}.fa-volume-up[_ngcontent-%COMP%]:before{content:"\uf028"}.fa-qrcode[_ngcontent-%COMP%]:before{content:"\uf029"}.fa-barcode[_ngcontent-%COMP%]:before{content:"\uf02a"}.fa-tag[_ngcontent-%COMP%]:before{content:"\uf02b"}.fa-tags[_ngcontent-%COMP%]:before{content:"\uf02c"}.fa-book[_ngcontent-%COMP%]:before{content:"\uf02d"}.fa-bookmark[_ngcontent-%COMP%]:before{content:"\uf02e"}.fa-print[_ngcontent-%COMP%]:before{content:"\uf02f"}.fa-camera[_ngcontent-%COMP%]:before{content:"\uf030"}.fa-font[_ngcontent-%COMP%]:before{content:"\uf031"}.fa-bold[_ngcontent-%COMP%]:before{content:"\uf032"}.fa-italic[_ngcontent-%COMP%]:before{content:"\uf033"}.fa-text-height[_ngcontent-%COMP%]:before{content:"\uf034"}.fa-text-width[_ngcontent-%COMP%]:before{content:"\uf035"}.fa-align-left[_ngcontent-%COMP%]:before{content:"\uf036"}.fa-align-center[_ngcontent-%COMP%]:before{content:"\uf037"}.fa-align-right[_ngcontent-%COMP%]:before{content:"\uf038"}.fa-align-justify[_ngcontent-%COMP%]:before{content:"\uf039"}.fa-list[_ngcontent-%COMP%]:before{content:"\uf03a"}.fa-dedent[_ngcontent-%COMP%]:before, .fa-outdent[_ngcontent-%COMP%]:before{content:"\uf03b"}.fa-indent[_ngcontent-%COMP%]:before{content:"\uf03c"}.fa-video-camera[_ngcontent-%COMP%]:before{content:"\uf03d"}.fa-image[_ngcontent-%COMP%]:before, .fa-photo[_ngcontent-%COMP%]:before, .fa-picture-o[_ngcontent-%COMP%]:before{content:"\uf03e"}.fa-pencil[_ngcontent-%COMP%]:before{content:"\uf040"}.fa-map-marker[_ngcontent-%COMP%]:before{content:"\uf041"}.fa-adjust[_ngcontent-%COMP%]:before{content:"\uf042"}.fa-tint[_ngcontent-%COMP%]:before{content:"\uf043"}.fa-edit[_ngcontent-%COMP%]:before, .fa-pencil-square-o[_ngcontent-%COMP%]:before{content:"\uf044"}.fa-share-square-o[_ngcontent-%COMP%]:before{content:"\uf045"}.fa-check-square-o[_ngcontent-%COMP%]:before{content:"\uf046"}.fa-arrows[_ngcontent-%COMP%]:before{content:"\uf047"}.fa-step-backward[_ngcontent-%COMP%]:before{content:"\uf048"}.fa-fast-backward[_ngcontent-%COMP%]:before{content:"\uf049"}.fa-backward[_ngcontent-%COMP%]:before{content:"\uf04a"}.fa-play[_ngcontent-%COMP%]:before{content:"\uf04b"}.fa-pause[_ngcontent-%COMP%]:before{content:"\uf04c"}.fa-stop[_ngcontent-%COMP%]:before{content:"\uf04d"}.fa-forward[_ngcontent-%COMP%]:before{content:"\uf04e"}.fa-fast-forward[_ngcontent-%COMP%]:before{content:"\uf050"}.fa-step-forward[_ngcontent-%COMP%]:before{content:"\uf051"}.fa-eject[_ngcontent-%COMP%]:before{content:"\uf052"}.fa-chevron-left[_ngcontent-%COMP%]:before{content:"\uf053"}.fa-chevron-right[_ngcontent-%COMP%]:before{content:"\uf054"}.fa-plus-circle[_ngcontent-%COMP%]:before{content:"\uf055"}.fa-minus-circle[_ngcontent-%COMP%]:before{content:"\uf056"}.fa-times-circle[_ngcontent-%COMP%]:before{content:"\uf057"}.fa-check-circle[_ngcontent-%COMP%]:before{content:"\uf058"}.fa-question-circle[_ngcontent-%COMP%]:before{content:"\uf059"}.fa-info-circle[_ngcontent-%COMP%]:before{content:"\uf05a"}.fa-crosshairs[_ngcontent-%COMP%]:before{content:"\uf05b"}.fa-times-circle-o[_ngcontent-%COMP%]:before{content:"\uf05c"}.fa-check-circle-o[_ngcontent-%COMP%]:before{content:"\uf05d"}.fa-ban[_ngcontent-%COMP%]:before{content:"\uf05e"}.fa-arrow-left[_ngcontent-%COMP%]:before{content:"\uf060"}.fa-arrow-right[_ngcontent-%COMP%]:before{content:"\uf061"}.fa-arrow-up[_ngcontent-%COMP%]:before{content:"\uf062"}.fa-arrow-down[_ngcontent-%COMP%]:before{content:"\uf063"}.fa-mail-forward[_ngcontent-%COMP%]:before, .fa-share[_ngcontent-%COMP%]:before{content:"\uf064"}.fa-expand[_ngcontent-%COMP%]:before{content:"\uf065"}.fa-compress[_ngcontent-%COMP%]:before{content:"\uf066"}.fa-plus[_ngcontent-%COMP%]:before{content:"\uf067"}.fa-minus[_ngcontent-%COMP%]:before{content:"\uf068"}.fa-asterisk[_ngcontent-%COMP%]:before{content:"\uf069"}.fa-exclamation-circle[_ngcontent-%COMP%]:before{content:"\uf06a"}.fa-gift[_ngcontent-%COMP%]:before{content:"\uf06b"}.fa-leaf[_ngcontent-%COMP%]:before{content:"\uf06c"}.fa-fire[_ngcontent-%COMP%]:before{content:"\uf06d"}.fa-eye[_ngcontent-%COMP%]:before{content:"\uf06e"}.fa-eye-slash[_ngcontent-%COMP%]:before{content:"\uf070"}.fa-exclamation-triangle[_ngcontent-%COMP%]:before, .fa-warning[_ngcontent-%COMP%]:before{content:"\uf071"}.fa-plane[_ngcontent-%COMP%]:before{content:"\uf072"}.fa-calendar[_ngcontent-%COMP%]:before{content:"\uf073"}.fa-random[_ngcontent-%COMP%]:before{content:"\uf074"}.fa-comment[_ngcontent-%COMP%]:before{content:"\uf075"}.fa-magnet[_ngcontent-%COMP%]:before{content:"\uf076"}.fa-chevron-up[_ngcontent-%COMP%]:before{content:"\uf077"}.fa-chevron-down[_ngcontent-%COMP%]:before{content:"\uf078"}.fa-retweet[_ngcontent-%COMP%]:before{content:"\uf079"}.fa-shopping-cart[_ngcontent-%COMP%]:before{content:"\uf07a"}.fa-folder[_ngcontent-%COMP%]:before{content:"\uf07b"}.fa-folder-open[_ngcontent-%COMP%]:before{content:"\uf07c"}.fa-arrows-v[_ngcontent-%COMP%]:before{content:"\uf07d"}.fa-arrows-h[_ngcontent-%COMP%]:before{content:"\uf07e"}.fa-bar-chart-o[_ngcontent-%COMP%]:before, .fa-bar-chart[_ngcontent-%COMP%]:before{content:"\uf080"}.fa-twitter-square[_ngcontent-%COMP%]:before{content:"\uf081"}.fa-facebook-square[_ngcontent-%COMP%]:before{content:"\uf082"}.fa-camera-retro[_ngcontent-%COMP%]:before{content:"\uf083"}.fa-key[_ngcontent-%COMP%]:before{content:"\uf084"}.fa-cogs[_ngcontent-%COMP%]:before, .fa-gears[_ngcontent-%COMP%]:before{content:"\uf085"}.fa-comments[_ngcontent-%COMP%]:before{content:"\uf086"}.fa-thumbs-o-up[_ngcontent-%COMP%]:before{content:"\uf087"}.fa-thumbs-o-down[_ngcontent-%COMP%]:before{content:"\uf088"}.fa-star-half[_ngcontent-%COMP%]:before{content:"\uf089"}.fa-heart-o[_ngcontent-%COMP%]:before{content:"\uf08a"}.fa-sign-out[_ngcontent-%COMP%]:before{content:"\uf08b"}.fa-linkedin-square[_ngcontent-%COMP%]:before{content:"\uf08c"}.fa-thumb-tack[_ngcontent-%COMP%]:before{content:"\uf08d"}.fa-external-link[_ngcontent-%COMP%]:before{content:"\uf08e"}.fa-sign-in[_ngcontent-%COMP%]:before{content:"\uf090"}.fa-trophy[_ngcontent-%COMP%]:before{content:"\uf091"}.fa-github-square[_ngcontent-%COMP%]:before{content:"\uf092"}.fa-upload[_ngcontent-%COMP%]:before{content:"\uf093"}.fa-lemon-o[_ngcontent-%COMP%]:before{content:"\uf094"}.fa-phone[_ngcontent-%COMP%]:before{content:"\uf095"}.fa-square-o[_ngcontent-%COMP%]:before{content:"\uf096"}.fa-bookmark-o[_ngcontent-%COMP%]:before{content:"\uf097"}.fa-phone-square[_ngcontent-%COMP%]:before{content:"\uf098"}.fa-twitter[_ngcontent-%COMP%]:before{content:"\uf099"}.fa-facebook-f[_ngcontent-%COMP%]:before, .fa-facebook[_ngcontent-%COMP%]:before{content:"\uf09a"}.fa-github[_ngcontent-%COMP%]:before{content:"\uf09b"}.fa-unlock[_ngcontent-%COMP%]:before{content:"\uf09c"}.fa-credit-card[_ngcontent-%COMP%]:before{content:"\uf09d"}.fa-feed[_ngcontent-%COMP%]:before, .fa-rss[_ngcontent-%COMP%]:before{content:"\uf09e"}.fa-hdd-o[_ngcontent-%COMP%]:before{content:"\uf0a0"}.fa-bullhorn[_ngcontent-%COMP%]:before{content:"\uf0a1"}.fa-bell[_ngcontent-%COMP%]:before{content:"\uf0f3"}.fa-certificate[_ngcontent-%COMP%]:before{content:"\uf0a3"}.fa-hand-o-right[_ngcontent-%COMP%]:before{content:"\uf0a4"}.fa-hand-o-left[_ngcontent-%COMP%]:before{content:"\uf0a5"}.fa-hand-o-up[_ngcontent-%COMP%]:before{content:"\uf0a6"}.fa-hand-o-down[_ngcontent-%COMP%]:before{content:"\uf0a7"}.fa-arrow-circle-left[_ngcontent-%COMP%]:before{content:"\uf0a8"}.fa-arrow-circle-right[_ngcontent-%COMP%]:before{content:"\uf0a9"}.fa-arrow-circle-up[_ngcontent-%COMP%]:before{content:"\uf0aa"}.fa-arrow-circle-down[_ngcontent-%COMP%]:before{content:"\uf0ab"}.fa-globe[_ngcontent-%COMP%]:before{content:"\uf0ac"}.fa-wrench[_ngcontent-%COMP%]:before{content:"\uf0ad"}.fa-tasks[_ngcontent-%COMP%]:before{content:"\uf0ae"}.fa-filter[_ngcontent-%COMP%]:before{content:"\uf0b0"}.fa-briefcase[_ngcontent-%COMP%]:before{content:"\uf0b1"}.fa-arrows-alt[_ngcontent-%COMP%]:before{content:"\uf0b2"}.fa-group[_ngcontent-%COMP%]:before, .fa-users[_ngcontent-%COMP%]:before{content:"\uf0c0"}.fa-chain[_ngcontent-%COMP%]:before, .fa-link[_ngcontent-%COMP%]:before{content:"\uf0c1"}.fa-cloud[_ngcontent-%COMP%]:before{content:"\uf0c2"}.fa-flask[_ngcontent-%COMP%]:before{content:"\uf0c3"}.fa-cut[_ngcontent-%COMP%]:before, .fa-scissors[_ngcontent-%COMP%]:before{content:"\uf0c4"}.fa-copy[_ngcontent-%COMP%]:before, .fa-files-o[_ngcontent-%COMP%]:before{content:"\uf0c5"}.fa-paperclip[_ngcontent-%COMP%]:before{content:"\uf0c6"}.fa-floppy-o[_ngcontent-%COMP%]:before, .fa-save[_ngcontent-%COMP%]:before{content:"\uf0c7"}.fa-square[_ngcontent-%COMP%]:before{content:"\uf0c8"}.fa-bars[_ngcontent-%COMP%]:before, .fa-navicon[_ngcontent-%COMP%]:before, .fa-reorder[_ngcontent-%COMP%]:before{content:"\uf0c9"}.fa-list-ul[_ngcontent-%COMP%]:before{content:"\uf0ca"}.fa-list-ol[_ngcontent-%COMP%]:before{content:"\uf0cb"}.fa-strikethrough[_ngcontent-%COMP%]:before{content:"\uf0cc"}.fa-underline[_ngcontent-%COMP%]:before{content:"\uf0cd"}.fa-table[_ngcontent-%COMP%]:before{content:"\uf0ce"}.fa-magic[_ngcontent-%COMP%]:before{content:"\uf0d0"}.fa-truck[_ngcontent-%COMP%]:before{content:"\uf0d1"}.fa-pinterest[_ngcontent-%COMP%]:before{content:"\uf0d2"}.fa-pinterest-square[_ngcontent-%COMP%]:before{content:"\uf0d3"}.fa-google-plus-square[_ngcontent-%COMP%]:before{content:"\uf0d4"}.fa-google-plus[_ngcontent-%COMP%]:before{content:"\uf0d5"}.fa-money[_ngcontent-%COMP%]:before{content:"\uf0d6"}.fa-caret-down[_ngcontent-%COMP%]:before{content:"\uf0d7"}.fa-caret-up[_ngcontent-%COMP%]:before{content:"\uf0d8"}.fa-caret-left[_ngcontent-%COMP%]:before{content:"\uf0d9"}.fa-caret-right[_ngcontent-%COMP%]:before{content:"\uf0da"}.fa-columns[_ngcontent-%COMP%]:before{content:"\uf0db"}.fa-sort[_ngcontent-%COMP%]:before, .fa-unsorted[_ngcontent-%COMP%]:before{content:"\uf0dc"}.fa-sort-desc[_ngcontent-%COMP%]:before, .fa-sort-down[_ngcontent-%COMP%]:before{content:"\uf0dd"}.fa-sort-asc[_ngcontent-%COMP%]:before, .fa-sort-up[_ngcontent-%COMP%]:before{content:"\uf0de"}.fa-envelope[_ngcontent-%COMP%]:before{content:"\uf0e0"}.fa-linkedin[_ngcontent-%COMP%]:before{content:"\uf0e1"}.fa-rotate-left[_ngcontent-%COMP%]:before, .fa-undo[_ngcontent-%COMP%]:before{content:"\uf0e2"}.fa-gavel[_ngcontent-%COMP%]:before, .fa-legal[_ngcontent-%COMP%]:before{content:"\uf0e3"}.fa-dashboard[_ngcontent-%COMP%]:before, .fa-tachometer[_ngcontent-%COMP%]:before{content:"\uf0e4"}.fa-comment-o[_ngcontent-%COMP%]:before{content:"\uf0e5"}.fa-comments-o[_ngcontent-%COMP%]:before{content:"\uf0e6"}.fa-bolt[_ngcontent-%COMP%]:before, .fa-flash[_ngcontent-%COMP%]:before{content:"\uf0e7"}.fa-sitemap[_ngcontent-%COMP%]:before{content:"\uf0e8"}.fa-umbrella[_ngcontent-%COMP%]:before{content:"\uf0e9"}.fa-clipboard[_ngcontent-%COMP%]:before, .fa-paste[_ngcontent-%COMP%]:before{content:"\uf0ea"}.fa-lightbulb-o[_ngcontent-%COMP%]:before{content:"\uf0eb"}.fa-exchange[_ngcontent-%COMP%]:before{content:"\uf0ec"}.fa-cloud-download[_ngcontent-%COMP%]:before{content:"\uf0ed"}.fa-cloud-upload[_ngcontent-%COMP%]:before{content:"\uf0ee"}.fa-user-md[_ngcontent-%COMP%]:before{content:"\uf0f0"}.fa-stethoscope[_ngcontent-%COMP%]:before{content:"\uf0f1"}.fa-suitcase[_ngcontent-%COMP%]:before{content:"\uf0f2"}.fa-bell-o[_ngcontent-%COMP%]:before{content:"\uf0a2"}.fa-coffee[_ngcontent-%COMP%]:before{content:"\uf0f4"}.fa-cutlery[_ngcontent-%COMP%]:before{content:"\uf0f5"}.fa-file-text-o[_ngcontent-%COMP%]:before{content:"\uf0f6"}.fa-building-o[_ngcontent-%COMP%]:before{content:"\uf0f7"}.fa-hospital-o[_ngcontent-%COMP%]:before{content:"\uf0f8"}.fa-ambulance[_ngcontent-%COMP%]:before{content:"\uf0f9"}.fa-medkit[_ngcontent-%COMP%]:before{content:"\uf0fa"}.fa-fighter-jet[_ngcontent-%COMP%]:before{content:"\uf0fb"}.fa-beer[_ngcontent-%COMP%]:before{content:"\uf0fc"}.fa-h-square[_ngcontent-%COMP%]:before{content:"\uf0fd"}.fa-plus-square[_ngcontent-%COMP%]:before{content:"\uf0fe"}.fa-angle-double-left[_ngcontent-%COMP%]:before{content:"\uf100"}.fa-angle-double-right[_ngcontent-%COMP%]:before{content:"\uf101"}.fa-angle-double-up[_ngcontent-%COMP%]:before{content:"\uf102"}.fa-angle-double-down[_ngcontent-%COMP%]:before{content:"\uf103"}.fa-angle-left[_ngcontent-%COMP%]:before{content:"\uf104"}.fa-angle-right[_ngcontent-%COMP%]:before{content:"\uf105"}.fa-angle-up[_ngcontent-%COMP%]:before{content:"\uf106"}.fa-angle-down[_ngcontent-%COMP%]:before{content:"\uf107"}.fa-desktop[_ngcontent-%COMP%]:before{content:"\uf108"}.fa-laptop[_ngcontent-%COMP%]:before{content:"\uf109"}.fa-tablet[_ngcontent-%COMP%]:before{content:"\uf10a"}.fa-mobile-phone[_ngcontent-%COMP%]:before, .fa-mobile[_ngcontent-%COMP%]:before{content:"\uf10b"}.fa-circle-o[_ngcontent-%COMP%]:before{content:"\uf10c"}.fa-quote-left[_ngcontent-%COMP%]:before{content:"\uf10d"}.fa-quote-right[_ngcontent-%COMP%]:before{content:"\uf10e"}.fa-spinner[_ngcontent-%COMP%]:before{content:"\uf110"}.fa-circle[_ngcontent-%COMP%]:before{content:"\uf111"}.fa-mail-reply[_ngcontent-%COMP%]:before, .fa-reply[_ngcontent-%COMP%]:before{content:"\uf112"}.fa-github-alt[_ngcontent-%COMP%]:before{content:"\uf113"}.fa-folder-o[_ngcontent-%COMP%]:before{content:"\uf114"}.fa-folder-open-o[_ngcontent-%COMP%]:before{content:"\uf115"}.fa-smile-o[_ngcontent-%COMP%]:before{content:"\uf118"}.fa-frown-o[_ngcontent-%COMP%]:before{content:"\uf119"}.fa-meh-o[_ngcontent-%COMP%]:before{content:"\uf11a"}.fa-gamepad[_ngcontent-%COMP%]:before{content:"\uf11b"}.fa-keyboard-o[_ngcontent-%COMP%]:before{content:"\uf11c"}.fa-flag-o[_ngcontent-%COMP%]:before{content:"\uf11d"}.fa-flag-checkered[_ngcontent-%COMP%]:before{content:"\uf11e"}.fa-terminal[_ngcontent-%COMP%]:before{content:"\uf120"}.fa-code[_ngcontent-%COMP%]:before{content:"\uf121"}.fa-mail-reply-all[_ngcontent-%COMP%]:before, .fa-reply-all[_ngcontent-%COMP%]:before{content:"\uf122"}.fa-star-half-empty[_ngcontent-%COMP%]:before, .fa-star-half-full[_ngcontent-%COMP%]:before, .fa-star-half-o[_ngcontent-%COMP%]:before{content:"\uf123"}.fa-location-arrow[_ngcontent-%COMP%]:before{content:"\uf124"}.fa-crop[_ngcontent-%COMP%]:before{content:"\uf125"}.fa-code-fork[_ngcontent-%COMP%]:before{content:"\uf126"}.fa-chain-broken[_ngcontent-%COMP%]:before, .fa-unlink[_ngcontent-%COMP%]:before{content:"\uf127"}.fa-question[_ngcontent-%COMP%]:before{content:"\uf128"}.fa-info[_ngcontent-%COMP%]:before{content:"\uf129"}.fa-exclamation[_ngcontent-%COMP%]:before{content:"\uf12a"}.fa-superscript[_ngcontent-%COMP%]:before{content:"\uf12b"}.fa-subscript[_ngcontent-%COMP%]:before{content:"\uf12c"}.fa-eraser[_ngcontent-%COMP%]:before{content:"\uf12d"}.fa-puzzle-piece[_ngcontent-%COMP%]:before{content:"\uf12e"}.fa-microphone[_ngcontent-%COMP%]:before{content:"\uf130"}.fa-microphone-slash[_ngcontent-%COMP%]:before{content:"\uf131"}.fa-shield[_ngcontent-%COMP%]:before{content:"\uf132"}.fa-calendar-o[_ngcontent-%COMP%]:before{content:"\uf133"}.fa-fire-extinguisher[_ngcontent-%COMP%]:before{content:"\uf134"}.fa-rocket[_ngcontent-%COMP%]:before{content:"\uf135"}.fa-maxcdn[_ngcontent-%COMP%]:before{content:"\uf136"}.fa-chevron-circle-left[_ngcontent-%COMP%]:before{content:"\uf137"}.fa-chevron-circle-right[_ngcontent-%COMP%]:before{content:"\uf138"}.fa-chevron-circle-up[_ngcontent-%COMP%]:before{content:"\uf139"}.fa-chevron-circle-down[_ngcontent-%COMP%]:before{content:"\uf13a"}.fa-html5[_ngcontent-%COMP%]:before{content:"\uf13b"}.fa-css3[_ngcontent-%COMP%]:before{content:"\uf13c"}.fa-anchor[_ngcontent-%COMP%]:before{content:"\uf13d"}.fa-unlock-alt[_ngcontent-%COMP%]:before{content:"\uf13e"}.fa-bullseye[_ngcontent-%COMP%]:before{content:"\uf140"}.fa-ellipsis-h[_ngcontent-%COMP%]:before{content:"\uf141"}.fa-ellipsis-v[_ngcontent-%COMP%]:before{content:"\uf142"}.fa-rss-square[_ngcontent-%COMP%]:before{content:"\uf143"}.fa-play-circle[_ngcontent-%COMP%]:before{content:"\uf144"}.fa-ticket[_ngcontent-%COMP%]:before{content:"\uf145"}.fa-minus-square[_ngcontent-%COMP%]:before{content:"\uf146"}.fa-minus-square-o[_ngcontent-%COMP%]:before{content:"\uf147"}.fa-level-up[_ngcontent-%COMP%]:before{content:"\uf148"}.fa-level-down[_ngcontent-%COMP%]:before{content:"\uf149"}.fa-check-square[_ngcontent-%COMP%]:before{content:"\uf14a"}.fa-pencil-square[_ngcontent-%COMP%]:before{content:"\uf14b"}.fa-external-link-square[_ngcontent-%COMP%]:before{content:"\uf14c"}.fa-share-square[_ngcontent-%COMP%]:before{content:"\uf14d"}.fa-compass[_ngcontent-%COMP%]:before{content:"\uf14e"}.fa-caret-square-o-down[_ngcontent-%COMP%]:before, .fa-toggle-down[_ngcontent-%COMP%]:before{content:"\uf150"}.fa-caret-square-o-up[_ngcontent-%COMP%]:before, .fa-toggle-up[_ngcontent-%COMP%]:before{content:"\uf151"}.fa-caret-square-o-right[_ngcontent-%COMP%]:before, .fa-toggle-right[_ngcontent-%COMP%]:before{content:"\uf152"}.fa-eur[_ngcontent-%COMP%]:before, .fa-euro[_ngcontent-%COMP%]:before{content:"\uf153"}.fa-gbp[_ngcontent-%COMP%]:before{content:"\uf154"}.fa-dollar[_ngcontent-%COMP%]:before, .fa-usd[_ngcontent-%COMP%]:before{content:"\uf155"}.fa-inr[_ngcontent-%COMP%]:before, .fa-rupee[_ngcontent-%COMP%]:before{content:"\uf156"}.fa-cny[_ngcontent-%COMP%]:before, .fa-jpy[_ngcontent-%COMP%]:before, .fa-rmb[_ngcontent-%COMP%]:before, .fa-yen[_ngcontent-%COMP%]:before{content:"\uf157"}.fa-rouble[_ngcontent-%COMP%]:before, .fa-rub[_ngcontent-%COMP%]:before, .fa-ruble[_ngcontent-%COMP%]:before{content:"\uf158"}.fa-krw[_ngcontent-%COMP%]:before, .fa-won[_ngcontent-%COMP%]:before{content:"\uf159"}.fa-bitcoin[_ngcontent-%COMP%]:before, .fa-btc[_ngcontent-%COMP%]:before{content:"\uf15a"}.fa-file[_ngcontent-%COMP%]:before{content:"\uf15b"}.fa-file-text[_ngcontent-%COMP%]:before{content:"\uf15c"}.fa-sort-alpha-asc[_ngcontent-%COMP%]:before{content:"\uf15d"}.fa-sort-alpha-desc[_ngcontent-%COMP%]:before{content:"\uf15e"}.fa-sort-amount-asc[_ngcontent-%COMP%]:before{content:"\uf160"}.fa-sort-amount-desc[_ngcontent-%COMP%]:before{content:"\uf161"}.fa-sort-numeric-asc[_ngcontent-%COMP%]:before{content:"\uf162"}.fa-sort-numeric-desc[_ngcontent-%COMP%]:before{content:"\uf163"}.fa-thumbs-up[_ngcontent-%COMP%]:before{content:"\uf164"}.fa-thumbs-down[_ngcontent-%COMP%]:before{content:"\uf165"}.fa-youtube-square[_ngcontent-%COMP%]:before{content:"\uf166"}.fa-youtube[_ngcontent-%COMP%]:before{content:"\uf167"}.fa-xing[_ngcontent-%COMP%]:before{content:"\uf168"}.fa-xing-square[_ngcontent-%COMP%]:before{content:"\uf169"}.fa-youtube-play[_ngcontent-%COMP%]:before{content:"\uf16a"}.fa-dropbox[_ngcontent-%COMP%]:before{content:"\uf16b"}.fa-stack-overflow[_ngcontent-%COMP%]:before{content:"\uf16c"}.fa-instagram[_ngcontent-%COMP%]:before{content:"\uf16d"}.fa-flickr[_ngcontent-%COMP%]:before{content:"\uf16e"}.fa-adn[_ngcontent-%COMP%]:before{content:"\uf170"}.fa-bitbucket[_ngcontent-%COMP%]:before{content:"\uf171"}.fa-bitbucket-square[_ngcontent-%COMP%]:before{content:"\uf172"}.fa-tumblr[_ngcontent-%COMP%]:before{content:"\uf173"}.fa-tumblr-square[_ngcontent-%COMP%]:before{content:"\uf174"}.fa-long-arrow-down[_ngcontent-%COMP%]:before{content:"\uf175"}.fa-long-arrow-up[_ngcontent-%COMP%]:before{content:"\uf176"}.fa-long-arrow-left[_ngcontent-%COMP%]:before{content:"\uf177"}.fa-long-arrow-right[_ngcontent-%COMP%]:before{content:"\uf178"}.fa-apple[_ngcontent-%COMP%]:before{content:"\uf179"}.fa-windows[_ngcontent-%COMP%]:before{content:"\uf17a"}.fa-android[_ngcontent-%COMP%]:before{content:"\uf17b"}.fa-linux[_ngcontent-%COMP%]:before{content:"\uf17c"}.fa-dribbble[_ngcontent-%COMP%]:before{content:"\uf17d"}.fa-skype[_ngcontent-%COMP%]:before{content:"\uf17e"}.fa-foursquare[_ngcontent-%COMP%]:before{content:"\uf180"}.fa-trello[_ngcontent-%COMP%]:before{content:"\uf181"}.fa-female[_ngcontent-%COMP%]:before{content:"\uf182"}.fa-male[_ngcontent-%COMP%]:before{content:"\uf183"}.fa-gittip[_ngcontent-%COMP%]:before, .fa-gratipay[_ngcontent-%COMP%]:before{content:"\uf184"}.fa-sun-o[_ngcontent-%COMP%]:before{content:"\uf185"}.fa-moon-o[_ngcontent-%COMP%]:before{content:"\uf186"}.fa-archive[_ngcontent-%COMP%]:before{content:"\uf187"}.fa-bug[_ngcontent-%COMP%]:before{content:"\uf188"}.fa-vk[_ngcontent-%COMP%]:before{content:"\uf189"}.fa-weibo[_ngcontent-%COMP%]:before{content:"\uf18a"}.fa-renren[_ngcontent-%COMP%]:before{content:"\uf18b"}.fa-pagelines[_ngcontent-%COMP%]:before{content:"\uf18c"}.fa-stack-exchange[_ngcontent-%COMP%]:before{content:"\uf18d"}.fa-arrow-circle-o-right[_ngcontent-%COMP%]:before{content:"\uf18e"}.fa-arrow-circle-o-left[_ngcontent-%COMP%]:before{content:"\uf190"}.fa-caret-square-o-left[_ngcontent-%COMP%]:before, .fa-toggle-left[_ngcontent-%COMP%]:before{content:"\uf191"}.fa-dot-circle-o[_ngcontent-%COMP%]:before{content:"\uf192"}.fa-wheelchair[_ngcontent-%COMP%]:before{content:"\uf193"}.fa-vimeo-square[_ngcontent-%COMP%]:before{content:"\uf194"}.fa-try[_ngcontent-%COMP%]:before, .fa-turkish-lira[_ngcontent-%COMP%]:before{content:"\uf195"}.fa-plus-square-o[_ngcontent-%COMP%]:before{content:"\uf196"}.fa-space-shuttle[_ngcontent-%COMP%]:before{content:"\uf197"}.fa-slack[_ngcontent-%COMP%]:before{content:"\uf198"}.fa-envelope-square[_ngcontent-%COMP%]:before{content:"\uf199"}.fa-wordpress[_ngcontent-%COMP%]:before{content:"\uf19a"}.fa-openid[_ngcontent-%COMP%]:before{content:"\uf19b"}.fa-bank[_ngcontent-%COMP%]:before, .fa-institution[_ngcontent-%COMP%]:before, .fa-university[_ngcontent-%COMP%]:before{content:"\uf19c"}.fa-graduation-cap[_ngcontent-%COMP%]:before, .fa-mortar-board[_ngcontent-%COMP%]:before{content:"\uf19d"}.fa-yahoo[_ngcontent-%COMP%]:before{content:"\uf19e"}.fa-google[_ngcontent-%COMP%]:before{content:"\uf1a0"}.fa-reddit[_ngcontent-%COMP%]:before{content:"\uf1a1"}.fa-reddit-square[_ngcontent-%COMP%]:before{content:"\uf1a2"}.fa-stumbleupon-circle[_ngcontent-%COMP%]:before{content:"\uf1a3"}.fa-stumbleupon[_ngcontent-%COMP%]:before{content:"\uf1a4"}.fa-delicious[_ngcontent-%COMP%]:before{content:"\uf1a5"}.fa-digg[_ngcontent-%COMP%]:before{content:"\uf1a6"}.fa-pied-piper-pp[_ngcontent-%COMP%]:before{content:"\uf1a7"}.fa-pied-piper-alt[_ngcontent-%COMP%]:before{content:"\uf1a8"}.fa-drupal[_ngcontent-%COMP%]:before{content:"\uf1a9"}.fa-joomla[_ngcontent-%COMP%]:before{content:"\uf1aa"}.fa-language[_ngcontent-%COMP%]:before{content:"\uf1ab"}.fa-fax[_ngcontent-%COMP%]:before{content:"\uf1ac"}.fa-building[_ngcontent-%COMP%]:before{content:"\uf1ad"}.fa-child[_ngcontent-%COMP%]:before{content:"\uf1ae"}.fa-paw[_ngcontent-%COMP%]:before{content:"\uf1b0"}.fa-spoon[_ngcontent-%COMP%]:before{content:"\uf1b1"}.fa-cube[_ngcontent-%COMP%]:before{content:"\uf1b2"}.fa-cubes[_ngcontent-%COMP%]:before{content:"\uf1b3"}.fa-behance[_ngcontent-%COMP%]:before{content:"\uf1b4"}.fa-behance-square[_ngcontent-%COMP%]:before{content:"\uf1b5"}.fa-steam[_ngcontent-%COMP%]:before{content:"\uf1b6"}.fa-steam-square[_ngcontent-%COMP%]:before{content:"\uf1b7"}.fa-recycle[_ngcontent-%COMP%]:before{content:"\uf1b8"}.fa-automobile[_ngcontent-%COMP%]:before, .fa-car[_ngcontent-%COMP%]:before{content:"\uf1b9"}.fa-cab[_ngcontent-%COMP%]:before, .fa-taxi[_ngcontent-%COMP%]:before{content:"\uf1ba"}.fa-tree[_ngcontent-%COMP%]:before{content:"\uf1bb"}.fa-spotify[_ngcontent-%COMP%]:before{content:"\uf1bc"}.fa-deviantart[_ngcontent-%COMP%]:before{content:"\uf1bd"}.fa-soundcloud[_ngcontent-%COMP%]:before{content:"\uf1be"}.fa-database[_ngcontent-%COMP%]:before{content:"\uf1c0"}.fa-file-pdf-o[_ngcontent-%COMP%]:before{content:"\uf1c1"}.fa-file-word-o[_ngcontent-%COMP%]:before{content:"\uf1c2"}.fa-file-excel-o[_ngcontent-%COMP%]:before{content:"\uf1c3"}.fa-file-powerpoint-o[_ngcontent-%COMP%]:before{content:"\uf1c4"}.fa-file-image-o[_ngcontent-%COMP%]:before, .fa-file-photo-o[_ngcontent-%COMP%]:before, .fa-file-picture-o[_ngcontent-%COMP%]:before{content:"\uf1c5"}.fa-file-archive-o[_ngcontent-%COMP%]:before, .fa-file-zip-o[_ngcontent-%COMP%]:before{content:"\uf1c6"}.fa-file-audio-o[_ngcontent-%COMP%]:before, .fa-file-sound-o[_ngcontent-%COMP%]:before{content:"\uf1c7"}.fa-file-movie-o[_ngcontent-%COMP%]:before, .fa-file-video-o[_ngcontent-%COMP%]:before{content:"\uf1c8"}.fa-file-code-o[_ngcontent-%COMP%]:before{content:"\uf1c9"}.fa-vine[_ngcontent-%COMP%]:before{content:"\uf1ca"}.fa-codepen[_ngcontent-%COMP%]:before{content:"\uf1cb"}.fa-jsfiddle[_ngcontent-%COMP%]:before{content:"\uf1cc"}.fa-life-bouy[_ngcontent-%COMP%]:before, .fa-life-buoy[_ngcontent-%COMP%]:before, .fa-life-ring[_ngcontent-%COMP%]:before, .fa-life-saver[_ngcontent-%COMP%]:before, .fa-support[_ngcontent-%COMP%]:before{content:"\uf1cd"}.fa-circle-o-notch[_ngcontent-%COMP%]:before{content:"\uf1ce"}.fa-ra[_ngcontent-%COMP%]:before, .fa-rebel[_ngcontent-%COMP%]:before, .fa-resistance[_ngcontent-%COMP%]:before{content:"\uf1d0"}.fa-empire[_ngcontent-%COMP%]:before, .fa-ge[_ngcontent-%COMP%]:before{content:"\uf1d1"}.fa-git-square[_ngcontent-%COMP%]:before{content:"\uf1d2"}.fa-git[_ngcontent-%COMP%]:before{content:"\uf1d3"}.fa-hacker-news[_ngcontent-%COMP%]:before, .fa-y-combinator-square[_ngcontent-%COMP%]:before, .fa-yc-square[_ngcontent-%COMP%]:before{content:"\uf1d4"}.fa-tencent-weibo[_ngcontent-%COMP%]:before{content:"\uf1d5"}.fa-qq[_ngcontent-%COMP%]:before{content:"\uf1d6"}.fa-wechat[_ngcontent-%COMP%]:before, .fa-weixin[_ngcontent-%COMP%]:before{content:"\uf1d7"}.fa-paper-plane[_ngcontent-%COMP%]:before, .fa-send[_ngcontent-%COMP%]:before{content:"\uf1d8"}.fa-paper-plane-o[_ngcontent-%COMP%]:before, .fa-send-o[_ngcontent-%COMP%]:before{content:"\uf1d9"}.fa-history[_ngcontent-%COMP%]:before{content:"\uf1da"}.fa-circle-thin[_ngcontent-%COMP%]:before{content:"\uf1db"}.fa-header[_ngcontent-%COMP%]:before{content:"\uf1dc"}.fa-paragraph[_ngcontent-%COMP%]:before{content:"\uf1dd"}.fa-sliders[_ngcontent-%COMP%]:before{content:"\uf1de"}.fa-share-alt[_ngcontent-%COMP%]:before{content:"\uf1e0"}.fa-share-alt-square[_ngcontent-%COMP%]:before{content:"\uf1e1"}.fa-bomb[_ngcontent-%COMP%]:before{content:"\uf1e2"}.fa-futbol-o[_ngcontent-%COMP%]:before, .fa-soccer-ball-o[_ngcontent-%COMP%]:before{content:"\uf1e3"}.fa-tty[_ngcontent-%COMP%]:before{content:"\uf1e4"}.fa-binoculars[_ngcontent-%COMP%]:before{content:"\uf1e5"}.fa-plug[_ngcontent-%COMP%]:before{content:"\uf1e6"}.fa-slideshare[_ngcontent-%COMP%]:before{content:"\uf1e7"}.fa-twitch[_ngcontent-%COMP%]:before{content:"\uf1e8"}.fa-yelp[_ngcontent-%COMP%]:before{content:"\uf1e9"}.fa-newspaper-o[_ngcontent-%COMP%]:before{content:"\uf1ea"}.fa-wifi[_ngcontent-%COMP%]:before{content:"\uf1eb"}.fa-calculator[_ngcontent-%COMP%]:before{content:"\uf1ec"}.fa-paypal[_ngcontent-%COMP%]:before{content:"\uf1ed"}.fa-google-wallet[_ngcontent-%COMP%]:before{content:"\uf1ee"}.fa-cc-visa[_ngcontent-%COMP%]:before{content:"\uf1f0"}.fa-cc-mastercard[_ngcontent-%COMP%]:before{content:"\uf1f1"}.fa-cc-discover[_ngcontent-%COMP%]:before{content:"\uf1f2"}.fa-cc-amex[_ngcontent-%COMP%]:before{content:"\uf1f3"}.fa-cc-paypal[_ngcontent-%COMP%]:before{content:"\uf1f4"}.fa-cc-stripe[_ngcontent-%COMP%]:before{content:"\uf1f5"}.fa-bell-slash[_ngcontent-%COMP%]:before{content:"\uf1f6"}.fa-bell-slash-o[_ngcontent-%COMP%]:before{content:"\uf1f7"}.fa-trash[_ngcontent-%COMP%]:before{content:"\uf1f8"}.fa-copyright[_ngcontent-%COMP%]:before{content:"\uf1f9"}.fa-at[_ngcontent-%COMP%]:before{content:"\uf1fa"}.fa-eyedropper[_ngcontent-%COMP%]:before{content:"\uf1fb"}.fa-paint-brush[_ngcontent-%COMP%]:before{content:"\uf1fc"}.fa-birthday-cake[_ngcontent-%COMP%]:before{content:"\uf1fd"}.fa-area-chart[_ngcontent-%COMP%]:before{content:"\uf1fe"}.fa-pie-chart[_ngcontent-%COMP%]:before{content:"\uf200"}.fa-line-chart[_ngcontent-%COMP%]:before{content:"\uf201"}.fa-lastfm[_ngcontent-%COMP%]:before{content:"\uf202"}.fa-lastfm-square[_ngcontent-%COMP%]:before{content:"\uf203"}.fa-toggle-off[_ngcontent-%COMP%]:before{content:"\uf204"}.fa-toggle-on[_ngcontent-%COMP%]:before{content:"\uf205"}.fa-bicycle[_ngcontent-%COMP%]:before{content:"\uf206"}.fa-bus[_ngcontent-%COMP%]:before{content:"\uf207"}.fa-ioxhost[_ngcontent-%COMP%]:before{content:"\uf208"}.fa-angellist[_ngcontent-%COMP%]:before{content:"\uf209"}.fa-cc[_ngcontent-%COMP%]:before{content:"\uf20a"}.fa-ils[_ngcontent-%COMP%]:before, .fa-shekel[_ngcontent-%COMP%]:before, .fa-sheqel[_ngcontent-%COMP%]:before{content:"\uf20b"}.fa-meanpath[_ngcontent-%COMP%]:before{content:"\uf20c"}.fa-buysellads[_ngcontent-%COMP%]:before{content:"\uf20d"}.fa-connectdevelop[_ngcontent-%COMP%]:before{content:"\uf20e"}.fa-dashcube[_ngcontent-%COMP%]:before{content:"\uf210"}.fa-forumbee[_ngcontent-%COMP%]:before{content:"\uf211"}.fa-leanpub[_ngcontent-%COMP%]:before{content:"\uf212"}.fa-sellsy[_ngcontent-%COMP%]:before{content:"\uf213"}.fa-shirtsinbulk[_ngcontent-%COMP%]:before{content:"\uf214"}.fa-simplybuilt[_ngcontent-%COMP%]:before{content:"\uf215"}.fa-skyatlas[_ngcontent-%COMP%]:before{content:"\uf216"}.fa-cart-plus[_ngcontent-%COMP%]:before{content:"\uf217"}.fa-cart-arrow-down[_ngcontent-%COMP%]:before{content:"\uf218"}.fa-diamond[_ngcontent-%COMP%]:before{content:"\uf219"}.fa-ship[_ngcontent-%COMP%]:before{content:"\uf21a"}.fa-user-secret[_ngcontent-%COMP%]:before{content:"\uf21b"}.fa-motorcycle[_ngcontent-%COMP%]:before{content:"\uf21c"}.fa-street-view[_ngcontent-%COMP%]:before{content:"\uf21d"}.fa-heartbeat[_ngcontent-%COMP%]:before{content:"\uf21e"}.fa-venus[_ngcontent-%COMP%]:before{content:"\uf221"}.fa-mars[_ngcontent-%COMP%]:before{content:"\uf222"}.fa-mercury[_ngcontent-%COMP%]:before{content:"\uf223"}.fa-intersex[_ngcontent-%COMP%]:before, .fa-transgender[_ngcontent-%COMP%]:before{content:"\uf224"}.fa-transgender-alt[_ngcontent-%COMP%]:before{content:"\uf225"}.fa-venus-double[_ngcontent-%COMP%]:before{content:"\uf226"}.fa-mars-double[_ngcontent-%COMP%]:before{content:"\uf227"}.fa-venus-mars[_ngcontent-%COMP%]:before{content:"\uf228"}.fa-mars-stroke[_ngcontent-%COMP%]:before{content:"\uf229"}.fa-mars-stroke-v[_ngcontent-%COMP%]:before{content:"\uf22a"}.fa-mars-stroke-h[_ngcontent-%COMP%]:before{content:"\uf22b"}.fa-neuter[_ngcontent-%COMP%]:before{content:"\uf22c"}.fa-genderless[_ngcontent-%COMP%]:before{content:"\uf22d"}.fa-facebook-official[_ngcontent-%COMP%]:before{content:"\uf230"}.fa-pinterest-p[_ngcontent-%COMP%]:before{content:"\uf231"}.fa-whatsapp[_ngcontent-%COMP%]:before{content:"\uf232"}.fa-server[_ngcontent-%COMP%]:before{content:"\uf233"}.fa-user-plus[_ngcontent-%COMP%]:before{content:"\uf234"}.fa-user-times[_ngcontent-%COMP%]:before{content:"\uf235"}.fa-bed[_ngcontent-%COMP%]:before, .fa-hotel[_ngcontent-%COMP%]:before{content:"\uf236"}.fa-viacoin[_ngcontent-%COMP%]:before{content:"\uf237"}.fa-train[_ngcontent-%COMP%]:before{content:"\uf238"}.fa-subway[_ngcontent-%COMP%]:before{content:"\uf239"}.fa-medium[_ngcontent-%COMP%]:before{content:"\uf23a"}.fa-y-combinator[_ngcontent-%COMP%]:before, .fa-yc[_ngcontent-%COMP%]:before{content:"\uf23b"}.fa-optin-monster[_ngcontent-%COMP%]:before{content:"\uf23c"}.fa-opencart[_ngcontent-%COMP%]:before{content:"\uf23d"}.fa-expeditedssl[_ngcontent-%COMP%]:before{content:"\uf23e"}.fa-battery-4[_ngcontent-%COMP%]:before, .fa-battery-full[_ngcontent-%COMP%]:before, .fa-battery[_ngcontent-%COMP%]:before{content:"\uf240"}.fa-battery-3[_ngcontent-%COMP%]:before, .fa-battery-three-quarters[_ngcontent-%COMP%]:before{content:"\uf241"}.fa-battery-2[_ngcontent-%COMP%]:before, .fa-battery-half[_ngcontent-%COMP%]:before{content:"\uf242"}.fa-battery-1[_ngcontent-%COMP%]:before, .fa-battery-quarter[_ngcontent-%COMP%]:before{content:"\uf243"}.fa-battery-0[_ngcontent-%COMP%]:before, .fa-battery-empty[_ngcontent-%COMP%]:before{content:"\uf244"}.fa-mouse-pointer[_ngcontent-%COMP%]:before{content:"\uf245"}.fa-i-cursor[_ngcontent-%COMP%]:before{content:"\uf246"}.fa-object-group[_ngcontent-%COMP%]:before{content:"\uf247"}.fa-object-ungroup[_ngcontent-%COMP%]:before{content:"\uf248"}.fa-sticky-note[_ngcontent-%COMP%]:before{content:"\uf249"}.fa-sticky-note-o[_ngcontent-%COMP%]:before{content:"\uf24a"}.fa-cc-jcb[_ngcontent-%COMP%]:before{content:"\uf24b"}.fa-cc-diners-club[_ngcontent-%COMP%]:before{content:"\uf24c"}.fa-clone[_ngcontent-%COMP%]:before{content:"\uf24d"}.fa-balance-scale[_ngcontent-%COMP%]:before{content:"\uf24e"}.fa-hourglass-o[_ngcontent-%COMP%]:before{content:"\uf250"}.fa-hourglass-1[_ngcontent-%COMP%]:before, .fa-hourglass-start[_ngcontent-%COMP%]:before{content:"\uf251"}.fa-hourglass-2[_ngcontent-%COMP%]:before, .fa-hourglass-half[_ngcontent-%COMP%]:before{content:"\uf252"}.fa-hourglass-3[_ngcontent-%COMP%]:before, .fa-hourglass-end[_ngcontent-%COMP%]:before{content:"\uf253"}.fa-hourglass[_ngcontent-%COMP%]:before{content:"\uf254"}.fa-hand-grab-o[_ngcontent-%COMP%]:before, .fa-hand-rock-o[_ngcontent-%COMP%]:before{content:"\uf255"}.fa-hand-paper-o[_ngcontent-%COMP%]:before, .fa-hand-stop-o[_ngcontent-%COMP%]:before{content:"\uf256"}.fa-hand-scissors-o[_ngcontent-%COMP%]:before{content:"\uf257"}.fa-hand-lizard-o[_ngcontent-%COMP%]:before{content:"\uf258"}.fa-hand-spock-o[_ngcontent-%COMP%]:before{content:"\uf259"}.fa-hand-pointer-o[_ngcontent-%COMP%]:before{content:"\uf25a"}.fa-hand-peace-o[_ngcontent-%COMP%]:before{content:"\uf25b"}.fa-trademark[_ngcontent-%COMP%]:before{content:"\uf25c"}.fa-registered[_ngcontent-%COMP%]:before{content:"\uf25d"}.fa-creative-commons[_ngcontent-%COMP%]:before{content:"\uf25e"}.fa-gg[_ngcontent-%COMP%]:before{content:"\uf260"}.fa-gg-circle[_ngcontent-%COMP%]:before{content:"\uf261"}.fa-tripadvisor[_ngcontent-%COMP%]:before{content:"\uf262"}.fa-odnoklassniki[_ngcontent-%COMP%]:before{content:"\uf263"}.fa-odnoklassniki-square[_ngcontent-%COMP%]:before{content:"\uf264"}.fa-get-pocket[_ngcontent-%COMP%]:before{content:"\uf265"}.fa-wikipedia-w[_ngcontent-%COMP%]:before{content:"\uf266"}.fa-safari[_ngcontent-%COMP%]:before{content:"\uf267"}.fa-chrome[_ngcontent-%COMP%]:before{content:"\uf268"}.fa-firefox[_ngcontent-%COMP%]:before{content:"\uf269"}.fa-opera[_ngcontent-%COMP%]:before{content:"\uf26a"}.fa-internet-explorer[_ngcontent-%COMP%]:before{content:"\uf26b"}.fa-television[_ngcontent-%COMP%]:before, .fa-tv[_ngcontent-%COMP%]:before{content:"\uf26c"}.fa-contao[_ngcontent-%COMP%]:before{content:"\uf26d"}.fa-500px[_ngcontent-%COMP%]:before{content:"\uf26e"}.fa-amazon[_ngcontent-%COMP%]:before{content:"\uf270"}.fa-calendar-plus-o[_ngcontent-%COMP%]:before{content:"\uf271"}.fa-calendar-minus-o[_ngcontent-%COMP%]:before{content:"\uf272"}.fa-calendar-times-o[_ngcontent-%COMP%]:before{content:"\uf273"}.fa-calendar-check-o[_ngcontent-%COMP%]:before{content:"\uf274"}.fa-industry[_ngcontent-%COMP%]:before{content:"\uf275"}.fa-map-pin[_ngcontent-%COMP%]:before{content:"\uf276"}.fa-map-signs[_ngcontent-%COMP%]:before{content:"\uf277"}.fa-map-o[_ngcontent-%COMP%]:before{content:"\uf278"}.fa-map[_ngcontent-%COMP%]:before{content:"\uf279"}.fa-commenting[_ngcontent-%COMP%]:before{content:"\uf27a"}.fa-commenting-o[_ngcontent-%COMP%]:before{content:"\uf27b"}.fa-houzz[_ngcontent-%COMP%]:before{content:"\uf27c"}.fa-vimeo[_ngcontent-%COMP%]:before{content:"\uf27d"}.fa-black-tie[_ngcontent-%COMP%]:before{content:"\uf27e"}.fa-fonticons[_ngcontent-%COMP%]:before{content:"\uf280"}.fa-reddit-alien[_ngcontent-%COMP%]:before{content:"\uf281"}.fa-edge[_ngcontent-%COMP%]:before{content:"\uf282"}.fa-credit-card-alt[_ngcontent-%COMP%]:before{content:"\uf283"}.fa-codiepie[_ngcontent-%COMP%]:before{content:"\uf284"}.fa-modx[_ngcontent-%COMP%]:before{content:"\uf285"}.fa-fort-awesome[_ngcontent-%COMP%]:before{content:"\uf286"}.fa-usb[_ngcontent-%COMP%]:before{content:"\uf287"}.fa-product-hunt[_ngcontent-%COMP%]:before{content:"\uf288"}.fa-mixcloud[_ngcontent-%COMP%]:before{content:"\uf289"}.fa-scribd[_ngcontent-%COMP%]:before{content:"\uf28a"}.fa-pause-circle[_ngcontent-%COMP%]:before{content:"\uf28b"}.fa-pause-circle-o[_ngcontent-%COMP%]:before{content:"\uf28c"}.fa-stop-circle[_ngcontent-%COMP%]:before{content:"\uf28d"}.fa-stop-circle-o[_ngcontent-%COMP%]:before{content:"\uf28e"}.fa-shopping-bag[_ngcontent-%COMP%]:before{content:"\uf290"}.fa-shopping-basket[_ngcontent-%COMP%]:before{content:"\uf291"}.fa-hashtag[_ngcontent-%COMP%]:before{content:"\uf292"}.fa-bluetooth[_ngcontent-%COMP%]:before{content:"\uf293"}.fa-bluetooth-b[_ngcontent-%COMP%]:before{content:"\uf294"}.fa-percent[_ngcontent-%COMP%]:before{content:"\uf295"}.fa-gitlab[_ngcontent-%COMP%]:before{content:"\uf296"}.fa-wpbeginner[_ngcontent-%COMP%]:before{content:"\uf297"}.fa-wpforms[_ngcontent-%COMP%]:before{content:"\uf298"}.fa-envira[_ngcontent-%COMP%]:before{content:"\uf299"}.fa-universal-access[_ngcontent-%COMP%]:before{content:"\uf29a"}.fa-wheelchair-alt[_ngcontent-%COMP%]:before{content:"\uf29b"}.fa-question-circle-o[_ngcontent-%COMP%]:before{content:"\uf29c"}.fa-blind[_ngcontent-%COMP%]:before{content:"\uf29d"}.fa-audio-description[_ngcontent-%COMP%]:before{content:"\uf29e"}.fa-volume-control-phone[_ngcontent-%COMP%]:before{content:"\uf2a0"}.fa-braille[_ngcontent-%COMP%]:before{content:"\uf2a1"}.fa-assistive-listening-systems[_ngcontent-%COMP%]:before{content:"\uf2a2"}.fa-american-sign-language-interpreting[_ngcontent-%COMP%]:before, .fa-asl-interpreting[_ngcontent-%COMP%]:before{content:"\uf2a3"}.fa-deaf[_ngcontent-%COMP%]:before, .fa-deafness[_ngcontent-%COMP%]:before, .fa-hard-of-hearing[_ngcontent-%COMP%]:before{content:"\uf2a4"}.fa-glide[_ngcontent-%COMP%]:before{content:"\uf2a5"}.fa-glide-g[_ngcontent-%COMP%]:before{content:"\uf2a6"}.fa-sign-language[_ngcontent-%COMP%]:before, .fa-signing[_ngcontent-%COMP%]:before{content:"\uf2a7"}.fa-low-vision[_ngcontent-%COMP%]:before{content:"\uf2a8"}.fa-viadeo[_ngcontent-%COMP%]:before{content:"\uf2a9"}.fa-viadeo-square[_ngcontent-%COMP%]:before{content:"\uf2aa"}.fa-snapchat[_ngcontent-%COMP%]:before{content:"\uf2ab"}.fa-snapchat-ghost[_ngcontent-%COMP%]:before{content:"\uf2ac"}.fa-snapchat-square[_ngcontent-%COMP%]:before{content:"\uf2ad"}.fa-pied-piper[_ngcontent-%COMP%]:before{content:"\uf2ae"}.fa-first-order[_ngcontent-%COMP%]:before{content:"\uf2b0"}.fa-yoast[_ngcontent-%COMP%]:before{content:"\uf2b1"}.fa-themeisle[_ngcontent-%COMP%]:before{content:"\uf2b2"}.fa-google-plus-circle[_ngcontent-%COMP%]:before, .fa-google-plus-official[_ngcontent-%COMP%]:before{content:"\uf2b3"}.fa-fa[_ngcontent-%COMP%]:before, .fa-font-awesome[_ngcontent-%COMP%]:before{content:"\uf2b4"}.fa-handshake-o[_ngcontent-%COMP%]:before{content:"\uf2b5"}.fa-envelope-open[_ngcontent-%COMP%]:before{content:"\uf2b6"}.fa-envelope-open-o[_ngcontent-%COMP%]:before{content:"\uf2b7"}.fa-linode[_ngcontent-%COMP%]:before{content:"\uf2b8"}.fa-address-book[_ngcontent-%COMP%]:before{content:"\uf2b9"}.fa-address-book-o[_ngcontent-%COMP%]:before{content:"\uf2ba"}.fa-address-card[_ngcontent-%COMP%]:before, .fa-vcard[_ngcontent-%COMP%]:before{content:"\uf2bb"}.fa-address-card-o[_ngcontent-%COMP%]:before, .fa-vcard-o[_ngcontent-%COMP%]:before{content:"\uf2bc"}.fa-user-circle[_ngcontent-%COMP%]:before{content:"\uf2bd"}.fa-user-circle-o[_ngcontent-%COMP%]:before{content:"\uf2be"}.fa-user-o[_ngcontent-%COMP%]:before{content:"\uf2c0"}.fa-id-badge[_ngcontent-%COMP%]:before{content:"\uf2c1"}.fa-drivers-license[_ngcontent-%COMP%]:before, .fa-id-card[_ngcontent-%COMP%]:before{content:"\uf2c2"}.fa-drivers-license-o[_ngcontent-%COMP%]:before, .fa-id-card-o[_ngcontent-%COMP%]:before{content:"\uf2c3"}.fa-quora[_ngcontent-%COMP%]:before{content:"\uf2c4"}.fa-free-code-camp[_ngcontent-%COMP%]:before{content:"\uf2c5"}.fa-telegram[_ngcontent-%COMP%]:before{content:"\uf2c6"}.fa-thermometer-4[_ngcontent-%COMP%]:before, .fa-thermometer-full[_ngcontent-%COMP%]:before, .fa-thermometer[_ngcontent-%COMP%]:before{content:"\uf2c7"}.fa-thermometer-3[_ngcontent-%COMP%]:before, .fa-thermometer-three-quarters[_ngcontent-%COMP%]:before{content:"\uf2c8"}.fa-thermometer-2[_ngcontent-%COMP%]:before, .fa-thermometer-half[_ngcontent-%COMP%]:before{content:"\uf2c9"}.fa-thermometer-1[_ngcontent-%COMP%]:before, .fa-thermometer-quarter[_ngcontent-%COMP%]:before{content:"\uf2ca"}.fa-thermometer-0[_ngcontent-%COMP%]:before, .fa-thermometer-empty[_ngcontent-%COMP%]:before{content:"\uf2cb"}.fa-shower[_ngcontent-%COMP%]:before{content:"\uf2cc"}.fa-bath[_ngcontent-%COMP%]:before, .fa-bathtub[_ngcontent-%COMP%]:before, .fa-s15[_ngcontent-%COMP%]:before{content:"\uf2cd"}.fa-podcast[_ngcontent-%COMP%]:before{content:"\uf2ce"}.fa-window-maximize[_ngcontent-%COMP%]:before{content:"\uf2d0"}.fa-window-minimize[_ngcontent-%COMP%]:before{content:"\uf2d1"}.fa-window-restore[_ngcontent-%COMP%]:before{content:"\uf2d2"}.fa-times-rectangle[_ngcontent-%COMP%]:before, .fa-window-close[_ngcontent-%COMP%]:before{content:"\uf2d3"}.fa-times-rectangle-o[_ngcontent-%COMP%]:before, .fa-window-close-o[_ngcontent-%COMP%]:before{content:"\uf2d4"}.fa-bandcamp[_ngcontent-%COMP%]:before{content:"\uf2d5"}.fa-grav[_ngcontent-%COMP%]:before{content:"\uf2d6"}.fa-etsy[_ngcontent-%COMP%]:before{content:"\uf2d7"}.fa-imdb[_ngcontent-%COMP%]:before{content:"\uf2d8"}.fa-ravelry[_ngcontent-%COMP%]:before{content:"\uf2d9"}.fa-eercast[_ngcontent-%COMP%]:before{content:"\uf2da"}.fa-microchip[_ngcontent-%COMP%]:before{content:"\uf2db"}.fa-snowflake-o[_ngcontent-%COMP%]:before{content:"\uf2dc"}.fa-superpowers[_ngcontent-%COMP%]:before{content:"\uf2dd"}.fa-wpexplorer[_ngcontent-%COMP%]:before{content:"\uf2de"}.fa-meetup[_ngcontent-%COMP%]:before{content:"\uf2e0"}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable[_ngcontent-%COMP%]:active, .sr-only-focusable[_ngcontent-%COMP%]:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-textarea[_ngcontent-%COMP%]{min-height:150px;overflow:auto;margin-top:5px;resize:vertical}.angular-editor-textarea[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;right:0;display:block;width:8px;height:8px;cursor:nwse-resize;background-color:hsla(0,0%,100%,.5)}.angular-editor-toolbar[_ngcontent-%COMP%]{font:100 14px/15px Roboto,Arial,sans-serif;background-color:#f5f5f5;font-size:.8rem;padding:.2rem;border:1px solid #ddd}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]{display:none;margin-right:5px;vertical-align:baseline}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]{background-color:#fff;vertical-align:middle;border:1px solid #ddd;padding:.4rem;min-width:2rem;float:left}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.focus[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:focus{outline:0}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.background[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background:#555}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]{background:#fff5b9}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]:hover{background-color:#fffa98}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:11px;width:90px;vertical-align:middle;background-color:transparent;border:.5px solid hsla(0,0%,100%,0);border-radius:5px;outline:none;padding:.4rem;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance:none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .default[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:24px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:15px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h5[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h6[_ngcontent-%COMP%]{font-size:13px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .div[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .pre[_ngcontent-%COMP%]{font-size:12px}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance:none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]{display:inline-block;width:50px}@supports not (-moz-appearance:none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size1[_ngcontent-%COMP%]{font-size:10px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size2[_ngcontent-%COMP%]{font-size:12px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size3[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size4[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size5[_ngcontent-%COMP%]{font-size:18px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size6[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size7[_ngcontent-%COMP%]{font-size:22px}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance:none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .color-label[_ngcontent-%COMP%]{position:relative;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{font-size:smaller;background:#1b1b1b;color:#fff;padding:3px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{position:absolute;content:"";left:-1px;top:auto;bottom:-3px;right:auto;width:15px;height:2px;z-index:0;background:#1b1b1b}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]:not([style*="display:none"]):not([style*="display: none"]){display:inline-block}.angular-editor[_ngcontent-%COMP%]{position:relative}.angular-editor[_ngcontent-%COMP%]     [contenteditable=true]:empty:before{content:attr(placeholder);color:#868e96;opacity:1}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]{position:relative}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]{min-height:5rem;padding:.5rem .8rem 1rem;border:1px solid #ddd;background-color:transparent;overflow-x:hidden;overflow-y:auto;position:relative}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-textarea[_ngcontent-%COMP%]     blockquote{margin-left:1rem;border-left:.2em solid #dfe2e5;padding-left:.5rem}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]     p{margin-bottom:0}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper[_ngcontent-%COMP%]   .angular-editor-placeholder[_ngcontent-%COMP%]{display:none;position:absolute;top:0;padding:.5rem .8rem 1rem .9rem;color:#6c757d;opacity:.75}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper.show-placeholder[_ngcontent-%COMP%]   .angular-editor-placeholder[_ngcontent-%COMP%]{display:block}.angular-editor[_ngcontent-%COMP%]   .angular-editor-wrapper.disabled[_ngcontent-%COMP%]{cursor:not-allowed;opacity:.5;pointer-events:none}']}),e})(),rA=(()=>{class e{constructor(e,t,n,i){this.r=e,this.editorService=t,this.er=n,this.doc=i,this.htmlMode=!1,this.linkSelected=!1,this.block="default",this.fontName="Times New Roman",this.fontSize="3",this.headings=[{label:"Heading 1",value:"h1"},{label:"Heading 2",value:"h2"},{label:"Heading 3",value:"h3"},{label:"Heading 4",value:"h4"},{label:"Heading 5",value:"h5"},{label:"Heading 6",value:"h6"},{label:"Heading 7",value:"h7"},{label:"Paragraph",value:"p"},{label:"Predefined",value:"pre"},{label:"Standard",value:"div"},{label:"default",value:"default"}],this.fontSizes=[{label:"1",value:"1"},{label:"2",value:"2"},{label:"3",value:"3"},{label:"4",value:"4"},{label:"5",value:"5"},{label:"6",value:"6"},{label:"7",value:"7"}],this.customClassId="-1",this.customClassList=[{label:"",value:""}],this.tagMap={BLOCKQUOTE:"indent",A:"link"},this.select=["H1","H2","H3","H4","H5","H6","P","PRE","DIV"],this.buttons=["bold","italic","underline","strikeThrough","subscript","superscript","justifyLeft","justifyCenter","justifyRight","justifyFull","indent","outdent","insertUnorderedList","insertOrderedList","link"],this.fonts=[{label:"",value:""}],this.execute=new r.vpe}set customClasses(e){e&&(this._customClasses=e,this.customClassList=this._customClasses.map((e,t)=>({label:e.name,value:t.toString()})),this.customClassList.unshift({label:"Clear Class",value:"-1"}))}set defaultFontName(e){e&&(this.fontName=e)}set defaultFontSize(e){e&&(this.fontSize=e)}get isLinkButtonDisabled(){return this.htmlMode||!Boolean(this.editorService.selectedText)}triggerCommand(e){this.execute.emit(e)}triggerButtons(){this.showToolbar&&this.buttons.forEach(e=>{const t=this.doc.queryCommandState(e),n=this.doc.getElementById(e+"-"+this.id);t?this.r.addClass(n,"active"):this.r.removeClass(n,"active")})}triggerBlocks(e){if(!this.showToolbar)return;this.linkSelected=e.findIndex(e=>"A"===e.nodeName)>-1;let t=!1;this.select.forEach(n=>{const r=e.find(e=>e.nodeName===n);void 0!==r&&n===r.nodeName?!1===t&&(this.block=r.nodeName.toLowerCase(),t=!0):!1===t&&(this.block="default")}),t=!1,this._customClasses&&this._customClasses.forEach((n,r)=>{void 0!==e.find(e=>{if(e instanceof Element)return e.className===n.class})?!1===t&&(this.customClassId=r.toString(),t=!0):!1===t&&(this.customClassId="-1")}),Object.keys(this.tagMap).map(t=>{const n=this.doc.getElementById(this.tagMap[t]+"-"+this.id),r=e.find(e=>e.nodeName===t);void 0!==r&&t===r.nodeName?this.r.addClass(n,"active"):this.r.removeClass(n,"active")}),this.foreColour=this.doc.queryCommandValue("ForeColor"),this.fontSize=this.doc.queryCommandValue("FontSize"),this.fontName=this.doc.queryCommandValue("FontName").replace(/"/g,""),this.backColor=this.doc.queryCommandValue("backColor")}insertUrl(){let e="https://";const t=this.editorService.savedSelection;if(t&&"A"===t.commonAncestorContainer.parentElement.nodeName){const n=t.commonAncestorContainer.parentElement;""!==n.href&&(e=n.href)}e=prompt("Insert URL link",e),e&&""!==e&&"https://"!==e&&this.editorService.createLink(e)}insertVideo(){this.execute.emit("");const e=prompt("Insert Video link","https://");e&&""!==e&&"https://"!==e&&this.editorService.insertVideo(e)}insertColor(e,t){this.editorService.insertColor(e,t),this.execute.emit("")}setFontName(e){this.editorService.setFontName(e),this.execute.emit("")}setFontSize(e){this.editorService.setFontSize(e),this.execute.emit("")}setEditorMode(e){const t=this.doc.getElementById("toggleEditorMode-"+this.id);e?this.r.addClass(t,"active"):this.r.removeClass(t,"active"),this.htmlMode=e}onFileChanged(e){const t=e.target.files[0];if(t.type.includes("image/"))if(this.upload)this.upload(t).subscribe(()=>this.watchUploadImage);else if(this.uploadUrl)this.editorService.uploadImage(t).subscribe(()=>this.watchUploadImage);else{const e=new FileReader;e.onload=e=>{this.editorService.insertImage(e.currentTarget.result.toString())},e.readAsDataURL(t)}}watchUploadImage(e,t){const{imageUrl:n}=e.body;this.editorService.insertImage(n),t.srcElement.value=null}setCustomClass(e){"-1"===e?this.execute.emit("clear"):this.editorService.createCustomClass(this._customClasses[+e])}isButtonHidden(e){if(!e)return!1;if(!(this.hiddenButtons instanceof Array))return!1;let t;for(const n of this.hiddenButtons)if(n instanceof Array&&(t=n.find(t=>t===e)),t)break;return void 0!==t}focus(){this.execute.emit("focus"),console.log("focused")}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.Qsj),r.Y36(Xx),r.Y36(r.SBq),r.Y36(s))},e.\u0275cmp=r.Xpm({type:e,selectors:[["angular-editor-toolbar"]],viewQuery:function(e,t){if(1&e&&r.Gf(Hx,7),2&e){let e;r.iGM(e=r.CRH())&&(t.myInputFile=e.first)}},inputs:{fonts:"fonts",customClasses:"customClasses",defaultFontName:"defaultFontName",defaultFontSize:"defaultFontSize",id:"id",uploadUrl:"uploadUrl",upload:"upload",showToolbar:"showToolbar",hiddenButtons:"hiddenButtons"},outputs:{execute:"execute"},decls:1,vars:1,consts:[["class","angular-editor-toolbar",4,"ngIf"],[1,"angular-editor-toolbar"],[1,"angular-editor-toolbar-set"],["type","button","title","Undo","tabindex","-1",1,"angular-editor-button",3,"hidden","click"],[1,"fa","fa-undo"],["type","button","title","Redo","tabindex","-1",1,"angular-editor-button",3,"hidden","click"],[1,"fa","fa-repeat"],["type","button","title","Bold","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-bold"],["type","button","title","Italic","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-italic"],["type","button","title","Underline","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-underline"],["type","button","title","Strikethrough","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-strikethrough"],["type","button","title","Subscript","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-subscript"],["type","button","title","Superscript","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-superscript"],["type","button","title","Justify Left","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-left"],["type","button","title","Justify Center","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-center"],["type","button","title","Justify Right","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-right"],["type","button","title","Justify Full","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-align-justify"],["type","button","title","Indent","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-indent"],["type","button","title","Outdent","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-outdent"],["type","button","title","Unordered List","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-list-ul"],["type","button","title","Ordered List","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-list-ol"],["tabindex","-1",1,"select-heading",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["tabindex","-1",1,"select-font",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["tabindex","-1",1,"select-font-size",3,"options","ngModel","disabled","hidden","ngModelChange","change"],["type","color",2,"display","none",3,"change"],["fgInput",""],["type","button","title","Text Color","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"color-label","foreground"],[1,"fa","fa-font"],["bgInput",""],["type","button","title","Background Color","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"color-label","background"],["class","angular-editor-toolbar-set",4,"ngIf"],["type","button","title","Insert Link","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-link"],["type","button","title","Unlink","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-chain-broken"],["accept","image/*","type","file",2,"display","none",3,"change"],["fileInput",""],["type","button","title","Insert Image","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-image"],["type","button","title","Insert Video","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-video-camera"],["type","button","title","Horizontal Line","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-minus"],["type","button","title","Clear Formatting","tabindex","-1",1,"angular-editor-button",3,"id","disabled","hidden","click"],[1,"fa","fa-remove"],["type","button","title","HTML Code","tabindex","-1",1,"angular-editor-button",3,"id","hidden","click"],[1,"fa","fa-code"],["tabindex","-1",1,"select-custom-style",3,"options","ngModel","disabled","hidden","ngModelChange","change"]],template:function(e,t){1&e&&r.YNc(0,Gx,75,83,"div",0),2&e&&r.Q6J("ngIf",t.showToolbar)},directives:function(){return[ue,iA,mI,WI]},styles:['@charset "UTF-8";\n@font-face{font-family:FontAwesome;src:url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.eot?v=4.7.0);src:url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.eot#iefix&v=4.7.0) format("embedded-opentype"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.woff2?v=4.7.0) format("woff2"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.woff?v=4.7.0) format("woff"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.ttf?v=4.7.0) format("truetype"),url(https://netdna.bootstrapcdn.com/font-awesome/4.7.0/fonts/fontawesome-webfont.svg?v=4.7.0#fontawesomeregular) format("svg");font-weight:400;font-style:normal}.fa[_ngcontent-%COMP%]{display:inline-block;font:normal normal normal 14px/1 FontAwesome;font-size:inherit;text-rendering:auto;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.fa-lg[_ngcontent-%COMP%]{font-size:1.3333333333em;line-height:.75em;vertical-align:-15%}.fa-2x[_ngcontent-%COMP%]{font-size:2em}.fa-3x[_ngcontent-%COMP%]{font-size:3em}.fa-4x[_ngcontent-%COMP%]{font-size:4em}.fa-5x[_ngcontent-%COMP%]{font-size:5em}.fa-fw[_ngcontent-%COMP%]{width:1.2857142857em;text-align:center}.fa-ul[_ngcontent-%COMP%]{padding-left:0;margin-left:2.1428571429em;list-style-type:none}.fa-ul[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{position:relative}.fa-li[_ngcontent-%COMP%]{position:absolute;left:-2.1428571429em;width:2.1428571429em;top:.1428571429em;text-align:center}.fa-li.fa-lg[_ngcontent-%COMP%]{left:-1.8571428571em}.fa-border[_ngcontent-%COMP%]{padding:.2em .25em .15em;border:.08em solid #eee;border-radius:.1em}.fa-pull-left[_ngcontent-%COMP%]{float:left}.fa-pull-right[_ngcontent-%COMP%]{float:right}.fa.fa-pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.fa-pull-right[_ngcontent-%COMP%]{margin-left:.3em}.pull-right[_ngcontent-%COMP%]{float:right}.pull-left[_ngcontent-%COMP%]{float:left}.fa.pull-left[_ngcontent-%COMP%]{margin-right:.3em}.fa.pull-right[_ngcontent-%COMP%]{margin-left:.3em}.fa-spin[_ngcontent-%COMP%]{-webkit-animation:fa-spin 2s linear infinite;animation:fa-spin 2s linear infinite}.fa-pulse[_ngcontent-%COMP%]{-webkit-animation:fa-spin 1s steps(8) infinite;animation:fa-spin 1s steps(8) infinite}@-webkit-keyframes fa-spin{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}@keyframes fa-spin{0%{transform:rotate(0deg)}to{transform:rotate(359deg)}}.fa-rotate-90[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";transform:rotate(90deg)}.fa-rotate-180[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";transform:rotate(180deg)}.fa-rotate-270[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";transform:rotate(270deg)}.fa-flip-horizontal[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";transform:scaleX(-1)}.fa-flip-vertical[_ngcontent-%COMP%]{-ms-filter:"progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";transform:scaleY(-1)}[_ngcontent-%COMP%]:root   .fa-flip-horizontal[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-flip-vertical[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-90[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-180[_ngcontent-%COMP%], [_ngcontent-%COMP%]:root   .fa-rotate-270[_ngcontent-%COMP%]{filter:none}.fa-stack[_ngcontent-%COMP%]{position:relative;display:inline-block;width:2em;height:2em;line-height:2em;vertical-align:middle}.fa-stack-1x[_ngcontent-%COMP%], .fa-stack-2x[_ngcontent-%COMP%]{position:absolute;left:0;width:100%;text-align:center}.fa-stack-1x[_ngcontent-%COMP%]{line-height:inherit}.fa-stack-2x[_ngcontent-%COMP%]{font-size:2em}.fa-inverse[_ngcontent-%COMP%]{color:#fff}.fa-glass[_ngcontent-%COMP%]:before{content:"\uf000"}.fa-music[_ngcontent-%COMP%]:before{content:"\uf001"}.fa-search[_ngcontent-%COMP%]:before{content:"\uf002"}.fa-envelope-o[_ngcontent-%COMP%]:before{content:"\uf003"}.fa-heart[_ngcontent-%COMP%]:before{content:"\uf004"}.fa-star[_ngcontent-%COMP%]:before{content:"\uf005"}.fa-star-o[_ngcontent-%COMP%]:before{content:"\uf006"}.fa-user[_ngcontent-%COMP%]:before{content:"\uf007"}.fa-film[_ngcontent-%COMP%]:before{content:"\uf008"}.fa-th-large[_ngcontent-%COMP%]:before{content:"\uf009"}.fa-th[_ngcontent-%COMP%]:before{content:"\uf00a"}.fa-th-list[_ngcontent-%COMP%]:before{content:"\uf00b"}.fa-check[_ngcontent-%COMP%]:before{content:"\uf00c"}.fa-close[_ngcontent-%COMP%]:before, .fa-remove[_ngcontent-%COMP%]:before, .fa-times[_ngcontent-%COMP%]:before{content:"\uf00d"}.fa-search-plus[_ngcontent-%COMP%]:before{content:"\uf00e"}.fa-search-minus[_ngcontent-%COMP%]:before{content:"\uf010"}.fa-power-off[_ngcontent-%COMP%]:before{content:"\uf011"}.fa-signal[_ngcontent-%COMP%]:before{content:"\uf012"}.fa-cog[_ngcontent-%COMP%]:before, .fa-gear[_ngcontent-%COMP%]:before{content:"\uf013"}.fa-trash-o[_ngcontent-%COMP%]:before{content:"\uf014"}.fa-home[_ngcontent-%COMP%]:before{content:"\uf015"}.fa-file-o[_ngcontent-%COMP%]:before{content:"\uf016"}.fa-clock-o[_ngcontent-%COMP%]:before{content:"\uf017"}.fa-road[_ngcontent-%COMP%]:before{content:"\uf018"}.fa-download[_ngcontent-%COMP%]:before{content:"\uf019"}.fa-arrow-circle-o-down[_ngcontent-%COMP%]:before{content:"\uf01a"}.fa-arrow-circle-o-up[_ngcontent-%COMP%]:before{content:"\uf01b"}.fa-inbox[_ngcontent-%COMP%]:before{content:"\uf01c"}.fa-play-circle-o[_ngcontent-%COMP%]:before{content:"\uf01d"}.fa-repeat[_ngcontent-%COMP%]:before, .fa-rotate-right[_ngcontent-%COMP%]:before{content:"\uf01e"}.fa-refresh[_ngcontent-%COMP%]:before{content:"\uf021"}.fa-list-alt[_ngcontent-%COMP%]:before{content:"\uf022"}.fa-lock[_ngcontent-%COMP%]:before{content:"\uf023"}.fa-flag[_ngcontent-%COMP%]:before{content:"\uf024"}.fa-headphones[_ngcontent-%COMP%]:before{content:"\uf025"}.fa-volume-off[_ngcontent-%COMP%]:before{content:"\uf026"}.fa-volume-down[_ngcontent-%COMP%]:before{content:"\uf027"}.fa-volume-up[_ngcontent-%COMP%]:before{content:"\uf028"}.fa-qrcode[_ngcontent-%COMP%]:before{content:"\uf029"}.fa-barcode[_ngcontent-%COMP%]:before{content:"\uf02a"}.fa-tag[_ngcontent-%COMP%]:before{content:"\uf02b"}.fa-tags[_ngcontent-%COMP%]:before{content:"\uf02c"}.fa-book[_ngcontent-%COMP%]:before{content:"\uf02d"}.fa-bookmark[_ngcontent-%COMP%]:before{content:"\uf02e"}.fa-print[_ngcontent-%COMP%]:before{content:"\uf02f"}.fa-camera[_ngcontent-%COMP%]:before{content:"\uf030"}.fa-font[_ngcontent-%COMP%]:before{content:"\uf031"}.fa-bold[_ngcontent-%COMP%]:before{content:"\uf032"}.fa-italic[_ngcontent-%COMP%]:before{content:"\uf033"}.fa-text-height[_ngcontent-%COMP%]:before{content:"\uf034"}.fa-text-width[_ngcontent-%COMP%]:before{content:"\uf035"}.fa-align-left[_ngcontent-%COMP%]:before{content:"\uf036"}.fa-align-center[_ngcontent-%COMP%]:before{content:"\uf037"}.fa-align-right[_ngcontent-%COMP%]:before{content:"\uf038"}.fa-align-justify[_ngcontent-%COMP%]:before{content:"\uf039"}.fa-list[_ngcontent-%COMP%]:before{content:"\uf03a"}.fa-dedent[_ngcontent-%COMP%]:before, .fa-outdent[_ngcontent-%COMP%]:before{content:"\uf03b"}.fa-indent[_ngcontent-%COMP%]:before{content:"\uf03c"}.fa-video-camera[_ngcontent-%COMP%]:before{content:"\uf03d"}.fa-image[_ngcontent-%COMP%]:before, .fa-photo[_ngcontent-%COMP%]:before, .fa-picture-o[_ngcontent-%COMP%]:before{content:"\uf03e"}.fa-pencil[_ngcontent-%COMP%]:before{content:"\uf040"}.fa-map-marker[_ngcontent-%COMP%]:before{content:"\uf041"}.fa-adjust[_ngcontent-%COMP%]:before{content:"\uf042"}.fa-tint[_ngcontent-%COMP%]:before{content:"\uf043"}.fa-edit[_ngcontent-%COMP%]:before, .fa-pencil-square-o[_ngcontent-%COMP%]:before{content:"\uf044"}.fa-share-square-o[_ngcontent-%COMP%]:before{content:"\uf045"}.fa-check-square-o[_ngcontent-%COMP%]:before{content:"\uf046"}.fa-arrows[_ngcontent-%COMP%]:before{content:"\uf047"}.fa-step-backward[_ngcontent-%COMP%]:before{content:"\uf048"}.fa-fast-backward[_ngcontent-%COMP%]:before{content:"\uf049"}.fa-backward[_ngcontent-%COMP%]:before{content:"\uf04a"}.fa-play[_ngcontent-%COMP%]:before{content:"\uf04b"}.fa-pause[_ngcontent-%COMP%]:before{content:"\uf04c"}.fa-stop[_ngcontent-%COMP%]:before{content:"\uf04d"}.fa-forward[_ngcontent-%COMP%]:before{content:"\uf04e"}.fa-fast-forward[_ngcontent-%COMP%]:before{content:"\uf050"}.fa-step-forward[_ngcontent-%COMP%]:before{content:"\uf051"}.fa-eject[_ngcontent-%COMP%]:before{content:"\uf052"}.fa-chevron-left[_ngcontent-%COMP%]:before{content:"\uf053"}.fa-chevron-right[_ngcontent-%COMP%]:before{content:"\uf054"}.fa-plus-circle[_ngcontent-%COMP%]:before{content:"\uf055"}.fa-minus-circle[_ngcontent-%COMP%]:before{content:"\uf056"}.fa-times-circle[_ngcontent-%COMP%]:before{content:"\uf057"}.fa-check-circle[_ngcontent-%COMP%]:before{content:"\uf058"}.fa-question-circle[_ngcontent-%COMP%]:before{content:"\uf059"}.fa-info-circle[_ngcontent-%COMP%]:before{content:"\uf05a"}.fa-crosshairs[_ngcontent-%COMP%]:before{content:"\uf05b"}.fa-times-circle-o[_ngcontent-%COMP%]:before{content:"\uf05c"}.fa-check-circle-o[_ngcontent-%COMP%]:before{content:"\uf05d"}.fa-ban[_ngcontent-%COMP%]:before{content:"\uf05e"}.fa-arrow-left[_ngcontent-%COMP%]:before{content:"\uf060"}.fa-arrow-right[_ngcontent-%COMP%]:before{content:"\uf061"}.fa-arrow-up[_ngcontent-%COMP%]:before{content:"\uf062"}.fa-arrow-down[_ngcontent-%COMP%]:before{content:"\uf063"}.fa-mail-forward[_ngcontent-%COMP%]:before, .fa-share[_ngcontent-%COMP%]:before{content:"\uf064"}.fa-expand[_ngcontent-%COMP%]:before{content:"\uf065"}.fa-compress[_ngcontent-%COMP%]:before{content:"\uf066"}.fa-plus[_ngcontent-%COMP%]:before{content:"\uf067"}.fa-minus[_ngcontent-%COMP%]:before{content:"\uf068"}.fa-asterisk[_ngcontent-%COMP%]:before{content:"\uf069"}.fa-exclamation-circle[_ngcontent-%COMP%]:before{content:"\uf06a"}.fa-gift[_ngcontent-%COMP%]:before{content:"\uf06b"}.fa-leaf[_ngcontent-%COMP%]:before{content:"\uf06c"}.fa-fire[_ngcontent-%COMP%]:before{content:"\uf06d"}.fa-eye[_ngcontent-%COMP%]:before{content:"\uf06e"}.fa-eye-slash[_ngcontent-%COMP%]:before{content:"\uf070"}.fa-exclamation-triangle[_ngcontent-%COMP%]:before, .fa-warning[_ngcontent-%COMP%]:before{content:"\uf071"}.fa-plane[_ngcontent-%COMP%]:before{content:"\uf072"}.fa-calendar[_ngcontent-%COMP%]:before{content:"\uf073"}.fa-random[_ngcontent-%COMP%]:before{content:"\uf074"}.fa-comment[_ngcontent-%COMP%]:before{content:"\uf075"}.fa-magnet[_ngcontent-%COMP%]:before{content:"\uf076"}.fa-chevron-up[_ngcontent-%COMP%]:before{content:"\uf077"}.fa-chevron-down[_ngcontent-%COMP%]:before{content:"\uf078"}.fa-retweet[_ngcontent-%COMP%]:before{content:"\uf079"}.fa-shopping-cart[_ngcontent-%COMP%]:before{content:"\uf07a"}.fa-folder[_ngcontent-%COMP%]:before{content:"\uf07b"}.fa-folder-open[_ngcontent-%COMP%]:before{content:"\uf07c"}.fa-arrows-v[_ngcontent-%COMP%]:before{content:"\uf07d"}.fa-arrows-h[_ngcontent-%COMP%]:before{content:"\uf07e"}.fa-bar-chart-o[_ngcontent-%COMP%]:before, .fa-bar-chart[_ngcontent-%COMP%]:before{content:"\uf080"}.fa-twitter-square[_ngcontent-%COMP%]:before{content:"\uf081"}.fa-facebook-square[_ngcontent-%COMP%]:before{content:"\uf082"}.fa-camera-retro[_ngcontent-%COMP%]:before{content:"\uf083"}.fa-key[_ngcontent-%COMP%]:before{content:"\uf084"}.fa-cogs[_ngcontent-%COMP%]:before, .fa-gears[_ngcontent-%COMP%]:before{content:"\uf085"}.fa-comments[_ngcontent-%COMP%]:before{content:"\uf086"}.fa-thumbs-o-up[_ngcontent-%COMP%]:before{content:"\uf087"}.fa-thumbs-o-down[_ngcontent-%COMP%]:before{content:"\uf088"}.fa-star-half[_ngcontent-%COMP%]:before{content:"\uf089"}.fa-heart-o[_ngcontent-%COMP%]:before{content:"\uf08a"}.fa-sign-out[_ngcontent-%COMP%]:before{content:"\uf08b"}.fa-linkedin-square[_ngcontent-%COMP%]:before{content:"\uf08c"}.fa-thumb-tack[_ngcontent-%COMP%]:before{content:"\uf08d"}.fa-external-link[_ngcontent-%COMP%]:before{content:"\uf08e"}.fa-sign-in[_ngcontent-%COMP%]:before{content:"\uf090"}.fa-trophy[_ngcontent-%COMP%]:before{content:"\uf091"}.fa-github-square[_ngcontent-%COMP%]:before{content:"\uf092"}.fa-upload[_ngcontent-%COMP%]:before{content:"\uf093"}.fa-lemon-o[_ngcontent-%COMP%]:before{content:"\uf094"}.fa-phone[_ngcontent-%COMP%]:before{content:"\uf095"}.fa-square-o[_ngcontent-%COMP%]:before{content:"\uf096"}.fa-bookmark-o[_ngcontent-%COMP%]:before{content:"\uf097"}.fa-phone-square[_ngcontent-%COMP%]:before{content:"\uf098"}.fa-twitter[_ngcontent-%COMP%]:before{content:"\uf099"}.fa-facebook-f[_ngcontent-%COMP%]:before, .fa-facebook[_ngcontent-%COMP%]:before{content:"\uf09a"}.fa-github[_ngcontent-%COMP%]:before{content:"\uf09b"}.fa-unlock[_ngcontent-%COMP%]:before{content:"\uf09c"}.fa-credit-card[_ngcontent-%COMP%]:before{content:"\uf09d"}.fa-feed[_ngcontent-%COMP%]:before, .fa-rss[_ngcontent-%COMP%]:before{content:"\uf09e"}.fa-hdd-o[_ngcontent-%COMP%]:before{content:"\uf0a0"}.fa-bullhorn[_ngcontent-%COMP%]:before{content:"\uf0a1"}.fa-bell[_ngcontent-%COMP%]:before{content:"\uf0f3"}.fa-certificate[_ngcontent-%COMP%]:before{content:"\uf0a3"}.fa-hand-o-right[_ngcontent-%COMP%]:before{content:"\uf0a4"}.fa-hand-o-left[_ngcontent-%COMP%]:before{content:"\uf0a5"}.fa-hand-o-up[_ngcontent-%COMP%]:before{content:"\uf0a6"}.fa-hand-o-down[_ngcontent-%COMP%]:before{content:"\uf0a7"}.fa-arrow-circle-left[_ngcontent-%COMP%]:before{content:"\uf0a8"}.fa-arrow-circle-right[_ngcontent-%COMP%]:before{content:"\uf0a9"}.fa-arrow-circle-up[_ngcontent-%COMP%]:before{content:"\uf0aa"}.fa-arrow-circle-down[_ngcontent-%COMP%]:before{content:"\uf0ab"}.fa-globe[_ngcontent-%COMP%]:before{content:"\uf0ac"}.fa-wrench[_ngcontent-%COMP%]:before{content:"\uf0ad"}.fa-tasks[_ngcontent-%COMP%]:before{content:"\uf0ae"}.fa-filter[_ngcontent-%COMP%]:before{content:"\uf0b0"}.fa-briefcase[_ngcontent-%COMP%]:before{content:"\uf0b1"}.fa-arrows-alt[_ngcontent-%COMP%]:before{content:"\uf0b2"}.fa-group[_ngcontent-%COMP%]:before, .fa-users[_ngcontent-%COMP%]:before{content:"\uf0c0"}.fa-chain[_ngcontent-%COMP%]:before, .fa-link[_ngcontent-%COMP%]:before{content:"\uf0c1"}.fa-cloud[_ngcontent-%COMP%]:before{content:"\uf0c2"}.fa-flask[_ngcontent-%COMP%]:before{content:"\uf0c3"}.fa-cut[_ngcontent-%COMP%]:before, .fa-scissors[_ngcontent-%COMP%]:before{content:"\uf0c4"}.fa-copy[_ngcontent-%COMP%]:before, .fa-files-o[_ngcontent-%COMP%]:before{content:"\uf0c5"}.fa-paperclip[_ngcontent-%COMP%]:before{content:"\uf0c6"}.fa-floppy-o[_ngcontent-%COMP%]:before, .fa-save[_ngcontent-%COMP%]:before{content:"\uf0c7"}.fa-square[_ngcontent-%COMP%]:before{content:"\uf0c8"}.fa-bars[_ngcontent-%COMP%]:before, .fa-navicon[_ngcontent-%COMP%]:before, .fa-reorder[_ngcontent-%COMP%]:before{content:"\uf0c9"}.fa-list-ul[_ngcontent-%COMP%]:before{content:"\uf0ca"}.fa-list-ol[_ngcontent-%COMP%]:before{content:"\uf0cb"}.fa-strikethrough[_ngcontent-%COMP%]:before{content:"\uf0cc"}.fa-underline[_ngcontent-%COMP%]:before{content:"\uf0cd"}.fa-table[_ngcontent-%COMP%]:before{content:"\uf0ce"}.fa-magic[_ngcontent-%COMP%]:before{content:"\uf0d0"}.fa-truck[_ngcontent-%COMP%]:before{content:"\uf0d1"}.fa-pinterest[_ngcontent-%COMP%]:before{content:"\uf0d2"}.fa-pinterest-square[_ngcontent-%COMP%]:before{content:"\uf0d3"}.fa-google-plus-square[_ngcontent-%COMP%]:before{content:"\uf0d4"}.fa-google-plus[_ngcontent-%COMP%]:before{content:"\uf0d5"}.fa-money[_ngcontent-%COMP%]:before{content:"\uf0d6"}.fa-caret-down[_ngcontent-%COMP%]:before{content:"\uf0d7"}.fa-caret-up[_ngcontent-%COMP%]:before{content:"\uf0d8"}.fa-caret-left[_ngcontent-%COMP%]:before{content:"\uf0d9"}.fa-caret-right[_ngcontent-%COMP%]:before{content:"\uf0da"}.fa-columns[_ngcontent-%COMP%]:before{content:"\uf0db"}.fa-sort[_ngcontent-%COMP%]:before, .fa-unsorted[_ngcontent-%COMP%]:before{content:"\uf0dc"}.fa-sort-desc[_ngcontent-%COMP%]:before, .fa-sort-down[_ngcontent-%COMP%]:before{content:"\uf0dd"}.fa-sort-asc[_ngcontent-%COMP%]:before, .fa-sort-up[_ngcontent-%COMP%]:before{content:"\uf0de"}.fa-envelope[_ngcontent-%COMP%]:before{content:"\uf0e0"}.fa-linkedin[_ngcontent-%COMP%]:before{content:"\uf0e1"}.fa-rotate-left[_ngcontent-%COMP%]:before, .fa-undo[_ngcontent-%COMP%]:before{content:"\uf0e2"}.fa-gavel[_ngcontent-%COMP%]:before, .fa-legal[_ngcontent-%COMP%]:before{content:"\uf0e3"}.fa-dashboard[_ngcontent-%COMP%]:before, .fa-tachometer[_ngcontent-%COMP%]:before{content:"\uf0e4"}.fa-comment-o[_ngcontent-%COMP%]:before{content:"\uf0e5"}.fa-comments-o[_ngcontent-%COMP%]:before{content:"\uf0e6"}.fa-bolt[_ngcontent-%COMP%]:before, .fa-flash[_ngcontent-%COMP%]:before{content:"\uf0e7"}.fa-sitemap[_ngcontent-%COMP%]:before{content:"\uf0e8"}.fa-umbrella[_ngcontent-%COMP%]:before{content:"\uf0e9"}.fa-clipboard[_ngcontent-%COMP%]:before, .fa-paste[_ngcontent-%COMP%]:before{content:"\uf0ea"}.fa-lightbulb-o[_ngcontent-%COMP%]:before{content:"\uf0eb"}.fa-exchange[_ngcontent-%COMP%]:before{content:"\uf0ec"}.fa-cloud-download[_ngcontent-%COMP%]:before{content:"\uf0ed"}.fa-cloud-upload[_ngcontent-%COMP%]:before{content:"\uf0ee"}.fa-user-md[_ngcontent-%COMP%]:before{content:"\uf0f0"}.fa-stethoscope[_ngcontent-%COMP%]:before{content:"\uf0f1"}.fa-suitcase[_ngcontent-%COMP%]:before{content:"\uf0f2"}.fa-bell-o[_ngcontent-%COMP%]:before{content:"\uf0a2"}.fa-coffee[_ngcontent-%COMP%]:before{content:"\uf0f4"}.fa-cutlery[_ngcontent-%COMP%]:before{content:"\uf0f5"}.fa-file-text-o[_ngcontent-%COMP%]:before{content:"\uf0f6"}.fa-building-o[_ngcontent-%COMP%]:before{content:"\uf0f7"}.fa-hospital-o[_ngcontent-%COMP%]:before{content:"\uf0f8"}.fa-ambulance[_ngcontent-%COMP%]:before{content:"\uf0f9"}.fa-medkit[_ngcontent-%COMP%]:before{content:"\uf0fa"}.fa-fighter-jet[_ngcontent-%COMP%]:before{content:"\uf0fb"}.fa-beer[_ngcontent-%COMP%]:before{content:"\uf0fc"}.fa-h-square[_ngcontent-%COMP%]:before{content:"\uf0fd"}.fa-plus-square[_ngcontent-%COMP%]:before{content:"\uf0fe"}.fa-angle-double-left[_ngcontent-%COMP%]:before{content:"\uf100"}.fa-angle-double-right[_ngcontent-%COMP%]:before{content:"\uf101"}.fa-angle-double-up[_ngcontent-%COMP%]:before{content:"\uf102"}.fa-angle-double-down[_ngcontent-%COMP%]:before{content:"\uf103"}.fa-angle-left[_ngcontent-%COMP%]:before{content:"\uf104"}.fa-angle-right[_ngcontent-%COMP%]:before{content:"\uf105"}.fa-angle-up[_ngcontent-%COMP%]:before{content:"\uf106"}.fa-angle-down[_ngcontent-%COMP%]:before{content:"\uf107"}.fa-desktop[_ngcontent-%COMP%]:before{content:"\uf108"}.fa-laptop[_ngcontent-%COMP%]:before{content:"\uf109"}.fa-tablet[_ngcontent-%COMP%]:before{content:"\uf10a"}.fa-mobile-phone[_ngcontent-%COMP%]:before, .fa-mobile[_ngcontent-%COMP%]:before{content:"\uf10b"}.fa-circle-o[_ngcontent-%COMP%]:before{content:"\uf10c"}.fa-quote-left[_ngcontent-%COMP%]:before{content:"\uf10d"}.fa-quote-right[_ngcontent-%COMP%]:before{content:"\uf10e"}.fa-spinner[_ngcontent-%COMP%]:before{content:"\uf110"}.fa-circle[_ngcontent-%COMP%]:before{content:"\uf111"}.fa-mail-reply[_ngcontent-%COMP%]:before, .fa-reply[_ngcontent-%COMP%]:before{content:"\uf112"}.fa-github-alt[_ngcontent-%COMP%]:before{content:"\uf113"}.fa-folder-o[_ngcontent-%COMP%]:before{content:"\uf114"}.fa-folder-open-o[_ngcontent-%COMP%]:before{content:"\uf115"}.fa-smile-o[_ngcontent-%COMP%]:before{content:"\uf118"}.fa-frown-o[_ngcontent-%COMP%]:before{content:"\uf119"}.fa-meh-o[_ngcontent-%COMP%]:before{content:"\uf11a"}.fa-gamepad[_ngcontent-%COMP%]:before{content:"\uf11b"}.fa-keyboard-o[_ngcontent-%COMP%]:before{content:"\uf11c"}.fa-flag-o[_ngcontent-%COMP%]:before{content:"\uf11d"}.fa-flag-checkered[_ngcontent-%COMP%]:before{content:"\uf11e"}.fa-terminal[_ngcontent-%COMP%]:before{content:"\uf120"}.fa-code[_ngcontent-%COMP%]:before{content:"\uf121"}.fa-mail-reply-all[_ngcontent-%COMP%]:before, .fa-reply-all[_ngcontent-%COMP%]:before{content:"\uf122"}.fa-star-half-empty[_ngcontent-%COMP%]:before, .fa-star-half-full[_ngcontent-%COMP%]:before, .fa-star-half-o[_ngcontent-%COMP%]:before{content:"\uf123"}.fa-location-arrow[_ngcontent-%COMP%]:before{content:"\uf124"}.fa-crop[_ngcontent-%COMP%]:before{content:"\uf125"}.fa-code-fork[_ngcontent-%COMP%]:before{content:"\uf126"}.fa-chain-broken[_ngcontent-%COMP%]:before, .fa-unlink[_ngcontent-%COMP%]:before{content:"\uf127"}.fa-question[_ngcontent-%COMP%]:before{content:"\uf128"}.fa-info[_ngcontent-%COMP%]:before{content:"\uf129"}.fa-exclamation[_ngcontent-%COMP%]:before{content:"\uf12a"}.fa-superscript[_ngcontent-%COMP%]:before{content:"\uf12b"}.fa-subscript[_ngcontent-%COMP%]:before{content:"\uf12c"}.fa-eraser[_ngcontent-%COMP%]:before{content:"\uf12d"}.fa-puzzle-piece[_ngcontent-%COMP%]:before{content:"\uf12e"}.fa-microphone[_ngcontent-%COMP%]:before{content:"\uf130"}.fa-microphone-slash[_ngcontent-%COMP%]:before{content:"\uf131"}.fa-shield[_ngcontent-%COMP%]:before{content:"\uf132"}.fa-calendar-o[_ngcontent-%COMP%]:before{content:"\uf133"}.fa-fire-extinguisher[_ngcontent-%COMP%]:before{content:"\uf134"}.fa-rocket[_ngcontent-%COMP%]:before{content:"\uf135"}.fa-maxcdn[_ngcontent-%COMP%]:before{content:"\uf136"}.fa-chevron-circle-left[_ngcontent-%COMP%]:before{content:"\uf137"}.fa-chevron-circle-right[_ngcontent-%COMP%]:before{content:"\uf138"}.fa-chevron-circle-up[_ngcontent-%COMP%]:before{content:"\uf139"}.fa-chevron-circle-down[_ngcontent-%COMP%]:before{content:"\uf13a"}.fa-html5[_ngcontent-%COMP%]:before{content:"\uf13b"}.fa-css3[_ngcontent-%COMP%]:before{content:"\uf13c"}.fa-anchor[_ngcontent-%COMP%]:before{content:"\uf13d"}.fa-unlock-alt[_ngcontent-%COMP%]:before{content:"\uf13e"}.fa-bullseye[_ngcontent-%COMP%]:before{content:"\uf140"}.fa-ellipsis-h[_ngcontent-%COMP%]:before{content:"\uf141"}.fa-ellipsis-v[_ngcontent-%COMP%]:before{content:"\uf142"}.fa-rss-square[_ngcontent-%COMP%]:before{content:"\uf143"}.fa-play-circle[_ngcontent-%COMP%]:before{content:"\uf144"}.fa-ticket[_ngcontent-%COMP%]:before{content:"\uf145"}.fa-minus-square[_ngcontent-%COMP%]:before{content:"\uf146"}.fa-minus-square-o[_ngcontent-%COMP%]:before{content:"\uf147"}.fa-level-up[_ngcontent-%COMP%]:before{content:"\uf148"}.fa-level-down[_ngcontent-%COMP%]:before{content:"\uf149"}.fa-check-square[_ngcontent-%COMP%]:before{content:"\uf14a"}.fa-pencil-square[_ngcontent-%COMP%]:before{content:"\uf14b"}.fa-external-link-square[_ngcontent-%COMP%]:before{content:"\uf14c"}.fa-share-square[_ngcontent-%COMP%]:before{content:"\uf14d"}.fa-compass[_ngcontent-%COMP%]:before{content:"\uf14e"}.fa-caret-square-o-down[_ngcontent-%COMP%]:before, .fa-toggle-down[_ngcontent-%COMP%]:before{content:"\uf150"}.fa-caret-square-o-up[_ngcontent-%COMP%]:before, .fa-toggle-up[_ngcontent-%COMP%]:before{content:"\uf151"}.fa-caret-square-o-right[_ngcontent-%COMP%]:before, .fa-toggle-right[_ngcontent-%COMP%]:before{content:"\uf152"}.fa-eur[_ngcontent-%COMP%]:before, .fa-euro[_ngcontent-%COMP%]:before{content:"\uf153"}.fa-gbp[_ngcontent-%COMP%]:before{content:"\uf154"}.fa-dollar[_ngcontent-%COMP%]:before, .fa-usd[_ngcontent-%COMP%]:before{content:"\uf155"}.fa-inr[_ngcontent-%COMP%]:before, .fa-rupee[_ngcontent-%COMP%]:before{content:"\uf156"}.fa-cny[_ngcontent-%COMP%]:before, .fa-jpy[_ngcontent-%COMP%]:before, .fa-rmb[_ngcontent-%COMP%]:before, .fa-yen[_ngcontent-%COMP%]:before{content:"\uf157"}.fa-rouble[_ngcontent-%COMP%]:before, .fa-rub[_ngcontent-%COMP%]:before, .fa-ruble[_ngcontent-%COMP%]:before{content:"\uf158"}.fa-krw[_ngcontent-%COMP%]:before, .fa-won[_ngcontent-%COMP%]:before{content:"\uf159"}.fa-bitcoin[_ngcontent-%COMP%]:before, .fa-btc[_ngcontent-%COMP%]:before{content:"\uf15a"}.fa-file[_ngcontent-%COMP%]:before{content:"\uf15b"}.fa-file-text[_ngcontent-%COMP%]:before{content:"\uf15c"}.fa-sort-alpha-asc[_ngcontent-%COMP%]:before{content:"\uf15d"}.fa-sort-alpha-desc[_ngcontent-%COMP%]:before{content:"\uf15e"}.fa-sort-amount-asc[_ngcontent-%COMP%]:before{content:"\uf160"}.fa-sort-amount-desc[_ngcontent-%COMP%]:before{content:"\uf161"}.fa-sort-numeric-asc[_ngcontent-%COMP%]:before{content:"\uf162"}.fa-sort-numeric-desc[_ngcontent-%COMP%]:before{content:"\uf163"}.fa-thumbs-up[_ngcontent-%COMP%]:before{content:"\uf164"}.fa-thumbs-down[_ngcontent-%COMP%]:before{content:"\uf165"}.fa-youtube-square[_ngcontent-%COMP%]:before{content:"\uf166"}.fa-youtube[_ngcontent-%COMP%]:before{content:"\uf167"}.fa-xing[_ngcontent-%COMP%]:before{content:"\uf168"}.fa-xing-square[_ngcontent-%COMP%]:before{content:"\uf169"}.fa-youtube-play[_ngcontent-%COMP%]:before{content:"\uf16a"}.fa-dropbox[_ngcontent-%COMP%]:before{content:"\uf16b"}.fa-stack-overflow[_ngcontent-%COMP%]:before{content:"\uf16c"}.fa-instagram[_ngcontent-%COMP%]:before{content:"\uf16d"}.fa-flickr[_ngcontent-%COMP%]:before{content:"\uf16e"}.fa-adn[_ngcontent-%COMP%]:before{content:"\uf170"}.fa-bitbucket[_ngcontent-%COMP%]:before{content:"\uf171"}.fa-bitbucket-square[_ngcontent-%COMP%]:before{content:"\uf172"}.fa-tumblr[_ngcontent-%COMP%]:before{content:"\uf173"}.fa-tumblr-square[_ngcontent-%COMP%]:before{content:"\uf174"}.fa-long-arrow-down[_ngcontent-%COMP%]:before{content:"\uf175"}.fa-long-arrow-up[_ngcontent-%COMP%]:before{content:"\uf176"}.fa-long-arrow-left[_ngcontent-%COMP%]:before{content:"\uf177"}.fa-long-arrow-right[_ngcontent-%COMP%]:before{content:"\uf178"}.fa-apple[_ngcontent-%COMP%]:before{content:"\uf179"}.fa-windows[_ngcontent-%COMP%]:before{content:"\uf17a"}.fa-android[_ngcontent-%COMP%]:before{content:"\uf17b"}.fa-linux[_ngcontent-%COMP%]:before{content:"\uf17c"}.fa-dribbble[_ngcontent-%COMP%]:before{content:"\uf17d"}.fa-skype[_ngcontent-%COMP%]:before{content:"\uf17e"}.fa-foursquare[_ngcontent-%COMP%]:before{content:"\uf180"}.fa-trello[_ngcontent-%COMP%]:before{content:"\uf181"}.fa-female[_ngcontent-%COMP%]:before{content:"\uf182"}.fa-male[_ngcontent-%COMP%]:before{content:"\uf183"}.fa-gittip[_ngcontent-%COMP%]:before, .fa-gratipay[_ngcontent-%COMP%]:before{content:"\uf184"}.fa-sun-o[_ngcontent-%COMP%]:before{content:"\uf185"}.fa-moon-o[_ngcontent-%COMP%]:before{content:"\uf186"}.fa-archive[_ngcontent-%COMP%]:before{content:"\uf187"}.fa-bug[_ngcontent-%COMP%]:before{content:"\uf188"}.fa-vk[_ngcontent-%COMP%]:before{content:"\uf189"}.fa-weibo[_ngcontent-%COMP%]:before{content:"\uf18a"}.fa-renren[_ngcontent-%COMP%]:before{content:"\uf18b"}.fa-pagelines[_ngcontent-%COMP%]:before{content:"\uf18c"}.fa-stack-exchange[_ngcontent-%COMP%]:before{content:"\uf18d"}.fa-arrow-circle-o-right[_ngcontent-%COMP%]:before{content:"\uf18e"}.fa-arrow-circle-o-left[_ngcontent-%COMP%]:before{content:"\uf190"}.fa-caret-square-o-left[_ngcontent-%COMP%]:before, .fa-toggle-left[_ngcontent-%COMP%]:before{content:"\uf191"}.fa-dot-circle-o[_ngcontent-%COMP%]:before{content:"\uf192"}.fa-wheelchair[_ngcontent-%COMP%]:before{content:"\uf193"}.fa-vimeo-square[_ngcontent-%COMP%]:before{content:"\uf194"}.fa-try[_ngcontent-%COMP%]:before, .fa-turkish-lira[_ngcontent-%COMP%]:before{content:"\uf195"}.fa-plus-square-o[_ngcontent-%COMP%]:before{content:"\uf196"}.fa-space-shuttle[_ngcontent-%COMP%]:before{content:"\uf197"}.fa-slack[_ngcontent-%COMP%]:before{content:"\uf198"}.fa-envelope-square[_ngcontent-%COMP%]:before{content:"\uf199"}.fa-wordpress[_ngcontent-%COMP%]:before{content:"\uf19a"}.fa-openid[_ngcontent-%COMP%]:before{content:"\uf19b"}.fa-bank[_ngcontent-%COMP%]:before, .fa-institution[_ngcontent-%COMP%]:before, .fa-university[_ngcontent-%COMP%]:before{content:"\uf19c"}.fa-graduation-cap[_ngcontent-%COMP%]:before, .fa-mortar-board[_ngcontent-%COMP%]:before{content:"\uf19d"}.fa-yahoo[_ngcontent-%COMP%]:before{content:"\uf19e"}.fa-google[_ngcontent-%COMP%]:before{content:"\uf1a0"}.fa-reddit[_ngcontent-%COMP%]:before{content:"\uf1a1"}.fa-reddit-square[_ngcontent-%COMP%]:before{content:"\uf1a2"}.fa-stumbleupon-circle[_ngcontent-%COMP%]:before{content:"\uf1a3"}.fa-stumbleupon[_ngcontent-%COMP%]:before{content:"\uf1a4"}.fa-delicious[_ngcontent-%COMP%]:before{content:"\uf1a5"}.fa-digg[_ngcontent-%COMP%]:before{content:"\uf1a6"}.fa-pied-piper-pp[_ngcontent-%COMP%]:before{content:"\uf1a7"}.fa-pied-piper-alt[_ngcontent-%COMP%]:before{content:"\uf1a8"}.fa-drupal[_ngcontent-%COMP%]:before{content:"\uf1a9"}.fa-joomla[_ngcontent-%COMP%]:before{content:"\uf1aa"}.fa-language[_ngcontent-%COMP%]:before{content:"\uf1ab"}.fa-fax[_ngcontent-%COMP%]:before{content:"\uf1ac"}.fa-building[_ngcontent-%COMP%]:before{content:"\uf1ad"}.fa-child[_ngcontent-%COMP%]:before{content:"\uf1ae"}.fa-paw[_ngcontent-%COMP%]:before{content:"\uf1b0"}.fa-spoon[_ngcontent-%COMP%]:before{content:"\uf1b1"}.fa-cube[_ngcontent-%COMP%]:before{content:"\uf1b2"}.fa-cubes[_ngcontent-%COMP%]:before{content:"\uf1b3"}.fa-behance[_ngcontent-%COMP%]:before{content:"\uf1b4"}.fa-behance-square[_ngcontent-%COMP%]:before{content:"\uf1b5"}.fa-steam[_ngcontent-%COMP%]:before{content:"\uf1b6"}.fa-steam-square[_ngcontent-%COMP%]:before{content:"\uf1b7"}.fa-recycle[_ngcontent-%COMP%]:before{content:"\uf1b8"}.fa-automobile[_ngcontent-%COMP%]:before, .fa-car[_ngcontent-%COMP%]:before{content:"\uf1b9"}.fa-cab[_ngcontent-%COMP%]:before, .fa-taxi[_ngcontent-%COMP%]:before{content:"\uf1ba"}.fa-tree[_ngcontent-%COMP%]:before{content:"\uf1bb"}.fa-spotify[_ngcontent-%COMP%]:before{content:"\uf1bc"}.fa-deviantart[_ngcontent-%COMP%]:before{content:"\uf1bd"}.fa-soundcloud[_ngcontent-%COMP%]:before{content:"\uf1be"}.fa-database[_ngcontent-%COMP%]:before{content:"\uf1c0"}.fa-file-pdf-o[_ngcontent-%COMP%]:before{content:"\uf1c1"}.fa-file-word-o[_ngcontent-%COMP%]:before{content:"\uf1c2"}.fa-file-excel-o[_ngcontent-%COMP%]:before{content:"\uf1c3"}.fa-file-powerpoint-o[_ngcontent-%COMP%]:before{content:"\uf1c4"}.fa-file-image-o[_ngcontent-%COMP%]:before, .fa-file-photo-o[_ngcontent-%COMP%]:before, .fa-file-picture-o[_ngcontent-%COMP%]:before{content:"\uf1c5"}.fa-file-archive-o[_ngcontent-%COMP%]:before, .fa-file-zip-o[_ngcontent-%COMP%]:before{content:"\uf1c6"}.fa-file-audio-o[_ngcontent-%COMP%]:before, .fa-file-sound-o[_ngcontent-%COMP%]:before{content:"\uf1c7"}.fa-file-movie-o[_ngcontent-%COMP%]:before, .fa-file-video-o[_ngcontent-%COMP%]:before{content:"\uf1c8"}.fa-file-code-o[_ngcontent-%COMP%]:before{content:"\uf1c9"}.fa-vine[_ngcontent-%COMP%]:before{content:"\uf1ca"}.fa-codepen[_ngcontent-%COMP%]:before{content:"\uf1cb"}.fa-jsfiddle[_ngcontent-%COMP%]:before{content:"\uf1cc"}.fa-life-bouy[_ngcontent-%COMP%]:before, .fa-life-buoy[_ngcontent-%COMP%]:before, .fa-life-ring[_ngcontent-%COMP%]:before, .fa-life-saver[_ngcontent-%COMP%]:before, .fa-support[_ngcontent-%COMP%]:before{content:"\uf1cd"}.fa-circle-o-notch[_ngcontent-%COMP%]:before{content:"\uf1ce"}.fa-ra[_ngcontent-%COMP%]:before, .fa-rebel[_ngcontent-%COMP%]:before, .fa-resistance[_ngcontent-%COMP%]:before{content:"\uf1d0"}.fa-empire[_ngcontent-%COMP%]:before, .fa-ge[_ngcontent-%COMP%]:before{content:"\uf1d1"}.fa-git-square[_ngcontent-%COMP%]:before{content:"\uf1d2"}.fa-git[_ngcontent-%COMP%]:before{content:"\uf1d3"}.fa-hacker-news[_ngcontent-%COMP%]:before, .fa-y-combinator-square[_ngcontent-%COMP%]:before, .fa-yc-square[_ngcontent-%COMP%]:before{content:"\uf1d4"}.fa-tencent-weibo[_ngcontent-%COMP%]:before{content:"\uf1d5"}.fa-qq[_ngcontent-%COMP%]:before{content:"\uf1d6"}.fa-wechat[_ngcontent-%COMP%]:before, .fa-weixin[_ngcontent-%COMP%]:before{content:"\uf1d7"}.fa-paper-plane[_ngcontent-%COMP%]:before, .fa-send[_ngcontent-%COMP%]:before{content:"\uf1d8"}.fa-paper-plane-o[_ngcontent-%COMP%]:before, .fa-send-o[_ngcontent-%COMP%]:before{content:"\uf1d9"}.fa-history[_ngcontent-%COMP%]:before{content:"\uf1da"}.fa-circle-thin[_ngcontent-%COMP%]:before{content:"\uf1db"}.fa-header[_ngcontent-%COMP%]:before{content:"\uf1dc"}.fa-paragraph[_ngcontent-%COMP%]:before{content:"\uf1dd"}.fa-sliders[_ngcontent-%COMP%]:before{content:"\uf1de"}.fa-share-alt[_ngcontent-%COMP%]:before{content:"\uf1e0"}.fa-share-alt-square[_ngcontent-%COMP%]:before{content:"\uf1e1"}.fa-bomb[_ngcontent-%COMP%]:before{content:"\uf1e2"}.fa-futbol-o[_ngcontent-%COMP%]:before, .fa-soccer-ball-o[_ngcontent-%COMP%]:before{content:"\uf1e3"}.fa-tty[_ngcontent-%COMP%]:before{content:"\uf1e4"}.fa-binoculars[_ngcontent-%COMP%]:before{content:"\uf1e5"}.fa-plug[_ngcontent-%COMP%]:before{content:"\uf1e6"}.fa-slideshare[_ngcontent-%COMP%]:before{content:"\uf1e7"}.fa-twitch[_ngcontent-%COMP%]:before{content:"\uf1e8"}.fa-yelp[_ngcontent-%COMP%]:before{content:"\uf1e9"}.fa-newspaper-o[_ngcontent-%COMP%]:before{content:"\uf1ea"}.fa-wifi[_ngcontent-%COMP%]:before{content:"\uf1eb"}.fa-calculator[_ngcontent-%COMP%]:before{content:"\uf1ec"}.fa-paypal[_ngcontent-%COMP%]:before{content:"\uf1ed"}.fa-google-wallet[_ngcontent-%COMP%]:before{content:"\uf1ee"}.fa-cc-visa[_ngcontent-%COMP%]:before{content:"\uf1f0"}.fa-cc-mastercard[_ngcontent-%COMP%]:before{content:"\uf1f1"}.fa-cc-discover[_ngcontent-%COMP%]:before{content:"\uf1f2"}.fa-cc-amex[_ngcontent-%COMP%]:before{content:"\uf1f3"}.fa-cc-paypal[_ngcontent-%COMP%]:before{content:"\uf1f4"}.fa-cc-stripe[_ngcontent-%COMP%]:before{content:"\uf1f5"}.fa-bell-slash[_ngcontent-%COMP%]:before{content:"\uf1f6"}.fa-bell-slash-o[_ngcontent-%COMP%]:before{content:"\uf1f7"}.fa-trash[_ngcontent-%COMP%]:before{content:"\uf1f8"}.fa-copyright[_ngcontent-%COMP%]:before{content:"\uf1f9"}.fa-at[_ngcontent-%COMP%]:before{content:"\uf1fa"}.fa-eyedropper[_ngcontent-%COMP%]:before{content:"\uf1fb"}.fa-paint-brush[_ngcontent-%COMP%]:before{content:"\uf1fc"}.fa-birthday-cake[_ngcontent-%COMP%]:before{content:"\uf1fd"}.fa-area-chart[_ngcontent-%COMP%]:before{content:"\uf1fe"}.fa-pie-chart[_ngcontent-%COMP%]:before{content:"\uf200"}.fa-line-chart[_ngcontent-%COMP%]:before{content:"\uf201"}.fa-lastfm[_ngcontent-%COMP%]:before{content:"\uf202"}.fa-lastfm-square[_ngcontent-%COMP%]:before{content:"\uf203"}.fa-toggle-off[_ngcontent-%COMP%]:before{content:"\uf204"}.fa-toggle-on[_ngcontent-%COMP%]:before{content:"\uf205"}.fa-bicycle[_ngcontent-%COMP%]:before{content:"\uf206"}.fa-bus[_ngcontent-%COMP%]:before{content:"\uf207"}.fa-ioxhost[_ngcontent-%COMP%]:before{content:"\uf208"}.fa-angellist[_ngcontent-%COMP%]:before{content:"\uf209"}.fa-cc[_ngcontent-%COMP%]:before{content:"\uf20a"}.fa-ils[_ngcontent-%COMP%]:before, .fa-shekel[_ngcontent-%COMP%]:before, .fa-sheqel[_ngcontent-%COMP%]:before{content:"\uf20b"}.fa-meanpath[_ngcontent-%COMP%]:before{content:"\uf20c"}.fa-buysellads[_ngcontent-%COMP%]:before{content:"\uf20d"}.fa-connectdevelop[_ngcontent-%COMP%]:before{content:"\uf20e"}.fa-dashcube[_ngcontent-%COMP%]:before{content:"\uf210"}.fa-forumbee[_ngcontent-%COMP%]:before{content:"\uf211"}.fa-leanpub[_ngcontent-%COMP%]:before{content:"\uf212"}.fa-sellsy[_ngcontent-%COMP%]:before{content:"\uf213"}.fa-shirtsinbulk[_ngcontent-%COMP%]:before{content:"\uf214"}.fa-simplybuilt[_ngcontent-%COMP%]:before{content:"\uf215"}.fa-skyatlas[_ngcontent-%COMP%]:before{content:"\uf216"}.fa-cart-plus[_ngcontent-%COMP%]:before{content:"\uf217"}.fa-cart-arrow-down[_ngcontent-%COMP%]:before{content:"\uf218"}.fa-diamond[_ngcontent-%COMP%]:before{content:"\uf219"}.fa-ship[_ngcontent-%COMP%]:before{content:"\uf21a"}.fa-user-secret[_ngcontent-%COMP%]:before{content:"\uf21b"}.fa-motorcycle[_ngcontent-%COMP%]:before{content:"\uf21c"}.fa-street-view[_ngcontent-%COMP%]:before{content:"\uf21d"}.fa-heartbeat[_ngcontent-%COMP%]:before{content:"\uf21e"}.fa-venus[_ngcontent-%COMP%]:before{content:"\uf221"}.fa-mars[_ngcontent-%COMP%]:before{content:"\uf222"}.fa-mercury[_ngcontent-%COMP%]:before{content:"\uf223"}.fa-intersex[_ngcontent-%COMP%]:before, .fa-transgender[_ngcontent-%COMP%]:before{content:"\uf224"}.fa-transgender-alt[_ngcontent-%COMP%]:before{content:"\uf225"}.fa-venus-double[_ngcontent-%COMP%]:before{content:"\uf226"}.fa-mars-double[_ngcontent-%COMP%]:before{content:"\uf227"}.fa-venus-mars[_ngcontent-%COMP%]:before{content:"\uf228"}.fa-mars-stroke[_ngcontent-%COMP%]:before{content:"\uf229"}.fa-mars-stroke-v[_ngcontent-%COMP%]:before{content:"\uf22a"}.fa-mars-stroke-h[_ngcontent-%COMP%]:before{content:"\uf22b"}.fa-neuter[_ngcontent-%COMP%]:before{content:"\uf22c"}.fa-genderless[_ngcontent-%COMP%]:before{content:"\uf22d"}.fa-facebook-official[_ngcontent-%COMP%]:before{content:"\uf230"}.fa-pinterest-p[_ngcontent-%COMP%]:before{content:"\uf231"}.fa-whatsapp[_ngcontent-%COMP%]:before{content:"\uf232"}.fa-server[_ngcontent-%COMP%]:before{content:"\uf233"}.fa-user-plus[_ngcontent-%COMP%]:before{content:"\uf234"}.fa-user-times[_ngcontent-%COMP%]:before{content:"\uf235"}.fa-bed[_ngcontent-%COMP%]:before, .fa-hotel[_ngcontent-%COMP%]:before{content:"\uf236"}.fa-viacoin[_ngcontent-%COMP%]:before{content:"\uf237"}.fa-train[_ngcontent-%COMP%]:before{content:"\uf238"}.fa-subway[_ngcontent-%COMP%]:before{content:"\uf239"}.fa-medium[_ngcontent-%COMP%]:before{content:"\uf23a"}.fa-y-combinator[_ngcontent-%COMP%]:before, .fa-yc[_ngcontent-%COMP%]:before{content:"\uf23b"}.fa-optin-monster[_ngcontent-%COMP%]:before{content:"\uf23c"}.fa-opencart[_ngcontent-%COMP%]:before{content:"\uf23d"}.fa-expeditedssl[_ngcontent-%COMP%]:before{content:"\uf23e"}.fa-battery-4[_ngcontent-%COMP%]:before, .fa-battery-full[_ngcontent-%COMP%]:before, .fa-battery[_ngcontent-%COMP%]:before{content:"\uf240"}.fa-battery-3[_ngcontent-%COMP%]:before, .fa-battery-three-quarters[_ngcontent-%COMP%]:before{content:"\uf241"}.fa-battery-2[_ngcontent-%COMP%]:before, .fa-battery-half[_ngcontent-%COMP%]:before{content:"\uf242"}.fa-battery-1[_ngcontent-%COMP%]:before, .fa-battery-quarter[_ngcontent-%COMP%]:before{content:"\uf243"}.fa-battery-0[_ngcontent-%COMP%]:before, .fa-battery-empty[_ngcontent-%COMP%]:before{content:"\uf244"}.fa-mouse-pointer[_ngcontent-%COMP%]:before{content:"\uf245"}.fa-i-cursor[_ngcontent-%COMP%]:before{content:"\uf246"}.fa-object-group[_ngcontent-%COMP%]:before{content:"\uf247"}.fa-object-ungroup[_ngcontent-%COMP%]:before{content:"\uf248"}.fa-sticky-note[_ngcontent-%COMP%]:before{content:"\uf249"}.fa-sticky-note-o[_ngcontent-%COMP%]:before{content:"\uf24a"}.fa-cc-jcb[_ngcontent-%COMP%]:before{content:"\uf24b"}.fa-cc-diners-club[_ngcontent-%COMP%]:before{content:"\uf24c"}.fa-clone[_ngcontent-%COMP%]:before{content:"\uf24d"}.fa-balance-scale[_ngcontent-%COMP%]:before{content:"\uf24e"}.fa-hourglass-o[_ngcontent-%COMP%]:before{content:"\uf250"}.fa-hourglass-1[_ngcontent-%COMP%]:before, .fa-hourglass-start[_ngcontent-%COMP%]:before{content:"\uf251"}.fa-hourglass-2[_ngcontent-%COMP%]:before, .fa-hourglass-half[_ngcontent-%COMP%]:before{content:"\uf252"}.fa-hourglass-3[_ngcontent-%COMP%]:before, .fa-hourglass-end[_ngcontent-%COMP%]:before{content:"\uf253"}.fa-hourglass[_ngcontent-%COMP%]:before{content:"\uf254"}.fa-hand-grab-o[_ngcontent-%COMP%]:before, .fa-hand-rock-o[_ngcontent-%COMP%]:before{content:"\uf255"}.fa-hand-paper-o[_ngcontent-%COMP%]:before, .fa-hand-stop-o[_ngcontent-%COMP%]:before{content:"\uf256"}.fa-hand-scissors-o[_ngcontent-%COMP%]:before{content:"\uf257"}.fa-hand-lizard-o[_ngcontent-%COMP%]:before{content:"\uf258"}.fa-hand-spock-o[_ngcontent-%COMP%]:before{content:"\uf259"}.fa-hand-pointer-o[_ngcontent-%COMP%]:before{content:"\uf25a"}.fa-hand-peace-o[_ngcontent-%COMP%]:before{content:"\uf25b"}.fa-trademark[_ngcontent-%COMP%]:before{content:"\uf25c"}.fa-registered[_ngcontent-%COMP%]:before{content:"\uf25d"}.fa-creative-commons[_ngcontent-%COMP%]:before{content:"\uf25e"}.fa-gg[_ngcontent-%COMP%]:before{content:"\uf260"}.fa-gg-circle[_ngcontent-%COMP%]:before{content:"\uf261"}.fa-tripadvisor[_ngcontent-%COMP%]:before{content:"\uf262"}.fa-odnoklassniki[_ngcontent-%COMP%]:before{content:"\uf263"}.fa-odnoklassniki-square[_ngcontent-%COMP%]:before{content:"\uf264"}.fa-get-pocket[_ngcontent-%COMP%]:before{content:"\uf265"}.fa-wikipedia-w[_ngcontent-%COMP%]:before{content:"\uf266"}.fa-safari[_ngcontent-%COMP%]:before{content:"\uf267"}.fa-chrome[_ngcontent-%COMP%]:before{content:"\uf268"}.fa-firefox[_ngcontent-%COMP%]:before{content:"\uf269"}.fa-opera[_ngcontent-%COMP%]:before{content:"\uf26a"}.fa-internet-explorer[_ngcontent-%COMP%]:before{content:"\uf26b"}.fa-television[_ngcontent-%COMP%]:before, .fa-tv[_ngcontent-%COMP%]:before{content:"\uf26c"}.fa-contao[_ngcontent-%COMP%]:before{content:"\uf26d"}.fa-500px[_ngcontent-%COMP%]:before{content:"\uf26e"}.fa-amazon[_ngcontent-%COMP%]:before{content:"\uf270"}.fa-calendar-plus-o[_ngcontent-%COMP%]:before{content:"\uf271"}.fa-calendar-minus-o[_ngcontent-%COMP%]:before{content:"\uf272"}.fa-calendar-times-o[_ngcontent-%COMP%]:before{content:"\uf273"}.fa-calendar-check-o[_ngcontent-%COMP%]:before{content:"\uf274"}.fa-industry[_ngcontent-%COMP%]:before{content:"\uf275"}.fa-map-pin[_ngcontent-%COMP%]:before{content:"\uf276"}.fa-map-signs[_ngcontent-%COMP%]:before{content:"\uf277"}.fa-map-o[_ngcontent-%COMP%]:before{content:"\uf278"}.fa-map[_ngcontent-%COMP%]:before{content:"\uf279"}.fa-commenting[_ngcontent-%COMP%]:before{content:"\uf27a"}.fa-commenting-o[_ngcontent-%COMP%]:before{content:"\uf27b"}.fa-houzz[_ngcontent-%COMP%]:before{content:"\uf27c"}.fa-vimeo[_ngcontent-%COMP%]:before{content:"\uf27d"}.fa-black-tie[_ngcontent-%COMP%]:before{content:"\uf27e"}.fa-fonticons[_ngcontent-%COMP%]:before{content:"\uf280"}.fa-reddit-alien[_ngcontent-%COMP%]:before{content:"\uf281"}.fa-edge[_ngcontent-%COMP%]:before{content:"\uf282"}.fa-credit-card-alt[_ngcontent-%COMP%]:before{content:"\uf283"}.fa-codiepie[_ngcontent-%COMP%]:before{content:"\uf284"}.fa-modx[_ngcontent-%COMP%]:before{content:"\uf285"}.fa-fort-awesome[_ngcontent-%COMP%]:before{content:"\uf286"}.fa-usb[_ngcontent-%COMP%]:before{content:"\uf287"}.fa-product-hunt[_ngcontent-%COMP%]:before{content:"\uf288"}.fa-mixcloud[_ngcontent-%COMP%]:before{content:"\uf289"}.fa-scribd[_ngcontent-%COMP%]:before{content:"\uf28a"}.fa-pause-circle[_ngcontent-%COMP%]:before{content:"\uf28b"}.fa-pause-circle-o[_ngcontent-%COMP%]:before{content:"\uf28c"}.fa-stop-circle[_ngcontent-%COMP%]:before{content:"\uf28d"}.fa-stop-circle-o[_ngcontent-%COMP%]:before{content:"\uf28e"}.fa-shopping-bag[_ngcontent-%COMP%]:before{content:"\uf290"}.fa-shopping-basket[_ngcontent-%COMP%]:before{content:"\uf291"}.fa-hashtag[_ngcontent-%COMP%]:before{content:"\uf292"}.fa-bluetooth[_ngcontent-%COMP%]:before{content:"\uf293"}.fa-bluetooth-b[_ngcontent-%COMP%]:before{content:"\uf294"}.fa-percent[_ngcontent-%COMP%]:before{content:"\uf295"}.fa-gitlab[_ngcontent-%COMP%]:before{content:"\uf296"}.fa-wpbeginner[_ngcontent-%COMP%]:before{content:"\uf297"}.fa-wpforms[_ngcontent-%COMP%]:before{content:"\uf298"}.fa-envira[_ngcontent-%COMP%]:before{content:"\uf299"}.fa-universal-access[_ngcontent-%COMP%]:before{content:"\uf29a"}.fa-wheelchair-alt[_ngcontent-%COMP%]:before{content:"\uf29b"}.fa-question-circle-o[_ngcontent-%COMP%]:before{content:"\uf29c"}.fa-blind[_ngcontent-%COMP%]:before{content:"\uf29d"}.fa-audio-description[_ngcontent-%COMP%]:before{content:"\uf29e"}.fa-volume-control-phone[_ngcontent-%COMP%]:before{content:"\uf2a0"}.fa-braille[_ngcontent-%COMP%]:before{content:"\uf2a1"}.fa-assistive-listening-systems[_ngcontent-%COMP%]:before{content:"\uf2a2"}.fa-american-sign-language-interpreting[_ngcontent-%COMP%]:before, .fa-asl-interpreting[_ngcontent-%COMP%]:before{content:"\uf2a3"}.fa-deaf[_ngcontent-%COMP%]:before, .fa-deafness[_ngcontent-%COMP%]:before, .fa-hard-of-hearing[_ngcontent-%COMP%]:before{content:"\uf2a4"}.fa-glide[_ngcontent-%COMP%]:before{content:"\uf2a5"}.fa-glide-g[_ngcontent-%COMP%]:before{content:"\uf2a6"}.fa-sign-language[_ngcontent-%COMP%]:before, .fa-signing[_ngcontent-%COMP%]:before{content:"\uf2a7"}.fa-low-vision[_ngcontent-%COMP%]:before{content:"\uf2a8"}.fa-viadeo[_ngcontent-%COMP%]:before{content:"\uf2a9"}.fa-viadeo-square[_ngcontent-%COMP%]:before{content:"\uf2aa"}.fa-snapchat[_ngcontent-%COMP%]:before{content:"\uf2ab"}.fa-snapchat-ghost[_ngcontent-%COMP%]:before{content:"\uf2ac"}.fa-snapchat-square[_ngcontent-%COMP%]:before{content:"\uf2ad"}.fa-pied-piper[_ngcontent-%COMP%]:before{content:"\uf2ae"}.fa-first-order[_ngcontent-%COMP%]:before{content:"\uf2b0"}.fa-yoast[_ngcontent-%COMP%]:before{content:"\uf2b1"}.fa-themeisle[_ngcontent-%COMP%]:before{content:"\uf2b2"}.fa-google-plus-circle[_ngcontent-%COMP%]:before, .fa-google-plus-official[_ngcontent-%COMP%]:before{content:"\uf2b3"}.fa-fa[_ngcontent-%COMP%]:before, .fa-font-awesome[_ngcontent-%COMP%]:before{content:"\uf2b4"}.fa-handshake-o[_ngcontent-%COMP%]:before{content:"\uf2b5"}.fa-envelope-open[_ngcontent-%COMP%]:before{content:"\uf2b6"}.fa-envelope-open-o[_ngcontent-%COMP%]:before{content:"\uf2b7"}.fa-linode[_ngcontent-%COMP%]:before{content:"\uf2b8"}.fa-address-book[_ngcontent-%COMP%]:before{content:"\uf2b9"}.fa-address-book-o[_ngcontent-%COMP%]:before{content:"\uf2ba"}.fa-address-card[_ngcontent-%COMP%]:before, .fa-vcard[_ngcontent-%COMP%]:before{content:"\uf2bb"}.fa-address-card-o[_ngcontent-%COMP%]:before, .fa-vcard-o[_ngcontent-%COMP%]:before{content:"\uf2bc"}.fa-user-circle[_ngcontent-%COMP%]:before{content:"\uf2bd"}.fa-user-circle-o[_ngcontent-%COMP%]:before{content:"\uf2be"}.fa-user-o[_ngcontent-%COMP%]:before{content:"\uf2c0"}.fa-id-badge[_ngcontent-%COMP%]:before{content:"\uf2c1"}.fa-drivers-license[_ngcontent-%COMP%]:before, .fa-id-card[_ngcontent-%COMP%]:before{content:"\uf2c2"}.fa-drivers-license-o[_ngcontent-%COMP%]:before, .fa-id-card-o[_ngcontent-%COMP%]:before{content:"\uf2c3"}.fa-quora[_ngcontent-%COMP%]:before{content:"\uf2c4"}.fa-free-code-camp[_ngcontent-%COMP%]:before{content:"\uf2c5"}.fa-telegram[_ngcontent-%COMP%]:before{content:"\uf2c6"}.fa-thermometer-4[_ngcontent-%COMP%]:before, .fa-thermometer-full[_ngcontent-%COMP%]:before, .fa-thermometer[_ngcontent-%COMP%]:before{content:"\uf2c7"}.fa-thermometer-3[_ngcontent-%COMP%]:before, .fa-thermometer-three-quarters[_ngcontent-%COMP%]:before{content:"\uf2c8"}.fa-thermometer-2[_ngcontent-%COMP%]:before, .fa-thermometer-half[_ngcontent-%COMP%]:before{content:"\uf2c9"}.fa-thermometer-1[_ngcontent-%COMP%]:before, .fa-thermometer-quarter[_ngcontent-%COMP%]:before{content:"\uf2ca"}.fa-thermometer-0[_ngcontent-%COMP%]:before, .fa-thermometer-empty[_ngcontent-%COMP%]:before{content:"\uf2cb"}.fa-shower[_ngcontent-%COMP%]:before{content:"\uf2cc"}.fa-bath[_ngcontent-%COMP%]:before, .fa-bathtub[_ngcontent-%COMP%]:before, .fa-s15[_ngcontent-%COMP%]:before{content:"\uf2cd"}.fa-podcast[_ngcontent-%COMP%]:before{content:"\uf2ce"}.fa-window-maximize[_ngcontent-%COMP%]:before{content:"\uf2d0"}.fa-window-minimize[_ngcontent-%COMP%]:before{content:"\uf2d1"}.fa-window-restore[_ngcontent-%COMP%]:before{content:"\uf2d2"}.fa-times-rectangle[_ngcontent-%COMP%]:before, .fa-window-close[_ngcontent-%COMP%]:before{content:"\uf2d3"}.fa-times-rectangle-o[_ngcontent-%COMP%]:before, .fa-window-close-o[_ngcontent-%COMP%]:before{content:"\uf2d4"}.fa-bandcamp[_ngcontent-%COMP%]:before{content:"\uf2d5"}.fa-grav[_ngcontent-%COMP%]:before{content:"\uf2d6"}.fa-etsy[_ngcontent-%COMP%]:before{content:"\uf2d7"}.fa-imdb[_ngcontent-%COMP%]:before{content:"\uf2d8"}.fa-ravelry[_ngcontent-%COMP%]:before{content:"\uf2d9"}.fa-eercast[_ngcontent-%COMP%]:before{content:"\uf2da"}.fa-microchip[_ngcontent-%COMP%]:before{content:"\uf2db"}.fa-snowflake-o[_ngcontent-%COMP%]:before{content:"\uf2dc"}.fa-superpowers[_ngcontent-%COMP%]:before{content:"\uf2dd"}.fa-wpexplorer[_ngcontent-%COMP%]:before{content:"\uf2de"}.fa-meetup[_ngcontent-%COMP%]:before{content:"\uf2e0"}.sr-only[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.sr-only-focusable[_ngcontent-%COMP%]:active, .sr-only-focusable[_ngcontent-%COMP%]:focus{position:static;width:auto;height:auto;margin:0;overflow:visible;clip:auto}a[_ngcontent-%COMP%]{cursor:pointer}.angular-editor-textarea[_ngcontent-%COMP%]{min-height:150px;overflow:auto;margin-top:5px;resize:vertical}.angular-editor-textarea[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;right:0;display:block;width:8px;height:8px;cursor:nwse-resize;background-color:hsla(0,0%,100%,.5)}.angular-editor-toolbar[_ngcontent-%COMP%]{font:100 14px/15px Roboto,Arial,sans-serif;background-color:#f5f5f5;font-size:.8rem;padding:.2rem;border:1px solid #ddd}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]{display:none;margin-right:5px;vertical-align:baseline}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]{background-color:#fff;vertical-align:middle;border:1px solid #ddd;padding:.4rem;min-width:2rem;float:left}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.focus[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:focus{outline:0}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label[_ngcontent-%COMP%]{pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.background[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button[_ngcontent-%COMP%]:disabled > .color-label.foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{background:#555}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]{background:#fff5b9}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .angular-editor-button.active[_ngcontent-%COMP%]:hover{background-color:#fffa98}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{font-size:11px;width:90px;vertical-align:middle;background-color:transparent;border:.5px solid hsla(0,0%,100%,0);border-radius:5px;outline:none;padding:.4rem;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance:none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .default[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h1[_ngcontent-%COMP%]{font-size:24px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h2[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h3[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h4[_ngcontent-%COMP%]{font-size:15px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h5[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .h6[_ngcontent-%COMP%]{font-size:13px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .div[_ngcontent-%COMP%], .angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]   .pre[_ngcontent-%COMP%]{font-size:12px}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-heading[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance:none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]{display:inline-block;width:50px}@supports not (-moz-appearance:none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size1[_ngcontent-%COMP%]{font-size:10px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size2[_ngcontent-%COMP%]{font-size:12px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size3[_ngcontent-%COMP%]{font-size:14px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size4[_ngcontent-%COMP%]{font-size:16px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size5[_ngcontent-%COMP%]{font-size:18px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size6[_ngcontent-%COMP%]{font-size:20px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]   .size7[_ngcontent-%COMP%]{font-size:22px}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-font-size[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]{display:inline-block;width:90px}@supports not (-moz-appearance:none){.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   optgroup[_ngcontent-%COMP%]{font-size:12px;background-color:#f4f4f4;padding:5px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]   option[_ngcontent-%COMP%]{border:1px solid;background-color:#fff}}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .select-custom-style[_ngcontent-%COMP%]:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .color-label[_ngcontent-%COMP%]{position:relative;cursor:pointer}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .background[_ngcontent-%COMP%]{font-size:smaller;background:#1b1b1b;color:#fff;padding:3px}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]   .foreground[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:after{position:absolute;content:"";left:-1px;top:auto;bottom:-3px;right:auto;width:15px;height:2px;z-index:0;background:#1b1b1b}.angular-editor-toolbar[_ngcontent-%COMP%]   .angular-editor-toolbar-set[_ngcontent-%COMP%]:not([style*="display:none"]):not([style*="display: none"]), .select-button[_ngcontent-%COMP%]{display:inline-block}.select-button.disabled[_ngcontent-%COMP%]{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}']}),e})(),iA=(()=>{class e{constructor(e,t){this.elRef=e,this.r=t,this.options=[],this.disabled=!1,this.optionId=0,this.opened=!1,this.hidden="inline-block",this.changeEvent=new r.vpe,this.onChange=()=>{},this.onTouched=()=>{}}get label(){return this.selectedOption&&this.selectedOption.hasOwnProperty("label")?this.selectedOption.label:"Select"}get value(){return this.selectedOption.value}ngOnInit(){this.selectedOption=this.options[0],tA(this.isHidden)&&this.isHidden&&this.hide()}hide(){this.hidden="none"}optionSelect(e,t){t.stopPropagation(),this.setValue(e.value),this.onChange(this.selectedOption.value),this.changeEvent.emit(this.selectedOption.value),this.onTouched(),this.opened=!1}toggleOpen(e){this.disabled||(this.opened=!this.opened)}onClick(e){this.elRef.nativeElement.contains(e.target)||this.close()}close(){this.opened=!1}get isOpen(){return this.opened}writeValue(e){e&&"string"==typeof e&&this.setValue(e)}setValue(e){let t=0;const n=this.options.find((n,r)=>(t=r,n.value===e));n&&(this.selectedOption=n,this.optionId=t)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.labelButton.nativeElement.disabled=e,this.r[e?"addClass":"removeClass"](this.labelButton.nativeElement,"disabled"),this.disabled=e}handleKeyDown(e){if(this.opened)switch(e.key){case"ArrowDown":this._handleArrowDown(e);break;case"ArrowUp":this._handleArrowUp(e);break;case"Space":this._handleSpace(e);break;case"Enter":this._handleEnter(e);break;case"Tab":this._handleTab(e);break;case"Escape":this.close(),e.preventDefault();break;case"Backspace":this._handleBackspace()}}_handleArrowDown(e){this.optionId<this.options.length-1&&this.optionId++}_handleArrowUp(e){this.optionId>=1&&this.optionId--}_handleSpace(e){}_handleEnter(e){this.optionSelect(this.options[this.optionId],e)}_handleTab(e){}_handleBackspace(){}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(r.SBq),r.Y36(r.Qsj))},e.\u0275cmp=r.Xpm({type:e,selectors:[["ae-select"]],viewQuery:function(e,t){if(1&e&&r.Gf(Wx,7),2&e){let e;r.iGM(e=r.CRH())&&(t.labelButton=e.first)}},hostVars:2,hostBindings:function(e,t){1&e&&r.NdJ("click",function(e){return t.onClick(e)},!1,r.evT)("keydown",function(e){return t.handleKeyDown(e)}),2&e&&r.Udp("display",t.hidden)},inputs:{options:"options",isHidden:["hidden","isHidden"]},outputs:{changeEvent:"change"},features:[r._Bn([{provide:ZS,useExisting:(0,r.Gpc)(()=>e),multi:!0}])],decls:10,vars:7,consts:[[1,"ae-font","ae-picker",3,"ngClass"],["tabindex","0","type","button","role","button",1,"ae-picker-label",3,"tabIndex","click"],["labelButton",""],["viewBox","0 0 18 18"],["points","7 11 9 13 11 11 7 11",1,"ae-stroke"],["points","7 7 9 5 11 7 7 7",1,"ae-stroke"],[1,"ae-picker-options"],["tabindex","-1","type","button","role","button","class","ae-picker-item",3,"ngClass","click",4,"ngFor","ngForOf"],["class","dropdown-item",4,"ngIf"],["tabindex","-1","type","button","role","button",1,"ae-picker-item",3,"ngClass","click"],[1,"dropdown-item"]],template:function(e,t){1&e&&(r.TgZ(0,"span",0),r.TgZ(1,"button",1,2),r.NdJ("click",function(e){return t.toggleOpen(e)}),r._uU(3),r.O4$(),r.TgZ(4,"svg",3),r._UZ(5,"polygon",4),r._UZ(6,"polygon",5),r.qZA(),r.qZA(),r.kcU(),r.TgZ(7,"span",6),r.YNc(8,Yx,2,5,"button",7),r.YNc(9,Qx,2,0,"span",8),r.qZA(),r.qZA()),2&e&&(r.Q6J("ngClass",r.VKq(5,Jx,t.isOpen)),r.xp6(1),r.Q6J("tabIndex",-1),r.xp6(2),r.hij("",t.label," "),r.xp6(5),r.Q6J("ngForOf",t.options),r.xp6(1),r.Q6J("ngIf",!t.options.length))},directives:[se,ce,ue],styles:['.ae-font.ae-picker{color:#444}.ae-font.ae-picker,.ae-font .ae-picker-label{display:inline-block;float:left;width:100%;position:relative;vertical-align:middle}.ae-font .ae-picker-label{cursor:pointer;height:100%;padding-left:8px;padding-right:10px;line-height:26px;font-size:85%;text-align:left;background-color:#fff;min-width:2rem;border:1px solid #ddd;text-overflow:clip;overflow:hidden;white-space:nowrap}.ae-font .ae-picker-label:before{content:"";position:absolute;right:0;top:0;width:20px;height:100%;background:linear-gradient(90deg,#fff,#fff)}.ae-font .ae-picker-label:focus{outline:none}.ae-font .ae-picker-label:hover{cursor:pointer;background-color:#f1f1f1;transition:.2s ease}.ae-font .ae-picker-label:hover:before{background:linear-gradient(90deg,#f5f5f5 100%,#fff 0)}.ae-font .ae-picker-label:disabled{background-color:#f5f5f5;pointer-events:none;cursor:not-allowed}.ae-font .ae-picker-label:disabled:before{background:linear-gradient(90deg,#f5f5f5 100%,#fff 0)}.ae-font .ae-picker-label svg{position:absolute;margin-top:-9px;right:0;top:50%;width:18px}.ae-font .ae-picker-label svg:not(:root){overflow:hidden}.ae-font .ae-picker-label svg .ae-stroke{fill:none;stroke:#444;stroke-linecap:round;stroke-linejoin:round;stroke-width:2}.ae-font .ae-picker-options{background-color:#fff;display:none;min-width:100%;position:absolute;white-space:nowrap;z-index:3;border:1px solid transparent;box-shadow:0 2px 8px rgba(0,0,0,.2)}.ae-font .ae-picker-options .ae-picker-item{cursor:pointer;display:block;padding-bottom:5px;padding-top:5px;padding-left:5px;z-index:3;text-align:left;background-color:transparent;min-width:2rem;width:100%;border:0 solid #ddd}.ae-font .ae-picker-options .ae-picker-item.selected{color:#06c;background-color:#fff4c2}.ae-font .ae-picker-options .ae-picker-item.focused,.ae-font .ae-picker-options .ae-picker-item:hover{background-color:#fffa98}.ae-font.ae-expanded{display:block;margin-top:-1px;z-index:1}.ae-font.ae-expanded .ae-picker-label,.ae-font.ae-expanded .ae-picker-label svg{color:#ccc;z-index:2}.ae-font.ae-expanded .ae-picker-label svg .ae-stroke{stroke:#ccc}.ae-font.ae-expanded .ae-picker-options{display:block;margin-top:-1px;top:100%;z-index:3;border-color:#ccc}'],encapsulation:2}),e})(),oA=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Ce,gk,mk]]}),e})();function sA(e,t){1&e&&(r.TgZ(0,"div",27),r._uU(1," Title is required. "),r.qZA())}function aA(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,sA,2,0,"div",26),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.dc.title.touched&&e.dc.title.invalid)}}function cA(e,t){1&e&&(r.TgZ(0,"div",27),r._uU(1," Title must be atleast 10 charectors long. "),r.qZA())}function lA(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,cA,2,0,"div",26),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.dc.title.touched&&e.dc.title.invalid)}}function uA(e,t){1&e&&(r.TgZ(0,"div",27),r._uU(1," Excerpt is required. "),r.qZA())}function hA(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,uA,2,0,"div",26),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.dc.excerpt.touched&&e.dc.excerpt.invalid)}}function dA(e,t){1&e&&(r.TgZ(0,"div",27),r._uU(1," Excerpt must be atleast 50 charectors long. "),r.qZA())}function fA(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,dA,2,0,"div",26),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.dc.excerpt.touched&&e.dc.excerpt.invalid)}}function pA(e,t){if(1&e&&(r.TgZ(0,"option",28),r._uU(1),r.qZA()),2&e){const e=t.$implicit;r.hYB("value","",e.id,"-",e.data.category,""),r.xp6(1),r.hij(" ",e.data.category," ")}}function gA(e,t){1&e&&(r.TgZ(0,"div",27),r._uU(1," Please select a disaster category. "),r.qZA())}function mA(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,gA,2,0,"div",26),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.dc.category.touched&&e.dc.category.invalid)}}function _A(e,t){1&e&&(r.TgZ(0,"div",27),r._uU(1," disaster Image is required. "),r.qZA())}function yA(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,_A,2,0,"div",26),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.dc.disasterImg.touched&&e.dc.disasterImg.invalid)}}function bA(e,t){1&e&&(r.TgZ(0,"div",27),r._uU(1," Content is required. "),r.qZA())}function vA(e,t){if(1&e&&(r.TgZ(0,"div"),r.YNc(1,bA,2,0,"div",26),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngIf",e.dc.content.touched&&e.dc.content.invalid)}}const wA=function(e){return{"is-invalid":e}},CA=[{path:"",redirectTo:"/disasters",pathMatch:"full"},{path:"disasters",component:ax},{path:"disaster/:id",component:tx},{path:"category/:category/:id",component:Ux},{path:"disaster-list",component:Ox,canActivate:[Ax]},{path:"disasters/create",component:(()=>{class e{constructor(e,t,n,r,i){this.categoryService=e,this.fb=t,this.disasterService=n,this.authservice=r,this.route=i,this.imgSrc="assets/placeholder-image.jpg",this.formStatus="Add New",this.authservice.user$.pipe(Go(e=>this.authservice.getUserData(null==e?void 0:e.uid))).subscribe(e=>{this.userName=null==e?void 0:e.userName}),this.route.queryParams.subscribe(e=>{this.docId=e.id,this.docId?this.disasterService.loadOneData(e.id).subscribe(e=>{this.disaster=e,this.disasterForm=this.fb.group({title:[this.disaster.title,[YS.required,YS.minLength(10)]],excerpt:[this.disaster.excerpt,[YS.required,YS.minLength(50)]],category:[`${this.disaster.category.categoryId}-${this.disaster.category.category}`,YS.required],disasterImg:["",YS.required],content:[this.disaster.content,YS.required]}),this.imgSrc=this.disaster.disasterImgPath,this.formStatus="Edit"}):this.disasterForm=this.fb.group({title:["",[YS.required,YS.minLength(10)]],excerpt:["",[YS.required,YS.minLength(50)]],category:["",YS.required],disasterImg:["",YS.required],content:["",YS.required]})}),this.userSub=this.authservice.user$.subscribe(e=>{this.uid=e.uid})}ngOnInit(){this.categoryService.loadData().subscribe(e=>{this.categories=e})}get dc(){return this.disasterForm.controls}onTitleChanged(e){}showPreview(e){const t=new FileReader;t.onload=e=>{this.imgSrc=e.target.result},t.readAsDataURL(e.target.files[0]),this.selectedImg=e.target.files[0]}onSubmit(){let e=this.disasterForm.value.category.split("-");console.log(e);const t={title:this.disasterForm.value.title,category:{categoryId:e[0],category:e[1]},disasterImgPath:"",excerpt:this.disasterForm.value.excerpt,content:this.disasterForm.value.content,isFeatured:!1,views:0,status:"new",uid:this.uid,userName:this.userName,createdAt:new Date};this.disasterService.uploadImage(this.selectedImg,t,this.formStatus,this.docId),this.disasterForm.reset(),this.imgSrc="./assets/placeholder-image.jpg",console.log(t)}ngOnDestroy(){this.userSub.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(qS),r.Y36(_k),r.Y36(ex),r.Y36(FS),r.Y36(ll))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-post-create"]],decls:52,vars:25,consts:[[1,"container"],[1,"row"],[1,"col-md-12","text-center"],[1,"text-theme-primary"],[1,"mb-5"],[3,"formGroup","ngSubmit"],[1,"col-md-7","me-5"],[1,"form-group"],["type","text","formControlName","title",1,"form-control","mb-4",3,"ngClass","keyup"],[4,"ngIf"],["cols","30","rows","10","formControlName","excerpt",1,"form-control",3,"ngClass"],[1,"col-md-4"],["for",""],["formControlName","category",1,"form-control","mb-4",3,"ngClass"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"form-control","img-fluid","img-preview",3,"src"],["type","file","accept","image/*","formControlName","disasterImg",1,"form-control","mb-4",3,"ngClass","change"],[1,"row","mt-3","mb-5"],[1,"col-md-12"],[1,"card","shadow-effect"],[1,"card-body"],["placeholder","Add your content here","formControlName","content"],[1,"col-md-12","text-center","mt-5"],["routerLink","../disaster-list",1,"btn","btn-info","bg-theme","me-2",3,"disabled"],["routerLink","/disasters",1,"btn","btn-warning","ml-3"],["class","alert alert-danger",4,"ngIf"],[1,"alert","alert-danger"],[3,"value"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"h3",3),r._uU(4,"Add disaster"),r.qZA(),r.TgZ(5,"p",4),r._uU(6),r.qZA(),r.qZA(),r.qZA(),r.TgZ(7,"div"),r.TgZ(8,"form",5),r.NdJ("ngSubmit",function(){return t.onSubmit()}),r.TgZ(9,"div",1),r.TgZ(10,"div",6),r.TgZ(11,"div",7),r.TgZ(12,"label"),r._uU(13," Title "),r.qZA(),r.TgZ(14,"input",8),r.NdJ("keyup",function(e){return t.onTitleChanged(e)}),r.qZA(),r.YNc(15,aA,2,1,"div",9),r.YNc(16,lA,2,1,"div",9),r.qZA(),r.TgZ(17,"div",7),r.TgZ(18,"label"),r._uU(19," Excerpt "),r.qZA(),r._UZ(20,"textarea",10),r.YNc(21,hA,2,1,"div",9),r.YNc(22,fA,2,1,"div",9),r.qZA(),r.qZA(),r.TgZ(23,"div",11),r.TgZ(24,"div",7),r.TgZ(25,"label",12),r._uU(26," Please Select a disaster category"),r.qZA(),r.TgZ(27,"select",13),r.TgZ(28,"option",14),r._uU(29,"Please select a category"),r.qZA(),r.YNc(30,pA,2,3,"option",15),r.qZA(),r.YNc(31,mA,2,1,"div",9),r.qZA(),r.TgZ(32,"div",7),r.TgZ(33,"label",12),r._uU(34," disaster Image "),r.qZA(),r._UZ(35,"img",16),r.TgZ(36,"input",17),r.NdJ("change",function(e){return t.showPreview(e)}),r.qZA(),r.YNc(37,yA,2,1,"div",9),r.qZA(),r.qZA(),r.qZA(),r.TgZ(38,"div",18),r.TgZ(39,"div",19),r.TgZ(40,"div",20),r.TgZ(41,"div",21),r.TgZ(42,"div",7),r.TgZ(43,"label",12),r._uU(44," Content "),r.qZA(),r._UZ(45,"angular-editor",22),r.YNc(46,vA,2,1,"div",9),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.TgZ(47,"div",23),r.TgZ(48,"button",24),r._uU(49),r.qZA(),r.TgZ(50,"button",25),r._uU(51," Back to disaster "),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.qZA()),2&e&&(r.xp6(6),r.hij("You can ",t.formStatus," disaster here"),r.xp6(2),r.Q6J("formGroup",t.disasterForm),r.xp6(6),r.Q6J("ngClass",r.VKq(17,wA,t.dc.title.touched&&t.dc.title.invalid)),r.xp6(1),r.Q6J("ngIf",null==t.dc.title.errors?null:t.dc.title.errors.required),r.xp6(1),r.Q6J("ngIf",null==t.dc.title.errors?null:t.dc.title.errors.minlength),r.xp6(4),r.Q6J("ngClass",r.VKq(19,wA,t.dc.excerpt.touched&&t.dc.excerpt.invalid)),r.xp6(1),r.Q6J("ngIf",null==t.dc.excerpt.errors?null:t.dc.excerpt.errors.required),r.xp6(1),r.Q6J("ngIf",null==t.dc.excerpt.errors?null:t.dc.excerpt.errors.minlength),r.xp6(5),r.Q6J("ngClass",r.VKq(21,wA,t.dc.category.touched&&t.dc.category.invalid)),r.xp6(3),r.Q6J("ngForOf",t.categories),r.xp6(1),r.Q6J("ngIf",null==t.dc.category.errors?null:t.dc.category.errors.required),r.xp6(4),r.Q6J("src",t.imgSrc,r.LSH),r.xp6(1),r.Q6J("ngClass",r.VKq(23,wA,t.dc.disasterImg.touched&&t.dc.disasterImg.invalid)),r.xp6(1),r.Q6J("ngIf",null==t.dc.disasterImg.errors?null:t.dc.disasterImg.errors.required),r.xp6(9),r.Q6J("ngIf",null==t.dc.content.errors?null:t.dc.content.errors.required),r.xp6(2),r.Q6J("disabled",t.disasterForm.invalid),r.xp6(1),r.hij(" ",t.formStatus," disaster "))},directives:[KI,_I,XI,zS,mI,tk,se,ue,ik,ok,lk,ce,nA,Au],styles:[".box[_ngcontent-%COMP%]{width:90%;margin:auto}.img-preview[_ngcontent-%COMP%]{height:250px}"]}),e})(),canActivate:[Ax]},{path:"admin",children:[{path:"dashboard",component:Ck},{path:"categories",component:wk},{path:"disaster-list",component:Ox}],canActivate:[Ax,LS]},{path:"login",component:fx},{path:"register-user",component:xx}];let OA=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Hu.forRoot(CA)],Hu]}),e})();function PA(e,t){1&e&&(r.TgZ(0,"a",20),r._uU(1,"Create Disaster"),r.qZA())}function TA(e,t){1&e&&(r.TgZ(0,"li",9),r.TgZ(1,"a",21),r._uU(2,"Disaster List"),r.qZA(),r.qZA())}function MA(e,t){1&e&&(r.TgZ(0,"li",9),r.TgZ(1,"a",22),r._uU(2,"Dashboard"),r.qZA(),r.qZA())}function SA(e,t){1&e&&(r.TgZ(0,"li",23),r.TgZ(1,"a",24),r._uU(2,"Log in"),r.qZA(),r.qZA())}function IA(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"li",23),r.TgZ(1,"a",25),r.NdJ("click",function(){return r.CHM(e),r.oxw().logout()}),r._uU(2,"Log out"),r.qZA(),r.qZA()}}const kA=function(e){return["/disaster",e]};function EA(e,t){if(1&e&&(r.TgZ(0,"ul",28),r.TgZ(1,"li",29),r._uU(2),r.qZA(),r.qZA()),2&e){const e=t.$implicit;r.xp6(1),r.Q6J("routerLink",r.VKq(2,kA,e.id)),r.xp6(1),r.hij(" ",null==e.data?null:e.data.title," ")}}function xA(e,t){if(1&e&&(r.TgZ(0,"div",26),r.YNc(1,EA,3,4,"ul",27),r.qZA()),2&e){const e=r.oxw();r.xp6(1),r.Q6J("ngForOf",e.filterDisasters)}}let AA=(()=>{class e{constructor(e,t,n,r){this.authService=e,this.userService=t,this.disasterService=n,this.afAuth=r,this.showList=!1,this.subscription=this.authService.user$.pipe(Go(e=>this.authService.getUserData(null==e?void 0:e.uid))).subscribe(e=>{this.isAdmin=null==e?void 0:e.isAdmin}),this.subscription=this.disasterService.loadFeatured().subscribe(e=>{this.filterDisasters=this.disasterArray=e,console.log(e)})}ngOnInit(){this.disasterService.loadSearch(this.filterDisasters)}filter(e){this.showList=!!e,this.filterDisasters=e?this.disasterArray.filter(t=>t.data.title.toLowerCase().includes(e.toLowerCase())):this.disasterArray}logout(){this.authService.logOut()}ngOnDestroy(){this.subscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(r.Y36(FS),r.Y36(px),r.Y36(ex),r.Y36(pa))},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-header"]],decls:36,vars:14,consts:[[1,"navbar","navbar-expand-lg"],[1,"container-fluid"],[1,"me-3","d-flex"],[2,"color","#fbb741"],[1,"logo","mt-1"],[1,"logo1"],[1,"logo2"],["id","navbarTogglerDemo02",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],[1,"nav-item","ps-5"],["aria-current","page","routerLink","./disasters",1,"nav-link","active"],["class","nav-link","routerLink","/disasters/create",4,"ngIf"],["class","nav-item ps-5",4,"ngIf"],[1,"d-flex"],["type","search","placeholder","Search","aria-label","Search",1,"form-control","me-2","px-5","py-2","search",3,"keyup"],["query",""],["type","submit",1,"btn","outline"],[1,"navbar-nav","ms-5","mb-2","mb-lg-0"],["class","nav-item",4,"ngIf"],["class","card list","style","width: 18rem",4,"ngIf"],["routerLink","/disasters/create",1,"nav-link"],["routerLink","./disaster-list",1,"nav-link"],["routerLink","./admin/dashboard",1,"nav-link"],[1,"nav-item"],["aria-current","page","routerLink","./login",1,"nav-link","active"],[1,"nav-link","logout",3,"click"],[1,"card","list",2,"width","18rem"],["class","list-group list-group-flush",4,"ngFor","ngForOf"],[1,"list-group","list-group-flush"],[1,"list-group-item",3,"routerLink"]],template:function(e,t){if(1&e){const e=r.EpF();r.TgZ(0,"nav",0),r.TgZ(1,"div",1),r.TgZ(2,"div",2),r.TgZ(3,"mat-icon",3),r._uU(4,"local_fire_department"),r.qZA(),r.TgZ(5,"div",4),r.TgZ(6,"span",5),r._uU(7,"D"),r.qZA(),r.TgZ(8,"span",6),r._uU(9,"isaster"),r.qZA(),r.TgZ(10,"span",5),r._uU(11,"A"),r.qZA(),r.TgZ(12,"span",6),r._uU(13,"pp"),r.qZA(),r.qZA(),r.qZA(),r.TgZ(14,"div",7),r.TgZ(15,"ul",8),r.TgZ(16,"li",9),r.TgZ(17,"a",10),r._uU(18,"Home"),r.qZA(),r.qZA(),r.TgZ(19,"li",9),r.YNc(20,PA,2,0,"a",11),r.ALo(21,"async"),r.qZA(),r.YNc(22,TA,3,0,"li",12),r.ALo(23,"async"),r.YNc(24,MA,3,0,"li",12),r.qZA(),r.TgZ(25,"form",13),r.TgZ(26,"input",14,15),r.NdJ("keyup",function(){r.CHM(e);const n=r.MAs(27);return t.filter(n.value)}),r.qZA(),r.TgZ(28,"button",16),r._uU(29,"Search"),r.qZA(),r.qZA(),r.TgZ(30,"ul",17),r.YNc(31,SA,3,0,"li",18),r.ALo(32,"async"),r.YNc(33,IA,3,0,"li",18),r.ALo(34,"async"),r.qZA(),r.qZA(),r.qZA(),r.qZA(),r.YNc(35,xA,2,1,"div",19)}2&e&&(r.xp6(20),r.Q6J("ngIf",r.lcZ(21,6,t.authService.user$)),r.xp6(2),r.Q6J("ngIf",r.lcZ(23,8,t.authService.user$)),r.xp6(2),r.Q6J("ngIf",t.isAdmin),r.xp6(7),r.Q6J("ngIf",!r.lcZ(32,10,t.authService.user$)),r.xp6(2),r.Q6J("ngIf",r.lcZ(34,12,t.authService.user$)),r.xp6(2),r.Q6J("ngIf",t.showList))},directives:[Ho,Du,ue,KI,_I,HI,ce,Au],pipes:[ye],styles:[".nav-list[_ngcontent-%COMP%]{margin-left:100px}.navbar[_ngcontent-%COMP%]{background-color:#041e50}.navbar[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%], .navbar[_ngcontent-%COMP%]   .navbar-brand[_ngcontent-%COMP%]{color:#fff}.btn.active[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]:active, button[_ngcontent-%COMP%]:active, button[_ngcontent-%COMP%]:focus, button[_ngcontent-%COMP%]:hover, input[_ngcontent-%COMP%]:active, input[_ngcontent-%COMP%]:focus, input[_ngcontent-%COMP%]:hover, label[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:active, textarea[_ngcontent-%COMP%]:focus, textarea[_ngcontent-%COMP%]:hover{outline:0!important;-webkit-appearance:none;box-shadow:none!important}.outline[_ngcontent-%COMP%]{border:1px solid #0d3a8f;color:#fff}.logo[_ngcontent-%COMP%]{font-size:18px;font-weight:900;font-family:Georgia,Times New Roman,Times,serif}.logo1[_ngcontent-%COMP%]{font-size:20px;color:#fff}.logo2[_ngcontent-%COMP%]{font-size:15px;color:#fbf5f5;font-style:italic}.logout[_ngcontent-%COMP%]{cursor:pointer}.search[_ngcontent-%COMP%]{position:relative}.list[_ngcontent-%COMP%]{position:absolute;top:50px;right:210px;z-index:100}.list-group-item[_ngcontent-%COMP%]{cursor:pointer}"]}),e})(),DA=(()=>{class e{constructor(){this.posts=[]}addPost(e){this.posts.push(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=r.Xpm({type:e,selectors:[["app-root"]],decls:4,vars:0,consts:[[1,"box"]],template:function(e,t){1&e&&(r.TgZ(0,"div",0),r._UZ(1,"app-header"),r.TgZ(2,"main"),r._UZ(3,"router-outlet"),r.qZA(),r.qZA())},directives:[AA,Ru],styles:["main[_ngcontent-%COMP%]{width:95%;margin:30px auto auto;padding-bottom:40px}"]}),e})();const NA={apiKey:"AIzaSyDp_4Z31AxrGDTwW68kIB_UrJ1ahNIzC7U",authDomain:"disaster-app-72656.firebaseapp.com",projectId:"disaster-app-72656",storageBucket:"disaster-app-72656.appspot.com",messagingSenderId:"380426353069",appId:"1:380426353069:web:1dbaed6fbabb8ff6fb0924",measurementId:"G-3E2TLKGMBL"};class RA{constructor(e,t){this.observables=e,this.project=t}call(e,t){return t.subscribe(new FA(e,this.observables,this.project))}}class FA extends Fa{constructor(e,t,n){super(e),this.observables=t,this.project=n,this.toRespond=[];const r=t.length;this.values=new Array(r);for(let i=0;i<r;i++)this.toRespond.push(i);for(let i=0;i<r;i++)this.add(Ua(this,t[i],void 0,i))}notifyNext(e,t,n){this.values[n]=t;const r=this.toRespond;if(r.length>0){const e=r.indexOf(n);-1!==e&&r.splice(e,1)}}notifyComplete(){}_next(e){if(0===this.toRespond.length){const t=[e,...this.values];this.project?this._tryProject(t):this.destination.next(t)}}_tryProject(e){let t;try{t=this.project.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class LA{constructor(e){this.predicate=e}call(e,t){return t.subscribe(new qA(e,this.predicate))}}class qA extends Xr.L{constructor(e,t){super(e),this.predicate=t,this.skipping=!0,this.index=0}_next(e){const t=this.destination;this.skipping&&this.tryCallPredicate(e),this.skipping||t.next(e)}tryCallPredicate(e){try{const t=this.predicate(e,this.index++);this.skipping=Boolean(t)}catch(t){this.destination.error(t)}}}const UA="@firebase/database",VA="0.13.1";let ZA="";function jA(e){ZA=e}class BA{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,Ms.Pz)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,Ms.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class zA{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,Ms.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const HA=function(e){try{if("undefined"!=typeof window&&void 0!==window[e]){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new BA(t)}}catch(t){}return new zA},$A=HA("localStorage"),GA=HA("sessionStorage"),WA=new Ss.Yd("@firebase/database"),KA=function(){let e=1;return function(){return e++}}(),YA=function(e){const t=(0,Ms.dS)(e),n=new Ms.gQ;n.update(t);const r=n.digest();return Ms.US.encodeByteArray(r)},QA=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?t+=QA.apply(null,r):t+="object"==typeof r?(0,Ms.Pz)(r):r,t+=" "}return t};let JA=null,XA=!0;const eD=function(e,t){(0,Ms.hu)(!t||!0===e||!1===e,"Can't turn on custom loggers persistently."),!0===e?(WA.logLevel=Ss.in.VERBOSE,JA=WA.log.bind(WA),t&&GA.set("logging_enabled",!0)):"function"==typeof e?JA=e:(JA=null,GA.remove("logging_enabled"))},tD=function(...e){if(!0===XA&&(XA=!1,null===JA&&!0===GA.get("logging_enabled")&&eD(!0)),JA){const t=QA.apply(null,e);JA(t)}},nD=function(e){return function(...t){tD(e,...t)}},rD=function(...e){const t="FIREBASE INTERNAL ERROR: "+QA(...e);WA.error(t)},iD=function(...e){const t=`FIREBASE FATAL ERROR: ${QA(...e)}`;throw WA.error(t),new Error(t)},oD=function(...e){const t="FIREBASE WARNING: "+QA(...e);WA.warn(t)},sD=function(e){return"number"==typeof e&&(e!=e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},aD="[MIN_NAME]",cD="[MAX_NAME]",lD=function(e,t){if(e===t)return 0;if(e===aD||t===cD)return-1;if(t===aD||e===cD)return 1;{const n=_D(e),r=_D(t);return null!==n?null!==r?n-r==0?e.length-t.length:n-r:-1:null!==r?1:e<t?-1:1}},uD=function(e,t){return e===t?0:e<t?-1:1},hD=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+(0,Ms.Pz)(t))},dD=function(e){if("object"!=typeof e||null===e)return(0,Ms.Pz)(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)0!==r&&(n+=","),n+=(0,Ms.Pz)(t[r]),n+=":",n+=dD(e[t[r]]);return n+="}",n},fD=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)r.push(e.substring(i,i+t>n?n:i+t));return r};function pD(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const gD=function(e){let t,n,r,i,o;(0,Ms.hu)(!sD(e),"Invalid JSON number"),0===e?(n=0,r=0,t=1/e==-1/0?1:0):(t=e<0,(e=Math.abs(e))>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(e)/Math.LN2),1023),n=i+1023,r=Math.round(e*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(e/Math.pow(2,-1074))));const s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(t?1:0),s.reverse();const a=s.join("");let c="";for(o=0;o<64;o+=8){let e=parseInt(a.substr(o,8),2).toString(16);1===e.length&&(e="0"+e),c+=e}return c.toLowerCase()},mD=new RegExp("^-?(0*)\\d{1,10}$"),_D=function(e){if(mD.test(e)){const t=Number(e);if(t>=-2147483648&&t<=2147483647)return t}return null},yD=function(e){try{e()}catch(t){setTimeout(()=>{throw oD("Exception was thrown by user callback.",t.stack||""),t},Math.floor(0))}},bD=function(e,t){const n=setTimeout(e,t);return"object"==typeof n&&n.unref&&n.unref(),n};class vD{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=null==t?void 0:t.getImmediate({optional:!0}),this.appCheck||null==t||t.get().then(e=>this.appCheck=e)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(t=>t.addTokenListener(e))}notifyForInvalidToken(){oD(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class wD{constructor(e,t,n){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(e=>this.auth_=e)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(e=>e&&"auth/token-not-initialized"===e.code?(tD("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(e)):new Promise((t,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,n):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',oD(e)}}let CD=(()=>{class e{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}return e.OWNER="owner",e})();const OD=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,PD="websocket",TD="long_polling";class MD{constructor(e,t,n,r,i=!1,o="",s=!1){this.secure=t,this.namespace=n,this.webSocketOnly=r,this.nodeAdmin=i,this.persistenceKey=o,this.includeNamespaceInQueryParams=s,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=$A.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&$A.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function SD(e,t,n){let r;if((0,Ms.hu)("string"==typeof t,"typeof type must == string"),(0,Ms.hu)("object"==typeof n,"typeof params must == object"),t===PD)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else{if(t!==TD)throw new Error("Unknown connection type: "+t);r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?"}(function(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams})(e)&&(n.ns=e.namespace);const i=[];return pD(n,(e,t)=>{i.push(e+"="+t)}),r+i.join("&")}class ID{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,Ms.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,Ms.p$)(this.counters_)}}const kD={},ED={};function xD(e){const t=e.toString();return kD[t]||(kD[t]=new ID),kD[t]}class AD{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const e=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let t=0;t<e.length;++t)e[t]&&yD(()=>{this.onMessage_(e[t])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class DD{constructor(e,t,n,r,i,o,s){this.connId=e,this.repoInfo=t,this.applicationId=n,this.appCheckToken=r,this.authToken=i,this.transportSessionId=o,this.lastSessionId=s,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=nD(e),this.stats_=xD(t),this.urlFn=e=>(this.appCheckToken&&(e.ac=this.appCheckToken),SD(t,TD,e))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new AD(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(e){if((0,Ms.Yr)()||"complete"===document.readyState)e();else{let t=!1;const n=function(){document.body?t||(t=!0,e()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new ND((...e)=>{const[t,n,r,i,o]=e;if(this.incrementIncomingBytes_(e),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===t)this.id=n,this.password=r;else{if("close"!==t)throw new Error("Unrecognized command received: "+t);n?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(n,()=>{this.onClosed_()})):this.onClosed_()}},(...e)=>{const[t,n]=e;this.incrementIncomingBytes_(e),this.myPacketOrderer.handleResponse(t,n)},()=>{this.onClosed_()},this.urlFn);const e={start:"t"};e.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(e.cb=this.scriptTagHolder.uniqueCallbackIdentifier),e.v="5",this.transportSessionId&&(e.s=this.transportSessionId),this.lastSessionId&&(e.ls=this.lastSessionId),this.applicationId&&(e.p=this.applicationId),this.appCheckToken&&(e.ac=this.appCheckToken),"undefined"!=typeof location&&location.hostname&&OD.test(location.hostname)&&(e.r="f");const t=this.urlFn(e);this.log_("Connecting via long-poll to "+t),this.scriptTagHolder.addTag(t,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){DD.forceAllow_=!0}static forceDisallow(){DD.forceDisallow_=!0}static isAvailable(){return!((0,Ms.Yr)()||!DD.forceAllow_&&(DD.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,Ms.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=(0,Ms.h$)(t),r=fD(n,1840);for(let i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,Ms.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const n={dframe:"t"};n.id=e,n.pw=t,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,Ms.Pz)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class ND{constructor(e,t,n,r){if(this.onDisconnect=n,this.urlFn=r,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,Ms.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=KA(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=ND.createIFrame_();let n="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(n='<script>document.domain="'+document.domain+'";<\/script>');const r="<html><body>"+n+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(r),this.myIFrame.doc.close()}catch(i){tD("frame writing exception"),i.stack&&tD(i.stack),tD(i)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||tD("No IE domain setting required")}catch(t){const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),n="",r=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+n.length<=1870;){const e=this.pendingSegs.shift();n=n+"&seg"+r+"="+e.seg+"&ts"+r+"="+e.ts+"&d"+r+"="+e.d,r++}return t+=n,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,n){this.pendingSegs.push({seg:e,ts:t,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const n=()=>{this.outstandingRequests.delete(t),this.newRequest_()},r=setTimeout(n,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(r),n()})}addTag(e,t){(0,Ms.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const e=n.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),t())},n.onerror=()=>{tD("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch(n){}},Math.floor(1))}}let RD=null;"undefined"!=typeof MozWebSocket?RD=MozWebSocket:"undefined"!=typeof WebSocket&&(RD=WebSocket);let FD=(()=>{class e{constructor(t,n,r,i,o,s,a){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=nD(this.connId),this.stats_=xD(n),this.connURL=e.connectionURL_(n,s,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,t,n,r,i){const o={v:"5"};return!(0,Ms.Yr)()&&"undefined"!=typeof location&&location.hostname&&OD.test(location.hostname)&&(o.r="f"),t&&(o.s=t),n&&(o.ls=n),r&&(o.ac=r),i&&(o.p=i),SD(e,PD,o)}open(e,t){this.onDisconnect=t,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,$A.set("previous_websocket_failure",!0);try{let e;if((0,Ms.Yr)()){const e={headers:{"User-Agent":`Firebase/5/${ZA}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}};this.authToken&&(e.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(e.headers["X-Firebase-AppCheck"]=this.appCheckToken);const t=process.env,n=0===this.connURL.indexOf("wss://")?t.HTTPS_PROXY||t.https_proxy:t.HTTP_PROXY||t.http_proxy;n&&(e.proxy={origin:n})}this.mySock=new RD(this.connURL,[],e)}catch(n){this.log_("Error instantiating WebSocket.");const e=n.message||n.data;return e&&this.log_(e),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=e=>{this.handleIncomingFrame(e)},this.mySock.onerror=e=>{this.log_("WebSocket error.  Closing connection.");const t=e.message||e.data;t&&this.log_(t),this.onClosed_()}}start(){}static forceDisallow(){e.forceDisallow_=!0}static isAvailable(){let t=!1;if("undefined"!=typeof navigator&&navigator.userAgent){const e=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);e&&e.length>1&&parseFloat(e[1])<4.4&&(t=!0)}return!t&&null!==RD&&!e.forceDisallow_}static previouslyFailed(){return $A.isInMemoryStorage||!0===$A.get("previous_websocket_failure")}markConnectionHealthy(){$A.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const e=this.frames.join("");this.frames=null;const t=(0,Ms.cI)(e);this.onMessage(t)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if((0,Ms.hu)(null===this.frames,"We already have a frame buffer"),e.length<=6){const t=Number(e);if(!isNaN(t))return this.handleNewFrameCount_(t),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(null===this.mySock)return;const t=e.data;if(this.bytesReceived+=t.length,this.stats_.incrementCounter("bytes_received",t.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(t);else{const e=this.extractFrameCount_(t);null!==e&&this.appendFrame_(e)}}send(e){this.resetKeepAlive();const t=(0,Ms.Pz)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const n=fD(t,16384);n.length>1&&this.sendString_(String(n.length));for(let r=0;r<n.length;r++)this.sendString_(n[r])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(e){try{this.mySock.send(e)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return e.responsesRequiredToBeHealthy=2,e.healthyTimeout=3e4,e})(),LD=(()=>{class e{constructor(e){this.initTransports_(e)}static get ALL_TRANSPORTS(){return[DD,FD]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=FD&&FD.isAvailable();let r=n&&!FD.previouslyFailed();if(t.webSocketOnly&&(n||oD("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[FD];else{const t=this.transports_=[];for(const n of e.ALL_TRANSPORTS)n&&n.isAvailable()&&t.push(n);e.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return e.globalTransportInitialized_=!1,e})();class qD{constructor(e,t,n,r,i,o,s,a,c,l){this.id=e,this.repoInfo_=t,this.applicationId_=n,this.appCheckToken_=r,this.authToken_=i,this.onMessage_=o,this.onReady_=s,this.onDisconnect_=a,this.onKill_=c,this.lastSessionId=l,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=nD("c:"+this.id+":"),this.transportManager_=new LD(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,n)},Math.floor(0));const r=e.healthyTimeout||0;r>0&&(this.healthyTimeout_=bD(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(r)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=hD("t",e),n=hD("d",e);if("c"===t)this.onSecondaryControl_(n);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(n)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=hD("t",e),n=hD("d",e);"c"===t?this.onControl_(n):"d"===t&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=hD("t",e);if("d"in e){const n=e.d;if("h"===t)this.onHandshake_(n);else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let e=0;e<this.pendingDataMessages.length;++e)this.onDataMessage_(this.pendingDataMessages[e]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(n):"r"===t?this.onReset_(n):"e"===t?rD("Server Error: "+n):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):rD("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,n=e.v,r=e.h;this.sessionId=e.s,this.repoInfo_.host=r,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==n&&oD("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,n),bD(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):bD(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==e&&this.rx_!==e||this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&($A.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class UD{put(e,t,n,r){}merge(e,t,n,r){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,n){}onDisconnectMerge(e,t,n){}onDisconnectCancel(e,t){}reportStats(e){}}class VD{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,Ms.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let e=0;e<n.length;e++)n[e].callback.apply(n[e].context,t)}}on(e,t,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:n});const r=this.getInitialEvent(e);r&&t.apply(n,r)}off(e,t,n){this.validateEventType_(e);const r=this.listeners_[e]||[];for(let i=0;i<r.length;i++)if(r[i].callback===t&&(!n||n===r[i].context))return void r.splice(i,1)}validateEventType_(e){(0,Ms.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class ZD extends VD{constructor(){super(["online"]),this.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||(0,Ms.uI)()||(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ZD}getInitialEvent(e){return(0,Ms.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class jD{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let t=0;for(let e=0;e<this.pieces_.length;e++)this.pieces_[e].length>0&&(this.pieces_[t]=this.pieces_[e],t++);this.pieces_.length=t,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function BD(){return new jD("")}function zD(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function HD(e){return e.pieces_.length-e.pieceNum_}function $D(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new jD(e.pieces_,t)}function GD(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function WD(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function KD(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new jD(t,0)}function YD(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof jD)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const e=t.split("/");for(let t=0;t<e.length;t++)e[t].length>0&&n.push(e[t])}return new jD(n,0)}function QD(e){return e.pieceNum_>=e.pieces_.length}function JD(e,t){const n=zD(e),r=zD(t);if(null===n)return t;if(n===r)return JD($D(e),$D(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function XD(e,t){const n=WD(e,0),r=WD(t,0);for(let i=0;i<n.length&&i<r.length;i++){const e=lD(n[i],r[i]);if(0!==e)return e}return n.length===r.length?0:n.length<r.length?-1:1}function eN(e,t){if(HD(e)!==HD(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function tN(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(HD(e)>HD(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class nN{constructor(e,t){this.errorPrefix_=t,this.parts_=WD(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=(0,Ms.ug)(this.parts_[n]);rN(this)}}function rN(e){if(e.byteLength_>768)throw new Error(e.errorPrefix_+"has a key path longer than 768 bytes ("+e.byteLength_+").");if(e.parts_.length>32)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+iN(e))}function iN(e){return 0===e.parts_.length?"":"in property '"+e.parts_.join(".")+"'"}class oN extends VD{constructor(){let e,t;super(["visible"]),"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(t="visibilitychange",e="hidden"):void 0!==document.mozHidden?(t="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(t="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const t=!document[e];t!==this.visible_&&(this.visible_=t,this.trigger("visible",t))},!1)}static getInstance(){return new oN}getInitialEvent(e){return(0,Ms.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const sN=1e3;let aN,cN=(()=>{class e extends UD{constructor(t,n,r,i,o,s,a,c){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=o,this.authTokenProvider_=s,this.appCheckTokenProvider_=a,this.authOverride_=c,this.id=e.nextPersistentConnectionId_++,this.log_=nD("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=sN,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,c&&!(0,Ms.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");oN.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&ZD.getInstance().on("online",this.onOnline_,this)}sendRequest(e,t,n){const r=++this.requestNumber_,i={r:r,a:e,b:t};this.log_((0,Ms.Pz)(i)),(0,Ms.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)}get(e){this.initConnection_();const t=new Ms.BH,n={p:e._path.toString(),q:e._queryObject},r={action:"g",request:n,onComplete:e=>{const r=e.d;"ok"===e.s?(this.onDataUpdate_(n.p,r,!1,null),t.resolve(r)):t.reject(r)}};this.outstandingGets_.push(r),this.outstandingGetCount_++;const i=this.outstandingGets_.length-1;return this.connected_||setTimeout(()=>{const e=this.outstandingGets_[i];void 0!==e&&r===e&&(delete this.outstandingGets_[i],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),this.log_("get "+i+" timed out on connection"),t.reject(new Error("Client is offline.")))},3e3),this.connected_&&this.sendGet_(i),t.promise}listen(e,t,n,r){this.initConnection_();const i=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),(0,Ms.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,Ms.hu)(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");const s={onComplete:r,hashFn:t,query:e,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)}sendGet_(e){const t=this.outstandingGets_[e];this.sendRequest("g",t.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),t.onComplete&&t.onComplete(n)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const o={p:r};t.tag&&(o.q=n._queryObject,o.t=t.tag),o.h=t.hashFn(),this.sendRequest("q",o,o=>{const s=o.d,a=o.s;e.warnOnListenWarnings_(s,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",o),"ok"!==a&&this.removeListen_(r,i),t.onComplete&&t.onComplete(a,s))})}static warnOnListenWarnings_(e,t){if(e&&"object"==typeof e&&(0,Ms.r3)(e,"w")){const n=(0,Ms.DV)(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const e='".indexOn": "'+t._queryParams.getIndex().toString()+'"',n=t._path.toString();oD(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${e} at ${n} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&40===e.length||(0,Ms.GJ)(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,t=(0,Ms.w9)(e)?"auth":"gauth",n={cred:e};null===this.authOverride_?n.noauth=!0:"object"==typeof this.authOverride_&&(n.authvar=this.authOverride_),this.sendRequest(t,n,t=>{const n=t.s,r=t.d||"error";this.authToken_===e&&("ok"===n?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(n,r))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const t=e.s,n=e.d||"error";"ok"===t?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(t,n)})}unlisten(e,t){const n=e._path.toString(),r=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+r),(0,Ms.hu)(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,e._queryObject,t)}sendUnlisten_(e,t,n,r){this.log_("Unlisten on "+e+" for "+t);const i={p:e};r&&(i.q=n,i.t=r),this.sendRequest("n",i)}onDisconnectPut(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:t,onComplete:n})}onDisconnectMerge(e,t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,t,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:t,onComplete:n})}onDisconnectCancel(e,t){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,t):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:t})}sendOnDisconnect_(e,t,n,r){const i={p:t,d:n};this.log_("onDisconnect "+e,i),this.sendRequest(e,i,e=>{r&&setTimeout(()=>{r(e.s,e.d)},Math.floor(0))})}put(e,t,n,r){this.putInternal("p",e,t,n,r)}merge(e,t,n,r){this.putInternal("m",e,t,n,r)}putInternal(e,t,n,r,i){this.initConnection_();const o={p:t,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:e,request:o,onComplete:r}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+t)}sendPut_(e){const t=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,r=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(t,n,n=>{this.log_(t+" response",n),delete this.outstandingPuts_[e],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),r&&r(n.s,n.d)})}reportStats(e){if(this.connected_){const t={c:e};this.log_("reportStats",t),this.sendRequest("s",t,e=>{"ok"!==e.s&&this.log_("reportStats","Error sending stats: "+e.d)})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+(0,Ms.Pz)(e));const t=e.r,n=this.requestCBHash_[t];n&&(delete this.requestCBHash_[t],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,t){this.log_("handleServerMessage",e,t),"d"===e?this.onDataUpdate_(t.p,t.d,!1,t.t):"m"===e?this.onDataUpdate_(t.p,t.d,!0,t.t):"c"===e?this.onListenRevoked_(t.p,t.q):"ac"===e?this.onAuthRevoked_(t.s,t.d):"apc"===e?this.onAppCheckRevoked_(t.s,t.d):"sd"===e?this.onSecurityDebugPacket_(t):rD("Unrecognized action received from server: "+(0,Ms.Pz)(e)+"\nAre you using the latest client?")}onReady_(e,t){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(e),this.lastSessionId=t,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){(0,Ms.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=sN,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=sN,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=sN),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const e=(new Date).getTime()-this.lastConnectionAttemptTime_;let t=Math.max(0,this.reconnectDelay_-e);t=Math.random()*t,this.log_("Trying to reconnect in "+t+"ms"),this.scheduleConnect_(t),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Os.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const n=t.onDataMessage_.bind(t),r=t.onReady_.bind(t),i=t.onRealtimeDisconnect_.bind(t),o=t.id+":"+e.nextConnectionId_++,s=t.lastSessionId;let a=!1,c=null;const l=function(){c?c.close():(a=!0,i())};t.realtime_={close:l,sendRequest:function(e){(0,Ms.hu)(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(e)}};const u=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[e,l]=yield Promise.all([t.authTokenProvider_.getToken(u),t.appCheckTokenProvider_.getToken(u)]);a?tD("getToken() completed but was canceled"):(tD("getToken() completed. Creating connection."),t.authToken_=e&&e.accessToken,t.appCheckToken_=l&&l.token,c=new qD(o,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,n,r,i,e=>{oD(e+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},s))}catch(rD){t.log_("Failed to get token: "+rD),a||(t.repoInfo_.nodeAdmin&&oD(rD),l())}}})()}interrupt(e){tD("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){tD("Resuming connection for reason: "+e),delete this.interruptReasons_[e],(0,Ms.xb)(this.interruptReasons_)&&(this.reconnectDelay_=sN,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const t=e-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:t})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const t=this.outstandingPuts_[e];t&&"h"in t.request&&t.queued&&(t.onComplete&&t.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(e,t){let n;n=t?t.map(e=>dD(e)).join("$"):"default";const r=this.removeListen_(e,n);r&&r.onComplete&&r.onComplete("permission_denied")}removeListen_(e,t){const n=new jD(e).toString();let r;if(this.listens.has(n)){const e=this.listens.get(n);r=e.get(t),e.delete(t),0===e.size&&this.listens.delete(n)}else r=void 0;return r}onAuthRevoked_(e,t){tD("Auth token revoked: "+e+"/"+t),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,t){tD("App check token revoked: "+e+"/"+t),this.appCheckToken_=null,this.forceTokenRefresh_=!0,"invalid_token"!==e&&"permission_denied"!==e||(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const t of e.values())this.sendListen_(t);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let t="js";(0,Ms.Yr)()&&(t=this.repoInfo_.nodeAdmin?"admin_node":"node"),e["sdk."+t+"."+ZA.replace(/\./g,"-")]=1,(0,Ms.uI)()?e["framework.cordova"]=1:(0,Ms.b$)()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=ZD.getInstance().currentlyOnline();return(0,Ms.xb)(this.interruptReasons_)&&e}}return e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e})();class lN{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new lN(e,t)}}class uN{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const n=new lN(aD,e),r=new lN(aD,t);return 0!==this.compare(n,r)}minPost(){return lN.MIN}}class hN extends uN{static get __EMPTY_NODE(){return aN}static set __EMPTY_NODE(e){aN=e}compare(e,t){return lD(e.name,t.name)}isDefinedOn(e){throw(0,Ms.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return lN.MIN}maxPost(){return new lN(cD,aN)}makePost(e,t){return(0,Ms.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new lN(e,aN)}toString(){return".key"}}const dN=new hN;class fN{constructor(e,t,n,r,i=null){this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=t?n(e.key,t):1,r&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let e,t=this.nodeStack_.pop();if(e=this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return e}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let pN,gN=(()=>{class e{constructor(t,n,r,i,o){this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:mN.EMPTY_NODE,this.right=null!=o?o:mN.EMPTY_NODE}copy(t,n,r,i,o){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp_()}removeMin_(){if(this.left.isEmpty())return mN.EMPTY_NODE;let e=this;return e.left.isRed_()||e.left.left.isRed_()||(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,t){let n,r;if(n=this,t(e,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,t),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===t(e,n.key)){if(n.right.isEmpty())return mN.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,t))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}return e.RED=!0,e.BLACK=!1,e})();class mN{constructor(e,t=mN.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new mN(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,gN.BLACK,null,null))}remove(e){return new mN(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,gN.BLACK,null,null))}get(e){let t,n=this.root_;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t)return n.value;t<0?n=n.left:t>0&&(n=n.right)}return null}getPredecessorKey(e){let t,n=this.root_,r=null;for(;!n.isEmpty();){if(t=this.comparator_(e,n.key),0===t){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}t<0?n=n.left:t>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new fN(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new fN(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new fN(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new fN(this.root_,null,this.comparator_,!0,e)}}function _N(e,t){return lD(e.name,t.name)}function yN(e,t){return lD(e,t)}mN.EMPTY_NODE=new class{copy(e,t,n,r,i){return this}insert(e,t,n){return new gN(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const bN=function(e){return"number"==typeof e?"number:"+gD(e):"string:"+e},vN=function(e){if(e.isLeafNode()){const t=e.val();(0,Ms.hu)("string"==typeof t||"number"==typeof t||"object"==typeof t&&(0,Ms.r3)(t,".sv"),"Priority must be a string or number.")}else(0,Ms.hu)(e===pN||e.isEmpty(),"priority of unexpected type.");(0,Ms.hu)(e===pN||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let wN,CN,ON,PN=(()=>{class e{constructor(t,n=e.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,(0,Ms.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),vN(this.priorityNode_)}static set __childrenNodeConstructor(e){wN=e}static get __childrenNodeConstructor(){return wN}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new e(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return QD(t)?this:".priority"===zD(t)?this.priorityNode_:e.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,t){return null}updateImmediateChild(t,n){return".priority"===t?this.updatePriority(n):n.isEmpty()&&".priority"!==t?this:e.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=zD(t);return null===r?n:n.isEmpty()&&".priority"!==r?this:((0,Ms.hu)(".priority"!==r||1===HD(t),".priority must be the last token in a path"),this.updateImmediateChild(r,e.__childrenNodeConstructor.EMPTY_NODE.updateChild($D(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,t){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+bN(this.priorityNode_.val())+":");const t=typeof this.value_;e+=t+":",e+="number"===t?gD(this.value_):this.value_,this.lazyHash_=YA(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===e.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof e.__childrenNodeConstructor?-1:((0,Ms.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=e.VALUE_TYPE_ORDER.indexOf(n),o=e.VALUE_TYPE_ORDER.indexOf(r);return(0,Ms.hu)(i>=0,"Unknown leaf type: "+n),(0,Ms.hu)(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:o-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const t=e;return this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_)}return!1}}return e.VALUE_TYPE_ORDER=["object","boolean","number","string"],e})();const TN=new class extends uN{compare(e,t){const n=e.node.getPriority(),r=t.node.getPriority(),i=n.compareTo(r);return 0===i?lD(e.name,t.name):i}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return lN.MIN}maxPost(){return new lN(cD,new PN("[PRIORITY-POST]",ON))}makePost(e,t){const n=CN(e);return new lN(t,new PN("[PRIORITY-POST]",n))}toString(){return".priority"}},MN=Math.log(2);class SN{constructor(e){this.count=parseInt(Math.log(e+1)/MN,10),this.current_=this.count-1;const t=parseInt(Array(this.count+1).join("1"),2);this.bits_=e+1&t}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const IN=function(e,t,n,r){e.sort(t);const i=function(t,r){const o=r-t;let s,a;if(0===o)return null;if(1===o)return s=e[t],a=n?n(s):s,new gN(a,s.node,gN.BLACK,null,null);{const c=parseInt(o/2,10)+t,l=i(t,c),u=i(c+1,r);return s=e[c],a=n?n(s):s,new gN(a,s.node,gN.BLACK,l,u)}},o=function(t){let r=null,o=null,s=e.length;const a=function(t,r){const o=s-t,a=s;s-=t;const l=i(o+1,a),u=e[o],h=n?n(u):u;c(new gN(h,u.node,r,null,l))},c=function(e){r?(r.left=e,r=e):(o=e,r=e)};for(let e=0;e<t.count;++e){const n=t.nextBitIsOne(),r=Math.pow(2,t.count-(e+1));n?a(r,gN.BLACK):(a(r,gN.BLACK),a(r,gN.RED))}return o}(new SN(e.length));return new mN(r||t,o)};let kN;const EN={};class xN{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,Ms.hu)(EN&&TN,"ChildrenNode.ts has not been loaded"),kN=kN||new xN({".priority":EN},{".priority":TN}),kN}get(e){const t=(0,Ms.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof mN?t:null}hasIndex(e){return(0,Ms.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,Ms.hu)(e!==dN,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let r=!1;const i=t.getIterator(lN.Wrap);let o,s=i.getNext();for(;s;)r=r||e.isDefinedOn(s.node),n.push(s),s=i.getNext();o=r?IN(n,e.getCompare()):EN;const a=e.toString(),c=Object.assign({},this.indexSet_);c[a]=e;const l=Object.assign({},this.indexes_);return l[a]=o,new xN(l,c)}addToIndexes(e,t){const n=(0,Ms.UI)(this.indexes_,(n,r)=>{const i=(0,Ms.DV)(this.indexSet_,r);if((0,Ms.hu)(i,"Missing index implementation for "+r),n===EN){if(i.isDefinedOn(e.node)){const n=[],r=t.getIterator(lN.Wrap);let o=r.getNext();for(;o;)o.name!==e.name&&n.push(o),o=r.getNext();return n.push(e),IN(n,i.getCompare())}return EN}{const r=t.get(e.name);let i=n;return r&&(i=i.remove(new lN(e.name,r))),i.insert(e,e.node)}});return new xN(n,this.indexSet_)}removeFromIndexes(e,t){const n=(0,Ms.UI)(this.indexes_,n=>{if(n===EN)return n;{const r=t.get(e.name);return r?n.remove(new lN(e.name,r)):n}});return new xN(n,this.indexSet_)}}let AN,DN=(()=>{class e{constructor(e,t,n){this.children_=e,this.priorityNode_=t,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&vN(this.priorityNode_),this.children_.isEmpty()&&(0,Ms.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return AN||(AN=new e(new mN(yN),null,xN.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||AN}updatePriority(t){return this.children_.isEmpty()?this:new e(this.children_,t,this.indexMap_)}getImmediateChild(e){if(".priority"===e)return this.getPriority();{const t=this.children_.get(e);return null===t?AN:t}}getChild(e){const t=zD(e);return null===t?this:this.getImmediateChild(t).getChild($D(e))}hasChild(e){return null!==this.children_.get(e)}updateImmediateChild(t,n){if((0,Ms.hu)(n,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(n);{const r=new lN(t,n);let i,o;n.isEmpty()?(i=this.children_.remove(t),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),o=this.indexMap_.addToIndexes(r,this.children_));const s=i.isEmpty()?AN:this.priorityNode_;return new e(i,s,o)}}updateChild(e,t){const n=zD(e);if(null===n)return t;{(0,Ms.hu)(".priority"!==zD(e)||1===HD(e),".priority must be the last token in a path");const r=this.getImmediateChild(n).updateChild($D(e),t);return this.updateImmediateChild(n,r)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,o=!0;if(this.forEachChild(TN,(s,a)=>{n[s]=a.val(t),r++,o&&e.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1}),!t&&o&&i<2*r){const e=[];for(const t in n)e[t]=n[t];return e}return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(null===this.lazyHash_){let e="";this.getPriority().isEmpty()||(e+="priority:"+bN(this.getPriority().val())+":"),this.forEachChild(TN,(t,n)=>{const r=n.hash();""!==r&&(e+=":"+t+":"+r)}),this.lazyHash_=""===e?"":YA(e)}return this.lazyHash_}getPredecessorChildName(e,t,n){const r=this.resolveIndex_(n);if(r){const n=r.getPredecessorKey(new lN(e,t));return n?n.name:null}return this.children_.getPredecessorKey(e)}getFirstChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.minKey();return e&&e.name}return this.children_.minKey()}getFirstChild(e){const t=this.getFirstChildName(e);return t?new lN(t,this.children_.get(t)):null}getLastChildName(e){const t=this.resolveIndex_(e);if(t){const e=t.maxKey();return e&&e.name}return this.children_.maxKey()}getLastChild(e){const t=this.getLastChildName(e);return t?new lN(t,this.children_.get(t)):null}forEachChild(e,t){const n=this.resolveIndex_(e);return n?n.inorderTraversal(e=>t(e.name,e.node)):this.children_.inorderTraversal(t)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getIteratorFrom(e,e=>e);{const n=this.children_.getIteratorFrom(e.name,lN.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)<0;)n.getNext(),r=n.peek();return n}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,t){const n=this.resolveIndex_(t);if(n)return n.getReverseIteratorFrom(e,e=>e);{const n=this.children_.getReverseIteratorFrom(e.name,lN.Wrap);let r=n.peek();for(;null!=r&&t.compare(r,e)>0;)n.getNext(),r=n.peek();return n}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===NN?-1:0}withIndex(t){if(t===dN||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new e(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===dN||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const t=e;if(this.getPriority().equals(t.getPriority())){if(this.children_.count()===t.children_.count()){const e=this.getIterator(TN),n=t.getIterator(TN);let r=e.getNext(),i=n.getNext();for(;r&&i;){if(r.name!==i.name||!r.node.equals(i.node))return!1;r=e.getNext(),i=n.getNext()}return null===r&&null===i}return!1}return!1}}resolveIndex_(e){return e===dN?null:this.indexMap_.get(e.toString())}}return e.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,e})();const NN=new class extends DN{constructor(){super(new mN(yN),DN.EMPTY_NODE,xN.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return DN.EMPTY_NODE}isEmpty(){return!1}};function RN(e,t=null){if(null===e)return DN.EMPTY_NODE;if("object"==typeof e&&".priority"in e&&(t=e[".priority"]),(0,Ms.hu)(null===t||"string"==typeof t||"number"==typeof t||"object"==typeof t&&".sv"in t,"Invalid priority type found: "+typeof t),"object"==typeof e&&".value"in e&&null!==e[".value"]&&(e=e[".value"]),"object"!=typeof e||".sv"in e)return new PN(e,RN(t));if(e instanceof Array){let n=DN.EMPTY_NODE;return pD(e,(t,r)=>{if((0,Ms.r3)(e,t)&&"."!==t.substring(0,1)){const e=RN(r);!e.isLeafNode()&&e.isEmpty()||(n=n.updateImmediateChild(t,e))}}),n.updatePriority(RN(t))}{const n=[];let r=!1;if(pD(e,(e,t)=>{if("."!==e.substring(0,1)){const i=RN(t);i.isEmpty()||(r=r||!i.getPriority().isEmpty(),n.push(new lN(e,i)))}}),0===n.length)return DN.EMPTY_NODE;const i=IN(n,_N,e=>e.name,yN);if(r){const e=IN(n,TN.getCompare());return new DN(i,RN(t),new xN({".priority":e},{".priority":TN}))}return new DN(i,RN(t),xN.Default)}}Object.defineProperties(lN,{MIN:{value:new lN(aD,DN.EMPTY_NODE)},MAX:{value:new lN(cD,NN)}}),hN.__EMPTY_NODE=DN.EMPTY_NODE,PN.__childrenNodeConstructor=DN,pN=NN,ON=NN,CN=RN;class FN extends uN{constructor(e){super(),this.indexPath_=e,(0,Ms.hu)(!QD(e)&&".priority"!==zD(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const n=this.extractChild(e.node),r=this.extractChild(t.node),i=n.compareTo(r);return 0===i?lD(e.name,t.name):i}makePost(e,t){const n=RN(e),r=DN.EMPTY_NODE.updateChild(this.indexPath_,n);return new lN(t,r)}maxPost(){const e=DN.EMPTY_NODE.updateChild(this.indexPath_,NN);return new lN(cD,e)}toString(){return WD(this.indexPath_,0).join("/")}}const LN=new class extends uN{compare(e,t){const n=e.node.compareTo(t.node);return 0===n?lD(e.name,t.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return lN.MIN}maxPost(){return lN.MAX}makePost(e,t){const n=RN(e);return new lN(t,n)}toString(){return".value"}},qN="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",UN=function(){let e=0;const t=[];return function(n){const r=n===e;let i;e=n;const o=new Array(8);for(i=7;i>=0;i--)o[i]=qN.charAt(n%64),n=Math.floor(n/64);(0,Ms.hu)(0===n,"Cannot push at time == 0");let s=o.join("");if(r){for(i=11;i>=0&&63===t[i];i--)t[i]=0;t[i]++}else for(i=0;i<12;i++)t[i]=Math.floor(64*Math.random());for(i=0;i<12;i++)s+=qN.charAt(t[i]);return(0,Ms.hu)(20===s.length,"nextPushId: Length should be 20."),s}}(),VN=function(e){if("2147483647"===e)return"-";const t=_D(e);if(null!=t)return""+(t+1);const n=new Array(e.length);for(let o=0;o<n.length;o++)n[o]=e.charAt(o);if(n.length<786)return n.push("-"),n.join("");let r=n.length-1;for(;r>=0&&"z"===n[r];)r--;if(-1===r)return cD;const i=qN.charAt(qN.indexOf(n[r])+1);return n[r]=i,n.slice(0,r+1).join("")},ZN=function(e){if("-2147483648"===e)return aD;const t=_D(e);if(null!=t)return""+(t-1);const n=new Array(e.length);for(let r=0;r<n.length;r++)n[r]=e.charAt(r);return"-"===n[n.length-1]?1===n.length?"2147483647":(delete n[n.length-1],n.join("")):(n[n.length-1]=qN.charAt(qN.indexOf(n[n.length-1])-1),n.join("")+"z".repeat(786-n.length))};function jN(e){return{type:"value",snapshotNode:e}}function BN(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function zN(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function HN(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}class $N{constructor(e){this.index_=e}updateChild(e,t,n,r,i,o){(0,Ms.hu)(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const s=e.getImmediateChild(t);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?e:(null!=o&&(n.isEmpty()?e.hasChild(t)?o.trackChildChange(zN(t,s)):(0,Ms.hu)(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(BN(t,n)):o.trackChildChange(HN(t,n,s))),e.isLeafNode()&&n.isEmpty()?e:e.updateImmediateChild(t,n).withIndex(this.index_))}updateFullNode(e,t,n){return null!=n&&(e.isLeafNode()||e.forEachChild(TN,(e,r)=>{t.hasChild(e)||n.trackChildChange(zN(e,r))}),t.isLeafNode()||t.forEachChild(TN,(t,r)=>{if(e.hasChild(t)){const i=e.getImmediateChild(t);i.equals(r)||n.trackChildChange(HN(t,r,i))}else n.trackChildChange(BN(t,r))})),t.withIndex(this.index_)}updatePriority(e,t){return e.isEmpty()?DN.EMPTY_NODE:e.updatePriority(t)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}class GN{constructor(e){this.indexedFilter_=new $N(e.getIndex()),this.index_=e.getIndex(),this.startPost_=GN.getStartPost_(e),this.endPost_=GN.getEndPost_(e)}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){return this.index_.compare(this.getStartPost(),e)<=0&&this.index_.compare(e,this.getEndPost())<=0}updateChild(e,t,n,r,i,o){return this.matches(new lN(t,n))||(n=DN.EMPTY_NODE),this.indexedFilter_.updateChild(e,t,n,r,i,o)}updateFullNode(e,t,n){t.isLeafNode()&&(t=DN.EMPTY_NODE);let r=t.withIndex(this.index_);r=r.updatePriority(DN.EMPTY_NODE);const i=this;return t.forEachChild(TN,(e,t)=>{i.matches(new lN(e,t))||(r=r.updateImmediateChild(e,DN.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const t=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),t)}return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const t=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),t)}return e.getIndex().maxPost()}}class WN{constructor(e){this.rangedFilter_=new GN(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft()}updateChild(e,t,n,r,i,o){return this.rangedFilter_.matches(new lN(t,n))||(n=DN.EMPTY_NODE),e.getImmediateChild(t).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,t,n,r,i,o):this.fullLimitUpdateChild_(e,t,n,i,o)}updateFullNode(e,t,n){let r;if(t.isLeafNode()||t.isEmpty())r=DN.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<t.numChildren()&&t.isIndexed(this.index_)){let e;r=DN.EMPTY_NODE.withIndex(this.index_),e=this.reverse_?t.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):t.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let n=0;for(;e.hasNext()&&n<this.limit_;){const t=e.getNext();let i;if(i=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),t)<=0:this.index_.compare(t,this.rangedFilter_.getEndPost())<=0,!i)break;r=r.updateImmediateChild(t.name,t.node),n++}}else{let e,n,i,o;if(r=t.withIndex(this.index_),r=r.updatePriority(DN.EMPTY_NODE),this.reverse_){o=r.getReverseIterator(this.index_),e=this.rangedFilter_.getEndPost(),n=this.rangedFilter_.getStartPost();const t=this.index_.getCompare();i=(e,n)=>t(n,e)}else o=r.getIterator(this.index_),e=this.rangedFilter_.getStartPost(),n=this.rangedFilter_.getEndPost(),i=this.index_.getCompare();let s=0,a=!1;for(;o.hasNext();){const t=o.getNext();!a&&i(e,t)<=0&&(a=!0),a&&s<this.limit_&&i(t,n)<=0?s++:r=r.updateImmediateChild(t.name,DN.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,r,n)}updatePriority(e,t){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,t,n,r,i){let o;if(this.reverse_){const e=this.index_.getCompare();o=(t,n)=>e(n,t)}else o=this.index_.getCompare();const s=e;(0,Ms.hu)(s.numChildren()===this.limit_,"");const a=new lN(t,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),l=this.rangedFilter_.matches(a);if(s.hasChild(t)){const e=s.getImmediateChild(t);let u=r.getChildAfterChild(this.index_,c,this.reverse_);for(;null!=u&&(u.name===t||s.hasChild(u.name));)u=r.getChildAfterChild(this.index_,u,this.reverse_);const h=null==u?1:o(u,a);if(l&&!n.isEmpty()&&h>=0)return null!=i&&i.trackChildChange(HN(t,n,e)),s.updateImmediateChild(t,n);{null!=i&&i.trackChildChange(zN(t,e));const n=s.updateImmediateChild(t,DN.EMPTY_NODE);return null!=u&&this.rangedFilter_.matches(u)?(null!=i&&i.trackChildChange(BN(u.name,u.node)),n.updateImmediateChild(u.name,u.node)):n}}return n.isEmpty()?e:l&&o(c,a)>=0?(null!=i&&(i.trackChildChange(zN(c.name,c.node)),i.trackChildChange(BN(t,n))),s.updateImmediateChild(t,n).updateImmediateChild(c.name,DN.EMPTY_NODE)):e}}class KN{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=TN}hasStart(){return this.startSet_}hasStartAfter(){return this.startAfterSet_}hasEndBefore(){return this.endBeforeSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,Ms.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,Ms.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:aD}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,Ms.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,Ms.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:cD}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,Ms.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===TN}copy(){const e=new KN;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function YN(e,t,n){const r=e.copy();return r.startSet_=!0,void 0===t&&(t=null),r.indexStartValue_=t,null!=n?(r.startNameSet_=!0,r.indexStartName_=n):(r.startNameSet_=!1,r.indexStartName_=""),r}function QN(e,t,n){const r=e.copy();return r.endSet_=!0,void 0===t&&(t=null),r.indexEndValue_=t,void 0!==n?(r.endNameSet_=!0,r.indexEndName_=n):(r.endNameSet_=!1,r.indexEndName_=""),r}function JN(e,t){const n=e.copy();return n.index_=t,n}function XN(e){const t={};if(e.isDefault())return t;let n;return e.index_===TN?n="$priority":e.index_===LN?n="$value":e.index_===dN?n="$key":((0,Ms.hu)(e.index_ instanceof FN,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=(0,Ms.Pz)(n),e.startSet_&&(t.startAt=(0,Ms.Pz)(e.indexStartValue_),e.startNameSet_&&(t.startAt+=","+(0,Ms.Pz)(e.indexStartName_))),e.endSet_&&(t.endAt=(0,Ms.Pz)(e.indexEndValue_),e.endNameSet_&&(t.endAt+=","+(0,Ms.Pz)(e.indexEndName_))),e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function eR(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_)),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_)),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;""===n&&(n=e.isViewFromLeft()?"l":"r"),t.vf=n}return e.index_!==TN&&(t.i=e.index_.toString()),t}class tR extends UD{constructor(e,t,n,r){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=n,this.appCheckTokenProvider_=r,this.log_=nD("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,Ms.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,n,r){const i=e._path.toString();this.log_("Listen called for "+i+" "+e._queryIdentifier);const o=tR.getListenId_(e,n),s={};this.listens_[o]=s;const a=XN(e._queryParams);this.restRequest_(i+".json",a,(e,t)=>{let a=t;if(404===e&&(a=null,e=null),null===e&&this.onDataUpdate_(i,a,!1,n),(0,Ms.DV)(this.listens_,o)===s){let t;t=e?401===e?"permission_denied":"rest_error:"+e:"ok",r(t,null)}})}unlisten(e,t){const n=tR.getListenId_(e,t);delete this.listens_[n]}get(e){const t=XN(e._queryParams),n=e._path.toString(),r=new Ms.BH;return this.restRequest_(n+".json",t,(e,t)=>{let i=t;404===e&&(i=null,e=null),null===e?(this.onDataUpdate_(n,i,!1,null),r.resolve(i)):r.reject(new Error(i))}),r.promise}refreshAuthToken(e){}restRequest_(e,t={},n){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([r,i])=>{r&&r.accessToken&&(t.auth=r.accessToken),i&&i.token&&(t.ac=i.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,Ms.xO)(t);this.log_("Sending REST request for "+o);const s=new XMLHttpRequest;s.onreadystatechange=()=>{if(n&&4===s.readyState){this.log_("REST Response for "+o+" received. status:",s.status,"response:",s.responseText);let t=null;if(s.status>=200&&s.status<300){try{t=(0,Ms.cI)(s.responseText)}catch(e){oD("Failed to parse JSON response for "+o+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&oD("Got unsuccessful REST response for "+o+" Status: "+s.status),n(s.status);n=null}},s.open("GET",o,!0),s.send()})}}class nR{constructor(){this.rootNode_=DN.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function rR(){return{value:null,children:new Map}}function iR(e,t,n){if(QD(t))e.value=n,e.children.clear();else if(null!==e.value)e.value=e.value.updateChild(t,n);else{const r=zD(t);e.children.has(r)||e.children.set(r,rR()),iR(e.children.get(r),t=$D(t),n)}}function oR(e,t){if(QD(t))return e.value=null,e.children.clear(),!0;if(null!==e.value){if(e.value.isLeafNode())return!1;{const n=e.value;return e.value=null,n.forEachChild(TN,(t,n)=>{iR(e,new jD(t),n)}),oR(e,t)}}if(e.children.size>0){const n=zD(t);return t=$D(t),e.children.has(n)&&oR(e.children.get(n),t)&&e.children.delete(n),0===e.children.size}return!0}function sR(e,t,n){null!==e.value?n(t,e.value):function(e,t){e.children.forEach((e,n)=>{t(n,e)})}(e,(e,r)=>{sR(r,new jD(t.toString()+"/"+e),n)})}class aR{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&pD(this.last_,(e,n)=>{t[e]=t[e]-n}),this.last_=e,t}}class cR{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new aR(e);const n=1e4+2e4*Math.random();bD(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),t={};let n=!1;pD(e,(e,r)=>{r>0&&(0,Ms.r3)(this.statsToReport_,e)&&(t[e]=r,n=!0)}),n&&this.server_.reportStats(t),bD(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var lR=(()=>(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(lR||(lR={})),lR))();function uR(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}class hR{constructor(e,t,n){this.path=e,this.affectedTree=t,this.revert=n,this.type=lR.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(QD(this.path)){if(null!=this.affectedTree.value)return(0,Ms.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new jD(e));return new hR(BD(),t,this.revert)}}return(0,Ms.hu)(zD(this.path)===e,"operationForChild called for unrelated child."),new hR($D(this.path),this.affectedTree,this.revert)}}class dR{constructor(e,t){this.source=e,this.path=t,this.type=lR.LISTEN_COMPLETE}operationForChild(e){return QD(this.path)?new dR(this.source,BD()):new dR(this.source,$D(this.path))}}class fR{constructor(e,t,n){this.source=e,this.path=t,this.snap=n,this.type=lR.OVERWRITE}operationForChild(e){return QD(this.path)?new fR(this.source,BD(),this.snap.getImmediateChild(e)):new fR(this.source,$D(this.path),this.snap)}}class pR{constructor(e,t,n){this.source=e,this.path=t,this.children=n,this.type=lR.MERGE}operationForChild(e){if(QD(this.path)){const t=this.children.subtree(new jD(e));return t.isEmpty()?null:t.value?new fR(this.source,BD(),t.value):new pR(this.source,BD(),t)}return(0,Ms.hu)(zD(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new pR(this.source,$D(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class gR{constructor(e,t,n){this.node_=e,this.fullyInitialized_=t,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(QD(e))return this.isFullyInitialized()&&!this.filtered_;const t=zD(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}class mR{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function _R(e,t,n,r,i,o){const s=r.filter(e=>e.type===n);s.sort((t,n)=>function(e,t,n){if(null==t.childName||null==n.childName)throw(0,Ms.g5)("Should only compare child_ events.");const r=new lN(t.childName,t.snapshotNode),i=new lN(n.childName,n.snapshotNode);return e.index_.compare(r,i)}(e,t,n)),s.forEach(n=>{const r=function(e,t,n){return"value"===t.type||"child_removed"===t.type||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}(e,n,o);i.forEach(i=>{i.respondsTo(n.type)&&t.push(i.createEvent(r,e.query_))})})}function yR(e,t){return{eventCache:e,serverCache:t}}function bR(e,t,n,r){return yR(new gR(t,n,r),e.serverCache)}function vR(e,t,n,r){return yR(e.eventCache,new gR(t,n,r))}function wR(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function CR(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}let OR;class PR{constructor(e,t=(()=>(OR||(OR=new mN(uD)),OR))()){this.value=e,this.children=t}static fromObject(e){let t=new PR(null);return pD(e,(e,n)=>{t=t.set(new jD(e),n)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:BD(),value:this.value};if(QD(e))return null;{const n=zD(e),r=this.children.get(n);if(null!==r){const i=r.findRootMostMatchingPathAndValue($D(e),t);return null!=i?{path:YD(new jD(n),i.path),value:i.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(QD(e))return this;{const t=zD(e),n=this.children.get(t);return null!==n?n.subtree($D(e)):new PR(null)}}set(e,t){if(QD(e))return new PR(t,this.children);{const n=zD(e),r=(this.children.get(n)||new PR(null)).set($D(e),t),i=this.children.insert(n,r);return new PR(this.value,i)}}remove(e){if(QD(e))return this.children.isEmpty()?new PR(null):new PR(null,this.children);{const t=zD(e),n=this.children.get(t);if(n){const r=n.remove($D(e));let i;return i=r.isEmpty()?this.children.remove(t):this.children.insert(t,r),null===this.value&&i.isEmpty()?new PR(null):new PR(this.value,i)}return this}}get(e){if(QD(e))return this.value;{const t=zD(e),n=this.children.get(t);return n?n.get($D(e)):null}}setTree(e,t){if(QD(e))return t;{const n=zD(e),r=(this.children.get(n)||new PR(null)).setTree($D(e),t);let i;return i=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),new PR(this.value,i)}}fold(e){return this.fold_(BD(),e)}fold_(e,t){const n={};return this.children.inorderTraversal((r,i)=>{n[r]=i.fold_(YD(e,r),t)}),t(e,this.value,n)}findOnPath(e,t){return this.findOnPath_(e,BD(),t)}findOnPath_(e,t,n){const r=!!this.value&&n(t,this.value);if(r)return r;if(QD(e))return null;{const r=zD(e),i=this.children.get(r);return i?i.findOnPath_($D(e),YD(t,r),n):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,BD(),t)}foreachOnPath_(e,t,n){if(QD(e))return this;{this.value&&n(t,this.value);const r=zD(e),i=this.children.get(r);return i?i.foreachOnPath_($D(e),YD(t,r),n):new PR(null)}}foreach(e){this.foreach_(BD(),e)}foreach_(e,t){this.children.inorderTraversal((n,r)=>{r.foreach_(YD(e,n),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,n)=>{n.value&&e(t,n.value)})}}class TR{constructor(e){this.writeTree_=e}static empty(){return new TR(new PR(null))}}function MR(e,t,n){if(QD(t))return new TR(new PR(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(null!=r){const i=r.path;let o=r.value;const s=JD(i,t);return o=o.updateChild(s,n),new TR(e.writeTree_.set(i,o))}{const r=new PR(n),i=e.writeTree_.setTree(t,r);return new TR(i)}}}function SR(e,t,n){let r=e;return pD(n,(e,n)=>{r=MR(r,YD(t,e),n)}),r}function IR(e,t){if(QD(t))return TR.empty();{const n=e.writeTree_.setTree(t,new PR(null));return new TR(n)}}function kR(e,t){return null!=ER(e,t)}function ER(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return null!=n?e.writeTree_.get(n.path).getChild(JD(n.path,t)):null}function xR(e){const t=[],n=e.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(TN,(e,n)=>{t.push(new lN(e,n))}):e.writeTree_.children.inorderTraversal((e,n)=>{null!=n.value&&t.push(new lN(e,n.value))}),t}function AR(e,t){if(QD(t))return e;{const n=ER(e,t);return new TR(null!=n?new PR(n):e.writeTree_.subtree(t))}}function DR(e){return e.writeTree_.isEmpty()}function NR(e,t){return RR(BD(),e.writeTree_,t)}function RR(e,t,n){if(null!=t.value)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((t,i)=>{".priority"===t?((0,Ms.hu)(null!==i.value,"Priority writes must always be leaf nodes"),r=i.value):n=RR(YD(e,t),i,n)}),n.getChild(e).isEmpty()||null===r||(n=n.updateChild(YD(e,".priority"),r)),n}}function FR(e,t){return GR(t,e)}function LR(e,t){if(e.snap)return tN(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&tN(YD(e.path,n),t))return!0;return!1}function qR(e){return e.visible}function UR(e,t,n){let r=TR.empty();for(let i=0;i<e.length;++i){const o=e[i];if(t(o)){const e=o.path;let t;if(o.snap)tN(n,e)?(t=JD(n,e),r=MR(r,t,o.snap)):tN(e,n)&&(t=JD(e,n),r=MR(r,BD(),o.snap.getChild(t)));else{if(!o.children)throw(0,Ms.g5)("WriteRecord should have .snap or .children");if(tN(n,e))t=JD(n,e),r=SR(r,t,o.children);else if(tN(e,n))if(t=JD(e,n),QD(t))r=SR(r,BD(),o.children);else{const e=(0,Ms.DV)(o.children,zD(t));if(e){const n=e.getChild($D(t));r=MR(r,BD(),n)}}}}}return r}function VR(e,t,n,r,i){if(r||i){const o=AR(e.visibleWrites,t);return!i&&DR(o)?n:i||null!=n||kR(o,BD())?NR(UR(e.allWrites,function(e){return(e.visible||i)&&(!r||!~r.indexOf(e.writeId))&&(tN(e.path,t)||tN(t,e.path))},t),n||DN.EMPTY_NODE):null}{const r=ER(e.visibleWrites,t);if(null!=r)return r;{const r=AR(e.visibleWrites,t);return DR(r)?n:null!=n||kR(r,BD())?NR(r,n||DN.EMPTY_NODE):null}}}function ZR(e,t,n,r){return VR(e.writeTree,e.treePath,t,n,r)}function jR(e,t){return function(e,t,n){let r=DN.EMPTY_NODE;const i=ER(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(TN,(e,t)=>{r=r.updateImmediateChild(e,t)}),r;if(n){const i=AR(e.visibleWrites,t);return n.forEachChild(TN,(e,t)=>{const n=NR(AR(i,new jD(e)),t);r=r.updateImmediateChild(e,n)}),xR(i).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}return xR(AR(e.visibleWrites,t)).forEach(e=>{r=r.updateImmediateChild(e.name,e.node)}),r}(e.writeTree,e.treePath,t)}function BR(e,t,n,r){return function(e,t,n,r,i){(0,Ms.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const o=YD(t,n);if(kR(e.visibleWrites,o))return null;{const t=AR(e.visibleWrites,o);return DR(t)?i.getChild(n):NR(t,i.getChild(n))}}(e.writeTree,e.treePath,t,n,r)}function zR(e,t){return function(e,t){return ER(e.visibleWrites,t)}(e.writeTree,YD(e.treePath,t))}function HR(e,t,n){return function(e,t,n,r){const i=YD(t,n),o=ER(e.visibleWrites,i);return null!=o?o:r.isCompleteForChild(n)?NR(AR(e.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(e.writeTree,e.treePath,t,n)}function $R(e,t){return GR(YD(e.treePath,t),e.writeTree)}function GR(e,t){return{treePath:e,writeTree:t}}class WR{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,n=e.childName;(0,Ms.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,Ms.hu)(".priority"!==n,"Only non-priority child changes can be tracked.");const r=this.changeMap.get(n);if(r){const i=r.type;if("child_added"===t&&"child_removed"===i)this.changeMap.set(n,HN(n,e.snapshotNode,r.snapshotNode));else if("child_removed"===t&&"child_added"===i)this.changeMap.delete(n);else if("child_removed"===t&&"child_changed"===i)this.changeMap.set(n,zN(n,r.oldSnap));else if("child_changed"===t&&"child_added"===i)this.changeMap.set(n,BN(n,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==i)throw(0,Ms.g5)("Illegal combination of changes: "+e+" occurred after "+r);this.changeMap.set(n,HN(n,e.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}const KR=new class{getCompleteChild(e){return null}getChildAfterChild(e,t,n){return null}};class YR{constructor(e,t,n=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=n}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const t=null!=this.optCompleteServerCache_?new gR(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return HR(this.writes_,e,t)}}getChildAfterChild(e,t,n){const r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:CR(this.viewCache_),i=function(e,t,n,r,i,o){return function(e,t,n,r,i,o,s){let a;const c=AR(e.visibleWrites,t),l=ER(c,BD());if(null!=l)a=l;else{if(null==n)return[];a=NR(c,n)}if(a=a.withIndex(s),a.isEmpty()||a.isLeafNode())return[];{const e=[],t=s.getCompare(),n=o?a.getReverseIteratorFrom(r,s):a.getIteratorFrom(r,s);let i=n.getNext();for(;i&&e.length<1;)0!==t(i,r)&&e.push(i),i=n.getNext();return e}}(e.writeTree,e.treePath,t,n,0,i,o)}(this.writes_,r,t,0,n,e);return 0===i.length?null:i[0]}}function QR(e,t,n,r,i,o){const s=t.eventCache;if(null!=zR(r,n))return t;{let a,c;if(QD(n))if((0,Ms.hu)(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const n=CR(t),i=jR(r,n instanceof DN?n:DN.EMPTY_NODE);a=e.filter.updateFullNode(t.eventCache.getNode(),i,o)}else{const n=ZR(r,CR(t));a=e.filter.updateFullNode(t.eventCache.getNode(),n,o)}else{const l=zD(n);if(".priority"===l){(0,Ms.hu)(1===HD(n),"Can't have a priority with additional path components");const i=s.getNode();c=t.serverCache.getNode();const o=BR(r,n,i,c);a=null!=o?e.filter.updatePriority(i,o):s.getNode()}else{const u=$D(n);let h;if(s.isCompleteForChild(l)){c=t.serverCache.getNode();const e=BR(r,n,s.getNode(),c);h=null!=e?s.getNode().getImmediateChild(l).updateChild(u,e):s.getNode().getImmediateChild(l)}else h=HR(r,l,t.serverCache);a=null!=h?e.filter.updateChild(s.getNode(),l,h,u,i,o):s.getNode()}}return bR(t,a,s.isFullyInitialized()||QD(n),e.filter.filtersNodes())}}function JR(e,t,n,r,i,o,s,a){const c=t.serverCache;let l;const u=s?e.filter:e.filter.getIndexedFilter();if(QD(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const e=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),e,null)}else{const e=zD(n);if(!c.isCompleteForPath(n)&&HD(n)>1)return t;const i=$D(n),o=c.getNode().getImmediateChild(e).updateChild(i,r);l=".priority"===e?u.updatePriority(c.getNode(),o):u.updateChild(c.getNode(),e,o,i,KR,null)}const h=vR(t,l,c.isFullyInitialized()||QD(n),u.filtersNodes());return QR(e,h,n,i,new YR(i,h,o),a)}function XR(e,t,n,r,i,o,s){const a=t.eventCache;let c,l;const u=new YR(i,t,o);if(QD(n))l=e.filter.updateFullNode(t.eventCache.getNode(),r,s),c=bR(t,l,!0,e.filter.filtersNodes());else{const i=zD(n);if(".priority"===i)l=e.filter.updatePriority(t.eventCache.getNode(),r),c=bR(t,l,a.isFullyInitialized(),a.isFiltered());else{const o=$D(n),l=a.getNode().getImmediateChild(i);let h;if(QD(o))h=r;else{const e=u.getCompleteChild(i);h=null!=e?".priority"===GD(o)&&e.getChild(KD(o)).isEmpty()?e:e.updateChild(o,r):DN.EMPTY_NODE}c=l.equals(h)?t:bR(t,e.filter.updateChild(a.getNode(),i,h,o,u,s),a.isFullyInitialized(),e.filter.filtersNodes())}}return c}function eF(e,t){return e.eventCache.isCompleteForChild(t)}function tF(e,t,n){return n.foreach((e,n)=>{t=t.updateChild(e,n)}),t}function nF(e,t,n,r,i,o,s,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let c,l=t;c=QD(n)?r:new PR(null).setTree(n,r);const u=t.serverCache.getNode();return c.children.inorderTraversal((n,r)=>{if(u.hasChild(n)){const c=tF(0,t.serverCache.getNode().getImmediateChild(n),r);l=JR(e,l,new jD(n),c,i,o,s,a)}}),c.children.inorderTraversal((n,r)=>{const c=!t.serverCache.isCompleteForChild(n)&&void 0===r.value;if(!u.hasChild(n)&&!c){const c=tF(0,t.serverCache.getNode().getImmediateChild(n),r);l=JR(e,l,new jD(n),c,i,o,s,a)}}),l}class rF{constructor(e,t){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,r=new $N(n.getIndex()),i=(o=n).loadsAllData()?new $N(o.getIndex()):o.hasLimit()?new WN(o):new GN(o);var o;this.processor_=function(e){return{filter:e}}(i);const s=t.serverCache,a=t.eventCache,c=r.updateFullNode(DN.EMPTY_NODE,s.getNode(),null),l=i.updateFullNode(DN.EMPTY_NODE,a.getNode(),null),u=new gR(c,s.isFullyInitialized(),r.filtersNodes()),h=new gR(l,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=yR(h,u),this.eventGenerator_=new mR(this.query_)}get query(){return this.query_}}function iF(e,t){const n=CR(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!QD(t)&&!n.getImmediateChild(zD(t)).isEmpty())?n.getChild(t):null}function oF(e){return 0===e.eventRegistrations_.length}function sF(e,t,n){const r=[];if(n){(0,Ms.hu)(null==t,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(e=>{const t=e.createCancelEvent(n,i);t&&r.push(t)})}if(t){let n=[];for(let r=0;r<e.eventRegistrations_.length;++r){const i=e.eventRegistrations_[r];if(i.matches(t)){if(t.hasAnyCallback()){n=n.concat(e.eventRegistrations_.slice(r+1));break}}else n.push(i)}e.eventRegistrations_=n}else e.eventRegistrations_=[];return r}function aF(e,t,n,r){t.type===lR.MERGE&&null!==t.source.queryId&&((0,Ms.hu)(CR(e.viewCache_),"We should always have a full cache before handling merges"),(0,Ms.hu)(wR(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,o=function(e,t,n,r,i){const o=new WR;let s,a;if(n.type===lR.OVERWRITE){const c=n;c.source.fromUser?s=XR(e,t,c.path,c.snap,r,i,o):((0,Ms.hu)(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered()&&!QD(c.path),s=JR(e,t,c.path,c.snap,r,i,a,o))}else if(n.type===lR.MERGE){const c=n;c.source.fromUser?s=function(e,t,n,r,i,o,s){let a=t;return r.foreach((r,c)=>{const l=YD(n,r);eF(t,zD(l))&&(a=XR(e,a,l,c,i,o,s))}),r.foreach((r,c)=>{const l=YD(n,r);eF(t,zD(l))||(a=XR(e,a,l,c,i,o,s))}),a}(e,t,c.path,c.children,r,i,o):((0,Ms.hu)(c.source.fromServer,"Unknown source."),a=c.source.tagged||t.serverCache.isFiltered(),s=nF(e,t,c.path,c.children,r,i,a,o))}else if(n.type===lR.ACK_USER_WRITE){const a=n;s=a.revert?function(e,t,n,r,i,o){let s;if(null!=zR(r,n))return t;{const a=new YR(r,t,i),c=t.eventCache.getNode();let l;if(QD(n)||".priority"===zD(n)){let n;if(t.serverCache.isFullyInitialized())n=ZR(r,CR(t));else{const e=t.serverCache.getNode();(0,Ms.hu)(e instanceof DN,"serverChildren would be complete if leaf node"),n=jR(r,e)}n=n,l=e.filter.updateFullNode(c,n,o)}else{const i=zD(n);let u=HR(r,i,t.serverCache);null==u&&t.serverCache.isCompleteForChild(i)&&(u=c.getImmediateChild(i)),l=null!=u?e.filter.updateChild(c,i,u,$D(n),a,o):t.eventCache.getNode().hasChild(i)?e.filter.updateChild(c,i,DN.EMPTY_NODE,$D(n),a,o):c,l.isEmpty()&&t.serverCache.isFullyInitialized()&&(s=ZR(r,CR(t)),s.isLeafNode()&&(l=e.filter.updateFullNode(l,s,o)))}return s=t.serverCache.isFullyInitialized()||null!=zR(r,BD()),bR(t,l,s,e.filter.filtersNodes())}}(e,t,a.path,r,i,o):function(e,t,n,r,i,o,s){if(null!=zR(i,n))return t;const a=t.serverCache.isFiltered(),c=t.serverCache;if(null!=r.value){if(QD(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return JR(e,t,n,c.getNode().getChild(n),i,o,a,s);if(QD(n)){let r=new PR(null);return c.getNode().forEachChild(dN,(e,t)=>{r=r.set(new jD(e),t)}),nF(e,t,n,r,i,o,a,s)}return t}{let l=new PR(null);return r.foreach((e,t)=>{const r=YD(n,e);c.isCompleteForPath(r)&&(l=l.set(e,c.getNode().getChild(r)))}),nF(e,t,n,l,i,o,a,s)}}(e,t,a.path,a.affectedTree,r,i,o)}else{if(n.type!==lR.LISTEN_COMPLETE)throw(0,Ms.g5)("Unknown operation type: "+n.type);s=function(e,t,n,r,i){const o=t.serverCache;return QR(e,vR(t,o.getNode(),o.isFullyInitialized()||QD(n),o.isFiltered()),n,r,KR,i)}(e,t,n.path,r,o)}const c=o.getChanges();return function(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=wR(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(jN(wR(t)))}}(t,s,c),{viewCache:s,changes:c}}(e.processor_,i,t,n,r);var s,a;return s=e.processor_,(0,Ms.hu)((a=o.viewCache).eventCache.getNode().isIndexed(s.filter.getIndex()),"Event snap not indexed"),(0,Ms.hu)(a.serverCache.getNode().isIndexed(s.filter.getIndex()),"Server snap not indexed"),(0,Ms.hu)(o.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=o.viewCache,cF(e,o.changes,o.viewCache.eventCache.getNode(),null)}function cF(e,t,n,r){return function(e,t,n,r){const i=[],o=[];return t.forEach(t=>{"child_changed"===t.type&&e.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push({type:"child_moved",snapshotNode:t.snapshotNode,childName:t.childName})}),_R(e,i,"child_removed",t,r,n),_R(e,i,"child_added",t,r,n),_R(e,i,"child_moved",o,r,n),_R(e,i,"child_changed",t,r,n),_R(e,i,"value",t,r,n),i}(e.eventGenerator_,t,n,r?[r]:e.eventRegistrations_)}let lF,uF;class hF{constructor(){this.views=new Map}}function dF(e,t,n,r){const i=t.source.queryId;if(null!==i){const o=e.views.get(i);return(0,Ms.hu)(null!=o,"SyncTree gave us an op for an invalid query."),aF(o,t,n,r)}{let i=[];for(const o of e.views.values())i=i.concat(aF(o,t,n,r));return i}}function fF(e,t,n,r,i){const o=e.views.get(t._queryIdentifier);if(!o){let e=ZR(n,i?r:null),o=!1;e?o=!0:r instanceof DN?(e=jR(n,r),o=!1):(e=DN.EMPTY_NODE,o=!1);const s=yR(new gR(e,o,!1),new gR(r,i,!1));return new rF(t,s)}return o}function pF(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function gF(e,t){let n=null;for(const r of e.views.values())n=n||iF(r,t);return n}function mF(e,t){return t._queryParams.loadsAllData()?bF(e):e.views.get(t._queryIdentifier)}function _F(e,t){return null!=mF(e,t)}function yF(e){return null!=bF(e)}function bF(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}let vF=1;class wF{constructor(e){this.listenProvider_=e,this.syncPointTree_=new PR(null),this.pendingWriteTree_={visibleWrites:TR.empty(),allWrites:[],lastWriteId:-1},this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function CF(e,t,n,r,i){return function(e,t,n,r,i){(0,Ms.hu)(r>e.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=MR(e.visibleWrites,t,n)),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r,i),i?IF(e,new fR({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,n)):[]}function OF(e,t,n=!1){const r=function(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}(e.pendingWriteTree_,t);if(function(e,t){const n=e.allWrites.findIndex(e=>e.writeId===t);(0,Ms.hu)(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,o=!1,s=e.allWrites.length-1;for(;i&&s>=0;){const t=e.allWrites[s];t.visible&&(s>=n&&LR(t,r.path)?i=!1:tN(r.path,t.path)&&(o=!0)),s--}return!!i&&(o?(function(e){e.visibleWrites=UR(e.allWrites,qR,BD()),e.lastWriteId=e.allWrites.length>0?e.allWrites[e.allWrites.length-1].writeId:-1}(e),!0):(r.snap?e.visibleWrites=IR(e.visibleWrites,r.path):pD(r.children,t=>{e.visibleWrites=IR(e.visibleWrites,YD(r.path,t))}),!0))}(e.pendingWriteTree_,t)){let t=new PR(null);return null!=r.snap?t=t.set(BD(),!0):pD(r.children,e=>{t=t.set(new jD(e),!0)}),IF(e,new hR(r.path,t,n))}return[]}function PF(e,t,n){return IF(e,new fR({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,n))}function TF(e,t,n,r){const i=t._path,o=e.syncPointTree_.get(i);let s=[];if(o&&("default"===t._queryIdentifier||_F(o,t))){const a=function(e,t,n,r){const i=t._queryIdentifier,o=[];let s=[];const a=yF(e);if("default"===i)for(const[c,l]of e.views.entries())s=s.concat(sF(l,n,r)),oF(l)&&(e.views.delete(c),l.query._queryParams.loadsAllData()||o.push(l.query));else{const t=e.views.get(i);t&&(s=s.concat(sF(t,n,r)),oF(t)&&(e.views.delete(i),t.query._queryParams.loadsAllData()||o.push(t.query)))}return a&&!yF(e)&&o.push(new((0,Ms.hu)(lF,"Reference.ts has not been loaded"),lF)(t._repo,t._path)),{removed:o,events:s}}(o,t,n,r);0===o.views.size&&(e.syncPointTree_=e.syncPointTree_.remove(i));const c=a.removed;s=a.events;const l=-1!==c.findIndex(e=>e._queryParams.loadsAllData()),u=e.syncPointTree_.findOnPath(i,(e,t)=>yF(t));if(l&&!u){const t=e.syncPointTree_.subtree(i);if(!t.isEmpty()){const n=function(e){return e.fold((e,t,n)=>{if(t&&yF(t))return[bF(t)];{let e=[];return t&&(e=pF(t)),pD(n,(t,n)=>{e=e.concat(n)}),e}})}(t);for(let t=0;t<n.length;++t){const r=n[t],i=r.query,o=xF(e,r);e.listenProvider_.startListening(LF(i),AF(e,i),o.hashFn,o.onComplete)}}}if(!u&&c.length>0&&!r)if(l){const n=null;e.listenProvider_.stopListening(LF(t),n)}else c.forEach(t=>{const n=e.queryToTagMap.get(DF(t));e.listenProvider_.stopListening(LF(t),n)});!function(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const t=DF(r),n=e.queryToTagMap.get(t);e.queryToTagMap.delete(t),e.tagToQueryMap.delete(n)}}}(e,c)}return s}function MF(e,t,n){const r=t._path;let i=null,o=!1;e.syncPointTree_.foreachOnPath(r,(e,t)=>{const n=JD(e,r);i=i||gF(t,n),o=o||yF(t)});let s,a=e.syncPointTree_.get(r);a?(o=o||yF(a),i=i||gF(a,BD())):(a=new hF,e.syncPointTree_=e.syncPointTree_.set(r,a)),null!=i?s=!0:(s=!1,i=DN.EMPTY_NODE,e.syncPointTree_.subtree(r).foreachChild((e,t)=>{const n=gF(t,BD());n&&(i=i.updateImmediateChild(e,n))}));const c=_F(a,t);if(!c&&!t._queryParams.loadsAllData()){const n=DF(t);(0,Ms.hu)(!e.queryToTagMap.has(n),"View does not exist, but we have a tag");const r=vF++;e.queryToTagMap.set(n,r),e.tagToQueryMap.set(r,n)}let l=function(e,t,n,r,i,o){const s=fF(e,t,r,i,o);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,s),function(e,t){e.eventRegistrations_.push(t)}(s,n),function(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(TN,(e,t)=>{r.push(BN(e,t))}),n.isFullyInitialized()&&r.push(jN(n.getNode())),cF(e,r,n.getNode(),t)}(s,n)}(a,t,n,FR(e.pendingWriteTree_,r),i,s);if(!c&&!o){const n=mF(a,t);l=l.concat(function(e,t,n){const r=t._path,i=AF(e,t),o=xF(e,n),s=e.listenProvider_.startListening(LF(t),i,o.hashFn,o.onComplete),a=e.syncPointTree_.subtree(r);if(i)(0,Ms.hu)(!yF(a.value),"If we're adding a query, it shouldn't be shadowed");else{const t=a.fold((e,t,n)=>{if(!QD(e)&&t&&yF(t))return[bF(t).query];{let e=[];return t&&(e=e.concat(pF(t).map(e=>e.query))),pD(n,(t,n)=>{e=e.concat(n)}),e}});for(let n=0;n<t.length;++n){const r=t[n];e.listenProvider_.stopListening(LF(r),AF(e,r))}}return s}(e,t,n))}return l}function SF(e,t,n){const r=e.pendingWriteTree_,i=e.syncPointTree_.findOnPath(t,(e,n)=>{const r=gF(n,JD(e,t));if(r)return r});return VR(r,t,i,n,!0)}function IF(e,t){return kF(t,e.syncPointTree_,null,FR(e.pendingWriteTree_,BD()))}function kF(e,t,n,r){if(QD(e.path))return EF(e,t,n,r);{const i=t.get(BD());null==n&&null!=i&&(n=gF(i,BD()));let o=[];const s=zD(e.path),a=e.operationForChild(s),c=t.children.get(s);if(c&&a){const e=n?n.getImmediateChild(s):null,t=$R(r,s);o=o.concat(kF(a,c,e,t))}return i&&(o=o.concat(dF(i,e,r,n))),o}}function EF(e,t,n,r){const i=t.get(BD());null==n&&null!=i&&(n=gF(i,BD()));let o=[];return t.children.inorderTraversal((t,i)=>{const s=n?n.getImmediateChild(t):null,a=$R(r,t),c=e.operationForChild(t);c&&(o=o.concat(EF(c,i,s,a)))}),i&&(o=o.concat(dF(i,e,r,n))),o}function xF(e,t){const n=t.query,r=AF(e,n);return{hashFn:()=>(function(e){return e.viewCache_.serverCache.getNode()}(t)||DN.EMPTY_NODE).hash(),onComplete:t=>{if("ok"===t)return r?function(e,t,n){const r=NF(e,n);if(r){const n=RF(r),i=n.path,o=n.queryId,s=JD(i,t);return FF(e,i,new dR(uR(o),s))}return[]}(e,n._path,r):function(e,t){return IF(e,new dR({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t))}(e,n._path);{const r=function(e,t){let n="Unknown Error";"too_big"===e?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===e?n="Client doesn't have permission to access the desired data.":"unavailable"===e&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}(t,n);return TF(e,n,null,r)}}}}function AF(e,t){const n=DF(t);return e.queryToTagMap.get(n)}function DF(e){return e._path.toString()+"$"+e._queryIdentifier}function NF(e,t){return e.tagToQueryMap.get(t)}function RF(e){const t=e.indexOf("$");return(0,Ms.hu)(-1!==t&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new jD(e.substr(0,t))}}function FF(e,t,n){const r=e.syncPointTree_.get(t);return(0,Ms.hu)(r,"Missing sync point for query tag that we're tracking"),dF(r,n,FR(e.pendingWriteTree_,t),null)}function LF(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new((0,Ms.hu)(uF,"Reference.ts has not been loaded"),uF)(e._repo,e._path):e}class qF{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new qF(t)}node(){return this.node_}}class UF{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=YD(this.path_,e);return new UF(this.syncTree_,t)}node(){return SF(this.syncTree_,this.path_)}}const VF=function(e,t,n){return e&&"object"==typeof e?((0,Ms.hu)(".sv"in e,"Unexpected leaf node or priority contents"),"string"==typeof e[".sv"]?ZF(e[".sv"],t,n):"object"==typeof e[".sv"]?jF(e[".sv"],t):void(0,Ms.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2))):e},ZF=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:(0,Ms.hu)(!1,"Unexpected server value: "+e)}},jF=function(e,t,n){e.hasOwnProperty("increment")||(0,Ms.hu)(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;"number"!=typeof r&&(0,Ms.hu)(!1,"Unexpected increment value: "+r);const i=t.node();if((0,Ms.hu)(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},BF=function(e,t,n,r){return HF(t,new UF(n,e),r)},zF=function(e,t,n){return HF(e,new qF(t),n)};function HF(e,t,n){const r=e.getPriority().val(),i=VF(r,t.getImmediateChild(".priority"),n);let o;if(e.isLeafNode()){const r=e,o=VF(r.getValue(),t,n);return o!==r.getValue()||i!==r.getPriority().val()?new PN(o,RN(i)):e}{const r=e;return o=r,i!==r.getPriority().val()&&(o=o.updatePriority(new PN(i))),r.forEachChild(TN,(e,r)=>{const i=HF(r,t.getImmediateChild(e),n);i!==r&&(o=o.updateImmediateChild(e,i))}),o}}class $F{constructor(e="",t=null,n={children:{},childCount:0}){this.name=e,this.parent=t,this.node=n}}function GF(e,t){let n=t instanceof jD?t:new jD(t),r=e,i=zD(n);for(;null!==i;){const e=(0,Ms.DV)(r.node.children,i)||{children:{},childCount:0};r=new $F(i,r,e),n=$D(n),i=zD(n)}return r}function WF(e){return e.node.value}function KF(e,t){e.node.value=t,eL(e)}function YF(e){return e.node.childCount>0}function QF(e,t){pD(e.node.children,(n,r)=>{t(new $F(n,e,r))})}function JF(e,t,n,r){n&&!r&&t(e),QF(e,e=>{JF(e,t,!0,r)}),n&&r&&t(e)}function XF(e){return new jD(null===e.parent?e.name:XF(e.parent)+"/"+e.name)}function eL(e){null!==e.parent&&function(e,t,n){const r=function(e){return void 0===WF(e)&&!YF(e)}(n),i=(0,Ms.r3)(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,eL(e)):r||i||(e.node.children[t]=n.node,e.node.childCount++,eL(e))}(e.parent,e.name,e)}const tL=/[\[\].#$\/\u0000-\u001F\u007F]/,nL=/[\[\].#$\u0000-\u001F\u007F]/,rL=10485760,iL=function(e){return"string"==typeof e&&0!==e.length&&!tL.test(e)},oL=function(e){return"string"==typeof e&&0!==e.length&&!nL.test(e)},sL=function(e){return null===e||"string"==typeof e||"number"==typeof e&&!sD(e)||e&&"object"==typeof e&&(0,Ms.r3)(e,".sv")},aL=function(e,t,n,r){r&&void 0===t||cL((0,Ms.gK)(e,"value"),t,n)},cL=function(e,t,n){const r=n instanceof jD?new nN(n,e):n;if(void 0===t)throw new Error(e+"contains undefined "+iN(r));if("function"==typeof t)throw new Error(e+"contains a function "+iN(r)+" with contents = "+t.toString());if(sD(t))throw new Error(e+"contains "+t.toString()+" "+iN(r));if("string"==typeof t&&t.length>rL/3&&(0,Ms.ug)(t)>rL)throw new Error(e+"contains a string greater than 10485760 utf8 bytes "+iN(r)+" ('"+t.substring(0,50)+"...')");if(t&&"object"==typeof t){let n=!1,i=!1;if(pD(t,(t,o)=>{if(".value"===t)n=!0;else if(".priority"!==t&&".sv"!==t&&(i=!0,!iL(t)))throw new Error(e+" contains an invalid key ("+t+") "+iN(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');var s,a;a=t,(s=r).parts_.length>0&&(s.byteLength_+=1),s.parts_.push(a),s.byteLength_+=(0,Ms.ug)(a),rN(s),cL(e,o,r),function(e){const t=e.parts_.pop();e.byteLength_-=(0,Ms.ug)(t),e.parts_.length>0&&(e.byteLength_-=1)}(r)}),n&&i)throw new Error(e+' contains ".value" child '+iN(r)+" in addition to actual children.")}},lL=function(e,t,n,r){if(r&&void 0===t)return;const i=(0,Ms.gK)(e,"values");if(!t||"object"!=typeof t||Array.isArray(t))throw new Error(i+" must be an object containing the children to replace.");const o=[];pD(t,(e,t)=>{const r=new jD(e);if(cL(i,t,YD(n,r)),".priority"===GD(r)&&!sL(t))throw new Error(i+"contains an invalid value for '"+r.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");o.push(r)}),function(e,t){let n,r;for(n=0;n<t.length;n++){r=t[n];const i=WD(r);for(let t=0;t<i.length;t++)if(".priority"===i[t]&&t===i.length-1);else if(!iL(i[t]))throw new Error(e+"contains an invalid key ("+i[t]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}t.sort(XD);let i=null;for(n=0;n<t.length;n++){if(r=t[n],null!==i&&tN(i,r))throw new Error(e+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}}(i,o)},uL=function(e,t,n){if(!n||void 0!==t){if(sD(t))throw new Error((0,Ms.gK)(e,"priority")+"is "+t.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!sL(t))throw new Error((0,Ms.gK)(e,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},hL=function(e,t,n,r){if(!(r&&void 0===n||iL(n)))throw new Error((0,Ms.gK)(e,t)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},dL=function(e,t,n,r){if(!(r&&void 0===n||oL(n)))throw new Error((0,Ms.gK)(e,t)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},fL=function(e,t){if(".info"===zD(t))throw new Error(e+" failed = Can't modify data under /.info/")},pL=function(e,t){const n=t.path.toString();if("string"!=typeof t.repoInfo.host||0===t.repoInfo.host.length||!iL(t.repoInfo.namespace)&&"localhost"!==t.repoInfo.host.split(":")[0]||0!==n.length&&!function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),oL(e)}(n))throw new Error((0,Ms.gK)(e,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class gL{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function mL(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],o=i.getPath();null===n||eN(o,n.path)||(e.eventLists_.push(n),n=null),null===n&&(n={events:[],path:o}),n.events.push(i)}n&&e.eventLists_.push(n)}function _L(e,t,n){mL(e,n),bL(e,e=>eN(e,t))}function yL(e,t,n){mL(e,n),bL(e,e=>tN(e,t)||tN(t,e))}function bL(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];i&&(t(i.path)?(vL(e.eventLists_[r]),e.eventLists_[r]=null):n=!1)}n&&(e.eventLists_=[]),e.recursionDepth_--}function vL(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(null!==n){e.events[t]=null;const r=n.getEventRunner();JA&&tD("event: "+n.toString()),yD(r)}}}const wL="repo_interrupt";class CL{constructor(e,t,n,r){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=n,this.appCheckProvider_=r,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new gL,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=rR(),this.transactionQueueTree_=new $F,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function OL(e){const t=e.infoData_.getNode(new jD(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function PL(e){return(t=(t={timestamp:OL(e)})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t}function TL(e,t,n,r,i){e.dataUpdateCount++;const o=new jD(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let s=[];if(i)if(r){const t=(0,Ms.UI)(n,e=>RN(e));s=function(e,t,n,r){const i=NF(e,r);if(i){const r=RF(i),o=r.path,s=r.queryId,a=JD(o,t),c=PR.fromObject(n);return FF(e,o,new pR(uR(s),a,c))}return[]}(e.serverSyncTree_,o,t,i)}else{const t=RN(n);s=function(e,t,n,r){const i=NF(e,r);if(null!=i){const r=RF(i),o=r.path,s=r.queryId,a=JD(o,t);return FF(e,o,new fR(uR(s),a,n))}return[]}(e.serverSyncTree_,o,t,i)}else if(r){const t=(0,Ms.UI)(n,e=>RN(e));s=function(e,t,n){const r=PR.fromObject(n);return IF(e,new pR({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},t,r))}(e.serverSyncTree_,o,t)}else{const t=RN(n);s=PF(e.serverSyncTree_,o,t)}let a=o;s.length>0&&(a=qL(e,o)),yL(e.eventQueue_,a,s)}function ML(e,t){SL(e,"connected",t),!1===t&&function(e){NL(e,"onDisconnectEvents");const t=PL(e),n=rR();sR(e.onDisconnect_,BD(),(r,i)=>{const o=BF(r,i,e.serverSyncTree_,t);iR(n,r,o)});let r=[];sR(n,BD(),(t,n)=>{r=r.concat(PF(e.serverSyncTree_,t,n));const i=BL(e,t);qL(e,i)}),e.onDisconnect_=rR(),yL(e.eventQueue_,BD(),r)}(e)}function SL(e,t,n){const r=new jD("/.info/"+t),i=RN(n);e.infoData_.updateSnapshot(r,i);const o=PF(e.infoSyncTree_,r,i);yL(e.eventQueue_,r,o)}function IL(e){return e.nextWriteId_++}function kL(e,t,n,r,i){NL(e,"set",{path:t.toString(),value:n,priority:r});const o=PL(e),s=RN(n,r),a=SF(e.serverSyncTree_,t),c=zF(s,a,o),l=IL(e),u=CF(e.serverSyncTree_,t,c,l,!0);mL(e.eventQueue_,u),e.server_.put(t.toString(),s.val(!0),(n,r)=>{const o="ok"===n;o||oD("set at "+t+" failed: "+n);const s=OF(e.serverSyncTree_,l,!o);yL(e.eventQueue_,t,s),RL(0,i,n,r)});const h=BL(e,t);qL(e,h),yL(e.eventQueue_,h,[])}function EL(e,t,n){e.server_.onDisconnectCancel(t.toString(),(r,i)=>{"ok"===r&&oR(e.onDisconnect_,t),RL(0,n,r,i)})}function xL(e,t,n,r){const i=RN(n);e.server_.onDisconnectPut(t.toString(),i.val(!0),(n,o)=>{"ok"===n&&iR(e.onDisconnect_,t,i),RL(0,r,n,o)})}function AL(e,t,n){let r;r=".info"===zD(t._path)?TF(e.infoSyncTree_,t,n):TF(e.serverSyncTree_,t,n),_L(e.eventQueue_,t._path,r)}function DL(e){e.persistentConnection_&&e.persistentConnection_.interrupt(wL)}function NL(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),tD(n,...t)}function RL(e,t,n,r){t&&yD(()=>{if("ok"===n)t(null);else{const e=(n||"error").toUpperCase();let i=e;r&&(i+=": "+r);const o=new Error(i);o.code=e,t(o)}})}function FL(e,t,n){return SF(e.serverSyncTree_,t,n)||DN.EMPTY_NODE}function LL(e,t=e.transactionQueueTree_){if(t||jL(e,t),WF(t)){const n=VL(e,t);(0,Ms.hu)(n.length>0,"Sending zero length transaction queue"),n.every(e=>0===e.status)&&function(e,t,n){const r=n.map(e=>e.currentWriteId),i=FL(e,t,r);let o=i;const s=i.hash();for(let l=0;l<n.length;l++){const e=n[l];(0,Ms.hu)(0===e.status,"tryToSendTransactionQueue_: items in queue should all be run."),e.status=1,e.retryCount++;const r=JD(t,e.path);o=o.updateChild(r,e.currentOutputSnapshotRaw)}const a=o.val(!0),c=t;e.server_.put(c.toString(),a,r=>{NL(e,"transaction put response",{path:c.toString(),status:r});let i=[];if("ok"===r){const r=[];for(let t=0;t<n.length;t++)n[t].status=2,i=i.concat(OF(e.serverSyncTree_,n[t].currentWriteId)),n[t].onComplete&&r.push(()=>n[t].onComplete(null,!0,n[t].currentOutputSnapshotResolved)),n[t].unwatcher();jL(e,GF(e.transactionQueueTree_,t)),LL(e,e.transactionQueueTree_),yL(e.eventQueue_,t,i);for(let e=0;e<r.length;e++)yD(r[e])}else{if("datastale"===r)for(let e=0;e<n.length;e++)n[e].status=3===n[e].status?4:0;else{oD("transaction at "+c.toString()+" failed: "+r);for(let e=0;e<n.length;e++)n[e].status=4,n[e].abortReason=r}qL(e,t)}},s)}(e,XF(t),n)}else YF(t)&&QF(t,t=>{LL(e,t)})}function qL(e,t){const n=UL(e,t),r=XF(n);return function(e,t,n){if(0===t.length)return;const r=[];let i=[];const o=t.filter(e=>0===e.status).map(e=>e.currentWriteId);for(let s=0;s<t.length;s++){const a=t[s],c=JD(n,a.path);let l,u=!1;if((0,Ms.hu)(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),4===a.status)u=!0,l=a.abortReason,i=i.concat(OF(e.serverSyncTree_,a.currentWriteId,!0));else if(0===a.status)if(a.retryCount>=25)u=!0,l="maxretry",i=i.concat(OF(e.serverSyncTree_,a.currentWriteId,!0));else{const n=FL(e,a.path,o);a.currentInputSnapshot=n;const r=t[s].update(n.val());if(void 0!==r){cL("transaction failed: Data returned ",r,a.path);let t=RN(r);"object"==typeof r&&null!=r&&(0,Ms.r3)(r,".priority")||(t=t.updatePriority(n.getPriority()));const s=a.currentWriteId,c=PL(e),l=zF(t,n,c);a.currentOutputSnapshotRaw=t,a.currentOutputSnapshotResolved=l,a.currentWriteId=IL(e),o.splice(o.indexOf(s),1),i=i.concat(CF(e.serverSyncTree_,a.path,l,a.currentWriteId,a.applyLocally)),i=i.concat(OF(e.serverSyncTree_,s,!0))}else u=!0,l="nodata",i=i.concat(OF(e.serverSyncTree_,a.currentWriteId,!0))}yL(e.eventQueue_,n,i),i=[],u&&(t[s].status=2,setTimeout(t[s].unwatcher,Math.floor(0)),t[s].onComplete&&r.push("nodata"===l?()=>t[s].onComplete(null,!1,t[s].currentInputSnapshot):()=>t[s].onComplete(new Error(l),!1,null)))}jL(e,e.transactionQueueTree_);for(let s=0;s<r.length;s++)yD(r[s]);LL(e,e.transactionQueueTree_)}(e,VL(e,n),r),r}function UL(e,t){let n,r=e.transactionQueueTree_;for(n=zD(t);null!==n&&void 0===WF(r);)r=GF(r,n),n=zD(t=$D(t));return r}function VL(e,t){const n=[];return ZL(e,t,n),n.sort((e,t)=>e.order-t.order),n}function ZL(e,t,n){const r=WF(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);QF(t,t=>{ZL(e,t,n)})}function jL(e,t){const n=WF(t);if(n){let e=0;for(let t=0;t<n.length;t++)2!==n[t].status&&(n[e]=n[t],e++);n.length=e,KF(t,n.length>0?n:void 0)}QF(t,t=>{jL(e,t)})}function BL(e,t){const n=XF(UL(e,t)),r=GF(e.transactionQueueTree_,t);return function(e,t,n){let r=e.parent;for(;null!==r;){if(t(r))return!0;r=r.parent}}(r,t=>{zL(e,t)}),zL(e,r),JF(r,t=>{zL(e,t)}),n}function zL(e,t){const n=WF(t);if(n){const r=[];let i=[],o=-1;for(let t=0;t<n.length;t++)3===n[t].status||(1===n[t].status?((0,Ms.hu)(o===t-1,"All SENT items should be at beginning of queue."),o=t,n[t].status=3,n[t].abortReason="set"):((0,Ms.hu)(0===n[t].status,"Unexpected transaction status in abort"),n[t].unwatcher(),i=i.concat(OF(e.serverSyncTree_,n[t].currentWriteId,!0)),n[t].onComplete&&r.push(n[t].onComplete.bind(null,new Error("set"),!1,null))));-1===o?KF(t,void 0):n.length=o+1,yL(e.eventQueue_,XF(t),i);for(let e=0;e<r.length;e++)yD(r[e])}}const HL=function(e,t){const n=$L(e),r=n.namespace;return"firebase.com"===n.domain&&iD(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),r&&"undefined"!==r||"localhost"===n.domain||iD("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&oD("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new MD(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,t,"",r!==n.subdomain),path:new jD(n.pathString)}},$L=function(e){let t="",n="",r="",i="",o="",s=!0,a="https",c=443;if("string"==typeof e){let l=e.indexOf("//");l>=0&&(a=e.substring(0,l-1),e=e.substring(l+2));let u=e.indexOf("/");-1===u&&(u=e.length);let h=e.indexOf("?");-1===h&&(h=e.length),t=e.substring(0,Math.min(u,h)),u<h&&(i=function(e){let t="";const n=e.split("/");for(let i=0;i<n.length;i++)if(n[i].length>0){let e=n[i];try{e=decodeURIComponent(e.replace(/\+/g," "))}catch(r){}t+="/"+e}return t}(e.substring(u,h)));const d=function(e){const t={};"?"===e.charAt(0)&&(e=e.substring(1));for(const n of e.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):oD(`Invalid query segment '${n}' in query '${e}'`)}return t}(e.substring(Math.min(e.length,h)));l=t.indexOf(":"),l>=0?(s="https"===a||"wss"===a,c=parseInt(t.substring(l+1),10)):l=t.length;const f=t.slice(0,l);if("localhost"===f.toLowerCase())n="localhost";else if(f.split(".").length<=2)n=f;else{const e=t.indexOf(".");r=t.substring(0,e).toLowerCase(),n=t.substring(e+1),o=r}"ns"in d&&(o=d.ns)}return{host:t,port:c,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}};class GL{constructor(e,t,n,r){this.eventType=e,this.eventRegistration=t,this.snapshot=n,this.prevName=r}getPath(){const e=this.snapshot.ref;return"value"===this.eventType?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+(0,Ms.Pz)(this.snapshot.exportVal())}}class WL{constructor(e,t,n){this.eventRegistration=e,this.error=t,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}class KL{constructor(e,t){this.snapshotCallback=e,this.cancelCallback=t}onValue(e,t){this.snapshotCallback.call(null,e,t)}onCancel(e){return(0,Ms.hu)(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||void 0!==this.snapshotCallback.userCallback&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}class YL{constructor(e,t){this._repo=e,this._path=t}cancel(){const e=new Ms.BH;return EL(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){fL("OnDisconnect.remove",this._path);const e=new Ms.BH;return xL(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){fL("OnDisconnect.set",this._path),aL("OnDisconnect.set",e,this._path,!1);const t=new Ms.BH;return xL(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}setWithPriority(e,t){fL("OnDisconnect.setWithPriority",this._path),aL("OnDisconnect.setWithPriority",e,this._path,!1),uL("OnDisconnect.setWithPriority",t,!1);const n=new Ms.BH;return function(e,t,n,r,i){const o=RN(n,r);e.server_.onDisconnectPut(t.toString(),o.val(!0),(n,r)=>{"ok"===n&&iR(e.onDisconnect_,t,o),RL(0,i,n,r)})}(this._repo,this._path,e,t,n.wrapCallback(()=>{})),n.promise}update(e){fL("OnDisconnect.update",this._path),lL("OnDisconnect.update",e,this._path,!1);const t=new Ms.BH;return function(e,t,n,r){if((0,Ms.xb)(n))return tD("onDisconnect().update() called with empty data.  Don't do anything."),void RL(0,r,"ok",void 0);e.server_.onDisconnectMerge(t.toString(),n,(i,o)=>{"ok"===i&&pD(n,(n,r)=>{const i=RN(r);iR(e.onDisconnect_,YD(t,n),i)}),RL(0,r,i,o)})}(this._repo,this._path,e,t.wrapCallback(()=>{})),t.promise}}class QL{constructor(e,t,n,r){this._repo=e,this._path=t,this._queryParams=n,this._orderByCalled=r}get key(){return QD(this._path)?null:GD(this._path)}get ref(){return new tq(this._repo,this._path)}get _queryIdentifier(){const e=eR(this._queryParams),t=dD(e);return"{}"===t?"default":t}get _queryObject(){return eR(this._queryParams)}isEqual(e){if(!((e=(0,Ms.m9)(e))instanceof QL))return!1;const t=this._repo===e._repo,n=eN(this._path,e._path);return t&&n&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)""!==e.pieces_[n]&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}(this._path)}}function JL(e,t){if(!0===e._orderByCalled)throw new Error(t+": You can't combine multiple orderBy calls.")}function XL(e){let t=null,n=null;if(e.hasStart()&&(t=e.getIndexStartValue()),e.hasEnd()&&(n=e.getIndexEndValue()),e.getIndex()===dN){const r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() must be a string.";if(e.hasStart()){if(e.getIndexStartName()!==aD)throw new Error(r);if("string"!=typeof t)throw new Error(i)}if(e.hasEnd()){if(e.getIndexEndName()!==cD)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(e.getIndex()===TN){if(null!=t&&!sL(t)||null!=n&&!sL(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), startAfter() endAt(), endBefore(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if((0,Ms.hu)(e.getIndex()instanceof FN||e.getIndex()===LN,"unknown index type."),null!=t&&"object"==typeof t||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), startAfter(), endAt(), endBefore(), or equalTo() cannot be an object.")}function eq(e){if(e.hasStart()&&e.hasEnd()&&e.hasLimit()&&!e.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), startAfter(), endAt(), endBefore(), and limit(). Use limitToFirst() or limitToLast() instead.")}class tq extends QL{constructor(e,t){super(e,t,new KN,!1)}get parent(){const e=KD(this._path);return null===e?null:new tq(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}class nq{constructor(e,t,n){this._node=e,this.ref=t,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const t=new jD(e),n=oq(this.ref,e);return new nq(this._node.getChild(t),n,TN)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return!this._node.isLeafNode()&&!!this._node.forEachChild(this._index,(t,n)=>e(new nq(n,oq(this.ref,t),TN)))}hasChild(e){const t=new jD(e);return!this._node.getChild(t).isEmpty()}hasChildren(){return!this._node.isLeafNode()&&!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function rq(e,t){return(e=(0,Ms.m9)(e))._checkNotDeleted("ref"),void 0!==t?oq(e._root,t):e._root}function iq(e,t){(e=(0,Ms.m9)(e))._checkNotDeleted("refFromURL");const n=HL(t,e._repo.repoInfo_.nodeAdmin);pL("refFromURL",n);const r=n.repoInfo;return e._repo.repoInfo_.isCustomHost()||r.host===e._repo.repoInfo_.host||iD("refFromURL: Host name does not match the current database: (found "+r.host+" but expected "+e._repo.repoInfo_.host+")"),rq(e,n.path.toString())}function oq(e,t){var n;return null===zD((e=(0,Ms.m9)(e))._path)?((n=t)&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),dL("child","path",n,!1)):dL("child","path",t,!1),new tq(e._repo,YD(e._path,t))}function sq(e,t){e=(0,Ms.m9)(e),fL("set",e._path),aL("set",t,e._path,!1);const n=new Ms.BH;return kL(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}class aq{constructor(e){this.callbackContext=e}respondsTo(e){return"value"===e}createEvent(e,t){const n=t._queryParams.getIndex();return new GL("value",this,new nq(e.snapshotNode,new tq(t._repo,t._path),n))}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new WL(this,e,t):null}matches(e){return e instanceof aq&&(!e.callbackContext||!this.callbackContext||e.callbackContext.matches(this.callbackContext))}hasAnyCallback(){return null!==this.callbackContext}}class cq{constructor(e,t){this.eventType=e,this.callbackContext=t}respondsTo(e){let t="children_added"===e?"child_added":e;return t="children_removed"===t?"child_removed":t,this.eventType===t}createCancelEvent(e,t){return this.callbackContext.hasCancelCallback?new WL(this,e,t):null}createEvent(e,t){(0,Ms.hu)(null!=e.childName,"Child events should have a childName.");const n=oq(new tq(t._repo,t._path),e.childName),r=t._queryParams.getIndex();return new GL(e.type,this,new nq(e.snapshotNode,n,r),e.prevName)}getEventRunner(e){return"cancel"===e.getEventType()?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,e.prevName)}matches(e){return e instanceof cq&&this.eventType===e.eventType&&(!this.callbackContext||!e.callbackContext||this.callbackContext.matches(e.callbackContext))}hasAnyCallback(){return!!this.callbackContext}}function lq(e,t,n,r,i){let o;if("object"==typeof r&&(o=void 0,i=r),"function"==typeof r&&(o=r),i&&i.onlyOnce){const t=n,r=(n,r)=>{AL(e._repo,e,a),t(n,r)};r.userCallback=n.userCallback,r.context=n.context,n=r}const s=new KL(n,o||void 0),a="value"===t?new aq(s):new cq(t,s);return function(e,t,n){let r;r=".info"===zD(t._path)?MF(e.infoSyncTree_,t,n):MF(e.serverSyncTree_,t,n),_L(e.eventQueue_,t._path,r)}(e._repo,e,a),()=>AL(e._repo,e,a)}function uq(e,t,n,r){return lq(e,"value",t,n,r)}function hq(e,t,n,r){return lq(e,"child_added",t,n,r)}function dq(e,t,n,r){return lq(e,"child_changed",t,n,r)}function fq(e,t,n,r){return lq(e,"child_moved",t,n,r)}function pq(e,t,n,r){return lq(e,"child_removed",t,n,r)}function gq(e,t,n){let r=null;const i=n?new KL(n):null;"value"===t?r=new aq(i):t&&(r=new cq(t,i)),AL(e._repo,e,r)}class mq{}class _q extends mq{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){aL("endAt",this._value,e._path,!0);const t=QN(e._queryParams,this._value,this._key);if(eq(t),XL(t),e._queryParams.hasEnd())throw new Error("endAt: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new QL(e._repo,e._path,t,e._orderByCalled)}}class yq extends mq{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){aL("endBefore",this._value,e._path,!1);const t=function(e,t,n){let r,i;return e.index_===dN?("string"==typeof t&&(t=ZN(t)),i=QN(e,t,n)):(r=null==n?aD:ZN(n),i=QN(e,t,r)),i.endBeforeSet_=!0,i}(e._queryParams,this._value,this._key);if(eq(t),XL(t),e._queryParams.hasEnd())throw new Error("endBefore: Starting point was already set (by another call to endAt, endBefore or equalTo).");return new QL(e._repo,e._path,t,e._orderByCalled)}}class bq extends mq{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){aL("startAt",this._value,e._path,!0);const t=YN(e._queryParams,this._value,this._key);if(eq(t),XL(t),e._queryParams.hasStart())throw new Error("startAt: Starting point was already set (by another call to startAt, startBefore or equalTo).");return new QL(e._repo,e._path,t,e._orderByCalled)}}class vq extends mq{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){aL("startAfter",this._value,e._path,!1);const t=function(e,t,n){let r;if(e.index_===dN)"string"==typeof t&&(t=VN(t)),r=YN(e,t,n);else{let i;i=null==n?cD:VN(n),r=YN(e,t,i)}return r.startAfterSet_=!0,r}(e._queryParams,this._value,this._key);if(eq(t),XL(t),e._queryParams.hasStart())throw new Error("startAfter: Starting point was already set (by another call to startAt, startAfter, or equalTo).");return new QL(e._repo,e._path,t,e._orderByCalled)}}class wq extends mq{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToFirst: Limit was already set (by another call to limitToFirst or limitToLast).");return new QL(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="l",n}(e._queryParams,this._limit),e._orderByCalled)}}class Cq extends mq{constructor(e){super(),this._limit=e}_apply(e){if(e._queryParams.hasLimit())throw new Error("limitToLast: Limit was already set (by another call to limitToFirst or limitToLast).");return new QL(e._repo,e._path,function(e,t){const n=e.copy();return n.limitSet_=!0,n.limit_=t,n.viewFrom_="r",n}(e._queryParams,this._limit),e._orderByCalled)}}class Oq extends mq{constructor(e){super(),this._path=e}_apply(e){JL(e,"orderByChild");const t=new jD(this._path);if(QD(t))throw new Error("orderByChild: cannot pass in empty path. Use orderByValue() instead.");const n=new FN(t),r=JN(e._queryParams,n);return XL(r),new QL(e._repo,e._path,r,!0)}}class Pq extends mq{_apply(e){JL(e,"orderByKey");const t=JN(e._queryParams,dN);return XL(t),new QL(e._repo,e._path,t,!0)}}class Tq extends mq{_apply(e){JL(e,"orderByPriority");const t=JN(e._queryParams,TN);return XL(t),new QL(e._repo,e._path,t,!0)}}class Mq extends mq{_apply(e){JL(e,"orderByValue");const t=JN(e._queryParams,LN);return XL(t),new QL(e._repo,e._path,t,!0)}}class Sq extends mq{constructor(e,t){super(),this._value=e,this._key=t}_apply(e){if(aL("equalTo",this._value,e._path,!1),e._queryParams.hasStart())throw new Error("equalTo: Starting point was already set (by another call to startAt/startAfter or equalTo).");if(e._queryParams.hasEnd())throw new Error("equalTo: Ending point was already set (by another call to endAt/endBefore or equalTo).");return new _q(this._value,this._key)._apply(new bq(this._value,this._key)._apply(e))}}function Iq(e,...t){let n=(0,Ms.m9)(e);for(const r of t)n=r._apply(n);return n}!function(e){(0,Ms.hu)(!lF,"__referenceConstructor has already been defined"),lF=e}(tq),function(e){(0,Ms.hu)(!uF,"__referenceConstructor has already been defined"),uF=e}(tq);const kq={};function Eq(e,t,n,r,i){let o=r||e.options.databaseURL;void 0===o&&(e.options.projectId||iD("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),tD("Using default host for project ",e.options.projectId),o=`${e.options.projectId}-default-rtdb.firebaseio.com`);let s,a,c=HL(o,i),l=c.repoInfo;"undefined"!=typeof process&&process.env&&(a=process.env.FIREBASE_DATABASE_EMULATOR_HOST),a?(s=!0,o=`http://${a}?ns=${l.namespace}`,c=HL(o,i),l=c.repoInfo):s=!c.repoInfo.secure;const u=i&&s?new CD(CD.OWNER):new wD(e.name,e.options,t);pL("Invalid Firebase Database URL",c),QD(c.path)||iD("Database URL must point to the root of a Firebase Database (not including a child path).");const h=function(e,t,n,r){let i=kq[t.name];i||(i={},kq[t.name]=i);let o=i[e.toURLString()];return o&&iD("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),o=new CL(e,!1,n,r),i[e.toURLString()]=o,o}(l,e,u,new vD(e.name,n));return new xq(h,e)}class xq{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function(e,t,n){if(e.stats_=xD(e.repoInfo_),e.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)e.server_=new tR(e.repoInfo_,(t,n,r,i)=>{TL(e,t,n,r,i)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>ML(e,!0),0);else{if(null!=n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,Ms.Pz)(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new cN(e.repoInfo_,t,(t,n,r,i)=>{TL(e,t,n,r,i)},t=>{ML(e,t)},t=>{!function(e,t){pD(t,(t,n)=>{SL(e,t,n)})}(e,t)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(t=>{e.server_.refreshAuthToken(t)}),e.appCheckProvider_.addTokenChangeListener(t=>{e.server_.refreshAppCheckToken(t.token)}),e.statsReporter_=function(t,n){const r=t.toString();return ED[r]||(ED[r]=new cR(e.stats_,e.server_)),ED[r]}(e.repoInfo_),e.infoData_=new nR,e.infoSyncTree_=new wF({startListening:(t,n,r,i)=>{let o=[];const s=e.infoData_.getNode(t._path);return s.isEmpty()||(o=PF(e.infoSyncTree_,t._path,s),setTimeout(()=>{i("ok")},0)),o},stopListening:()=>{}}),SL(e,"connected",!1),e.serverSyncTree_=new wF({startListening:(t,n,r,i)=>(e.server_.listen(t,r,n,(n,r)=>{const o=i(n,r);yL(e.eventQueue_,t._path,o)}),[]),stopListening:(t,n)=>{e.server_.unlisten(t,n)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new tq(this._repo,BD())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function(e,t){const n=kq[t];n&&n[e.key]===e||iD(`Database ${t}(${e.repoInfo_}) has already been deleted.`),DL(e),delete n[e.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&iD("Cannot call "+e+" on a deleted database.")}}function Aq(){LD.IS_TRANSPORT_INITIALIZED&&oD("Transport has already been initialized. Please call this function before calling ref or setting up a listener")}function Dq(){Aq(),DD.forceDisallow()}function Nq(){Aq(),FD.forceDisallow(),DD.forceAllow()}function Rq(e,t){eD(e,t)}class Fq{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return{committed:this.committed,snapshot:this.snapshot.toJSON()}}}cN.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)},cN.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)},jA(Ps.SDK_VERSION),(0,Ps._registerComponent)(new Ts.wA("database",(e,{instanceIdentifier:t})=>Eq(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Ps.registerVersion)(UA,VA,void 0),(0,Ps.registerVersion)(UA,VA,"esm2017");const Lq=new Ss.Yd("@firebase/database-compat"),qq=function(e){Lq.warn("FIREBASE WARNING: "+e)};class Uq{constructor(e){this._delegate=e}cancel(e){(0,Ms.Dv)("OnDisconnect.cancel",0,1,arguments.length),(0,Ms.Wj)("OnDisconnect.cancel","onComplete",e,!0);const t=this._delegate.cancel();return e&&t.then(()=>e(null),t=>e(t)),t}remove(e){(0,Ms.Dv)("OnDisconnect.remove",0,1,arguments.length),(0,Ms.Wj)("OnDisconnect.remove","onComplete",e,!0);const t=this._delegate.remove();return e&&t.then(()=>e(null),t=>e(t)),t}set(e,t){(0,Ms.Dv)("OnDisconnect.set",1,2,arguments.length),(0,Ms.Wj)("OnDisconnect.set","onComplete",t,!0);const n=this._delegate.set(e);return t&&n.then(()=>t(null),e=>t(e)),n}setWithPriority(e,t,n){(0,Ms.Dv)("OnDisconnect.setWithPriority",2,3,arguments.length),(0,Ms.Wj)("OnDisconnect.setWithPriority","onComplete",n,!0);const r=this._delegate.setWithPriority(e,t);return n&&r.then(()=>n(null),e=>n(e)),r}update(e,t){if((0,Ms.Dv)("OnDisconnect.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,qq("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}(0,Ms.Wj)("OnDisconnect.update","onComplete",t,!0);const n=this._delegate.update(e);return t&&n.then(()=>t(null),e=>t(e)),n}}class Vq{constructor(e,t){this.committed=e,this.snapshot=t}toJSON(){return(0,Ms.Dv)("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}}}class Zq{constructor(e,t){this._database=e,this._delegate=t}val(){return(0,Ms.Dv)("DataSnapshot.val",0,0,arguments.length),this._delegate.val()}exportVal(){return(0,Ms.Dv)("DataSnapshot.exportVal",0,0,arguments.length),this._delegate.exportVal()}toJSON(){return(0,Ms.Dv)("DataSnapshot.toJSON",0,1,arguments.length),this._delegate.toJSON()}exists(){return(0,Ms.Dv)("DataSnapshot.exists",0,0,arguments.length),this._delegate.exists()}child(e){return(0,Ms.Dv)("DataSnapshot.child",0,1,arguments.length),e=String(e),dL("DataSnapshot.child","path",e,!1),new Zq(this._database,this._delegate.child(e))}hasChild(e){return(0,Ms.Dv)("DataSnapshot.hasChild",1,1,arguments.length),dL("DataSnapshot.hasChild","path",e,!1),this._delegate.hasChild(e)}getPriority(){return(0,Ms.Dv)("DataSnapshot.getPriority",0,0,arguments.length),this._delegate.priority}forEach(e){return(0,Ms.Dv)("DataSnapshot.forEach",1,1,arguments.length),(0,Ms.Wj)("DataSnapshot.forEach","action",e,!1),this._delegate.forEach(t=>e(new Zq(this._database,t)))}hasChildren(){return(0,Ms.Dv)("DataSnapshot.hasChildren",0,0,arguments.length),this._delegate.hasChildren()}get key(){return this._delegate.key}numChildren(){return(0,Ms.Dv)("DataSnapshot.numChildren",0,0,arguments.length),this._delegate.size}getRef(){return(0,Ms.Dv)("DataSnapshot.ref",0,0,arguments.length),new Bq(this._database,this._delegate.ref)}get ref(){return this.getRef()}}class jq{constructor(e,t){this.database=e,this._delegate=t}on(e,t,n,r){var i;(0,Ms.Dv)("Query.on",2,4,arguments.length),(0,Ms.Wj)("Query.on","callback",t,!1);const o=jq.getCancelAndContextArgs_("Query.on",n,r),s=(e,n)=>{t.call(o.context,new Zq(this.database,e),n)};s.userCallback=t,s.context=o.context;const a=null===(i=o.cancel)||void 0===i?void 0:i.bind(o.context);switch(e){case"value":return uq(this._delegate,s,a),t;case"child_added":return hq(this._delegate,s,a),t;case"child_removed":return pq(this._delegate,s,a),t;case"child_changed":return dq(this._delegate,s,a),t;case"child_moved":return fq(this._delegate,s,a),t;default:throw new Error((0,Ms.gK)("Query.on","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}off(e,t,n){if((0,Ms.Dv)("Query.off",0,3,arguments.length),function(e,t,n){if(void 0!==t)switch(t){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error((0,Ms.gK)("Query.off","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}}(0,e),(0,Ms.Wj)("Query.off","callback",t,!0),(0,Ms.lb)("Query.off","context",n,!0),t){const r=()=>{};r.userCallback=t,r.context=n,gq(this._delegate,e,r)}else gq(this._delegate,e)}get(){return(e=this._delegate,function(e,t){const n=function(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(e,t)=>{const i=JD(e,n);r=r||gF(t,i)});let i=e.syncPointTree_.get(n);i?r=r||gF(i,BD()):(i=new hF,e.syncPointTree_=e.syncPointTree_.set(n,i));const o=null!=r,s=o?new gR(r,!0,!1):null;return wR(fF(i,t,FR(e.pendingWriteTree_,t._path),o?s.getNode():DN.EMPTY_NODE,o).viewCache_)}(e.serverSyncTree_,t);return null!=n?Promise.resolve(n):e.server_.get(t).then(n=>{const r=RN(n).withIndex(t._queryParams.getIndex()),i=PF(e.serverSyncTree_,t._path,r);return _L(e.eventQueue_,t._path,i),Promise.resolve(r)},n=>(NL(e,"get for query "+(0,Ms.Pz)(t)+" failed: "+n),Promise.reject(new Error(n))))}((e=(0,Ms.m9)(e))._repo,e).then(t=>new nq(t,new tq(e._repo,e._path),e._queryParams.getIndex()))).then(e=>new Zq(this.database,e));var e}once(e,t,n,r){(0,Ms.Dv)("Query.once",1,4,arguments.length),(0,Ms.Wj)("Query.once","callback",t,!0);const i=jq.getCancelAndContextArgs_("Query.once",n,r),o=new Ms.BH,s=(e,n)=>{const r=new Zq(this.database,e);t&&t.call(i.context,r,n),o.resolve(r)};s.userCallback=t,s.context=i.context;const a=e=>{i.cancel&&i.cancel.call(i.context,e),o.reject(e)};switch(e){case"value":uq(this._delegate,s,a,{onlyOnce:!0});break;case"child_added":hq(this._delegate,s,a,{onlyOnce:!0});break;case"child_removed":pq(this._delegate,s,a,{onlyOnce:!0});break;case"child_changed":dq(this._delegate,s,a,{onlyOnce:!0});break;case"child_moved":fq(this._delegate,s,a,{onlyOnce:!0});break;default:throw new Error((0,Ms.gK)("Query.once","eventType")+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}return o.promise}limitToFirst(e){return(0,Ms.Dv)("Query.limitToFirst",1,1,arguments.length),new jq(this.database,Iq(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToFirst: First argument must be a positive integer.");return new wq(e)}(e)))}limitToLast(e){return(0,Ms.Dv)("Query.limitToLast",1,1,arguments.length),new jq(this.database,Iq(this._delegate,function(e){if("number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("limitToLast: First argument must be a positive integer.");return new Cq(e)}(e)))}orderByChild(e){return(0,Ms.Dv)("Query.orderByChild",1,1,arguments.length),new jq(this.database,Iq(this._delegate,function(e){if("$key"===e)throw new Error('orderByChild: "$key" is invalid.  Use orderByKey() instead.');if("$priority"===e)throw new Error('orderByChild: "$priority" is invalid.  Use orderByPriority() instead.');if("$value"===e)throw new Error('orderByChild: "$value" is invalid.  Use orderByValue() instead.');return dL("orderByChild","path",e,!1),new Oq(e)}(e)))}orderByKey(){return(0,Ms.Dv)("Query.orderByKey",0,0,arguments.length),new jq(this.database,Iq(this._delegate,new Pq))}orderByPriority(){return(0,Ms.Dv)("Query.orderByPriority",0,0,arguments.length),new jq(this.database,Iq(this._delegate,new Tq))}orderByValue(){return(0,Ms.Dv)("Query.orderByValue",0,0,arguments.length),new jq(this.database,Iq(this._delegate,new Mq))}startAt(e=null,t){return(0,Ms.Dv)("Query.startAt",0,2,arguments.length),new jq(this.database,Iq(this._delegate,function(e=null,t){return hL("startAt","key",t,!0),new bq(e,t)}(e,t)))}startAfter(e=null,t){return(0,Ms.Dv)("Query.startAfter",0,2,arguments.length),new jq(this.database,Iq(this._delegate,function(e,t){return hL("startAfter","key",t,!0),new vq(e,t)}(e,t)))}endAt(e=null,t){return(0,Ms.Dv)("Query.endAt",0,2,arguments.length),new jq(this.database,Iq(this._delegate,function(e,t){return hL("endAt","key",t,!0),new _q(e,t)}(e,t)))}endBefore(e=null,t){return(0,Ms.Dv)("Query.endBefore",0,2,arguments.length),new jq(this.database,Iq(this._delegate,function(e,t){return hL("endBefore","key",t,!0),new yq(e,t)}(e,t)))}equalTo(e,t){return(0,Ms.Dv)("Query.equalTo",1,2,arguments.length),new jq(this.database,Iq(this._delegate,function(e,t){return hL("equalTo","key",t,!0),new Sq(e,t)}(e,t)))}toString(){return(0,Ms.Dv)("Query.toString",0,0,arguments.length),this._delegate.toString()}toJSON(){return(0,Ms.Dv)("Query.toJSON",0,1,arguments.length),this._delegate.toJSON()}isEqual(e){if((0,Ms.Dv)("Query.isEqual",1,1,arguments.length),!(e instanceof jq))throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.");return this._delegate.isEqual(e._delegate)}static getCancelAndContextArgs_(e,t,n){const r={cancel:void 0,context:void 0};if(t&&n)r.cancel=t,(0,Ms.Wj)(e,"cancel",r.cancel,!0),r.context=n,(0,Ms.lb)(e,"context",r.context,!0);else if(t)if("object"==typeof t&&null!==t)r.context=t;else{if("function"!=typeof t)throw new Error((0,Ms.gK)(e,"cancelOrContext")+" must either be a cancel callback or a context object.");r.cancel=t}return r}get ref(){return new Bq(this.database,new tq(this._delegate._repo,this._delegate._path))}}class Bq extends jq{constructor(e,t){super(e,new QL(t._repo,t._path,new KN,!1)),this.database=e,this._delegate=t}getKey(){return(0,Ms.Dv)("Reference.key",0,0,arguments.length),this._delegate.key}child(e){return(0,Ms.Dv)("Reference.child",1,1,arguments.length),"number"==typeof e&&(e=String(e)),new Bq(this.database,oq(this._delegate,e))}getParent(){(0,Ms.Dv)("Reference.parent",0,0,arguments.length);const e=this._delegate.parent;return e?new Bq(this.database,e):null}getRoot(){return(0,Ms.Dv)("Reference.root",0,0,arguments.length),new Bq(this.database,this._delegate.root)}set(e,t){(0,Ms.Dv)("Reference.set",1,2,arguments.length),(0,Ms.Wj)("Reference.set","onComplete",t,!0);const n=sq(this._delegate,e);return t&&n.then(()=>t(null),e=>t(e)),n}update(e,t){if((0,Ms.Dv)("Reference.update",1,2,arguments.length),Array.isArray(e)){const t={};for(let n=0;n<e.length;++n)t[""+n]=e[n];e=t,qq("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}fL("Reference.update",this._delegate._path),(0,Ms.Wj)("Reference.update","onComplete",t,!0);const n=function(e,t){lL("update",t,e._path,!1);const n=new Ms.BH;return function(e,t,n,r){NL(e,"update",{path:t.toString(),value:n});let i=!0;const o=PL(e),s={};if(pD(n,(n,r)=>{i=!1,s[n]=BF(YD(t,n),RN(r),e.serverSyncTree_,o)}),i)tD("update() called with empty data.  Don't do anything."),RL(0,r,"ok",void 0);else{const i=IL(e),o=function(e,t,n,r){!function(e,t,n,r){(0,Ms.hu)(r>e.lastWriteId,"Stacking an older merge on top of newer ones"),e.allWrites.push({path:t,children:n,writeId:r,visible:!0}),e.visibleWrites=SR(e.visibleWrites,t,n),e.lastWriteId=r}(e.pendingWriteTree_,t,n,r);const i=PR.fromObject(n);return IF(e,new pR({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},t,i))}(e.serverSyncTree_,t,s,i);mL(e.eventQueue_,o),e.server_.merge(t.toString(),n,(n,o)=>{const s="ok"===n;s||oD("update at "+t+" failed: "+n);const a=OF(e.serverSyncTree_,i,!s),c=a.length>0?qL(e,t):t;yL(e.eventQueue_,c,a),RL(0,r,n,o)}),pD(n,n=>{const r=BL(e,YD(t,n));qL(e,r)}),yL(e.eventQueue_,t,[])}}(e._repo,e._path,t,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return t&&n.then(()=>t(null),e=>t(e)),n}setWithPriority(e,t,n){(0,Ms.Dv)("Reference.setWithPriority",2,3,arguments.length),(0,Ms.Wj)("Reference.setWithPriority","onComplete",n,!0);const r=function(e,t,n){if(fL("setWithPriority",e._path),aL("setWithPriority",t,e._path,!1),uL("setWithPriority",n,!1),".length"===e.key||".keys"===e.key)throw"setWithPriority failed: "+e.key+" is a read-only object.";const r=new Ms.BH;return kL(e._repo,e._path,t,n,r.wrapCallback(()=>{})),r.promise}(this._delegate,e,t);return n&&r.then(()=>n(null),e=>n(e)),r}remove(e){(0,Ms.Dv)("Reference.remove",0,1,arguments.length),(0,Ms.Wj)("Reference.remove","onComplete",e,!0);const t=function(e){return fL("remove",e._path),sq(e,null)}(this._delegate);return e&&t.then(()=>e(null),t=>e(t)),t}transaction(e,t,n){(0,Ms.Dv)("Reference.transaction",1,3,arguments.length),(0,Ms.Wj)("Reference.transaction","transactionUpdate",e,!1),(0,Ms.Wj)("Reference.transaction","onComplete",t,!0),function(e,t,n,r){if(void 0!==n&&"boolean"!=typeof n)throw new Error((0,Ms.gK)("Reference.transaction","applyLocally")+"must be a boolean.")}(0,0,n);const r=function(e,t,n){var r;if(e=(0,Ms.m9)(e),fL("Reference.transaction",e._path),".length"===e.key||".keys"===e.key)throw"Reference.transaction failed: "+e.key+" is a read-only object.";const i=null===(r=null==n?void 0:n.applyLocally)||void 0===r||r,o=new Ms.BH,s=uq(e,()=>{});return function(t,n,r,i,s,a){NL(t,"transaction on "+n);const c={path:n,update:r,onComplete:(t,n,r)=>{let i=null;t?o.reject(t):(i=new nq(r,new tq(e._repo,e._path),TN),o.resolve(new Fq(n,i)))},status:null,order:KA(),applyLocally:a,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},l=FL(t,n,void 0);c.currentInputSnapshot=l;const u=c.update(l.val());if(void 0===u)c.unwatcher(),c.currentOutputSnapshotRaw=null,c.currentOutputSnapshotResolved=null,c.onComplete&&c.onComplete(null,!1,c.currentInputSnapshot);else{cL("transaction failed: Data returned ",u,c.path),c.status=0;const e=GF(t.transactionQueueTree_,n),r=WF(e)||[];let i;r.push(c),KF(e,r),"object"==typeof u&&null!==u&&(0,Ms.r3)(u,".priority")?(i=(0,Ms.DV)(u,".priority"),(0,Ms.hu)(sL(i),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.")):i=(SF(t.serverSyncTree_,n)||DN.EMPTY_NODE).getPriority().val();const o=PL(t),s=RN(u,i),a=zF(s,l,o);c.currentOutputSnapshotRaw=s,c.currentOutputSnapshotResolved=a,c.currentWriteId=IL(t);const h=CF(t.serverSyncTree_,n,a,c.currentWriteId,c.applyLocally);yL(t.eventQueue_,n,h),LL(t,t.transactionQueueTree_)}}(e._repo,e._path,t,0,s,i),o.promise}(this._delegate,e,{applyLocally:n}).then(e=>new Vq(e.committed,new Zq(this.database,e.snapshot)));return t&&r.then(e=>t(null,e.committed,e.snapshot),e=>t(e,!1,null)),r}setPriority(e,t){(0,Ms.Dv)("Reference.setPriority",1,2,arguments.length),(0,Ms.Wj)("Reference.setPriority","onComplete",t,!0);const n=function(e,t){e=(0,Ms.m9)(e),fL("setPriority",e._path),uL("setPriority",t,!1);const n=new Ms.BH;return kL(e._repo,YD(e._path,".priority"),t,null,n.wrapCallback(()=>{})),n.promise}(this._delegate,e);return t&&n.then(()=>t(null),e=>t(e)),n}push(e,t){(0,Ms.Dv)("Reference.push",0,2,arguments.length),(0,Ms.Wj)("Reference.push","onComplete",t,!0);const n=function(e,t){e=(0,Ms.m9)(e),fL("push",e._path),aL("push",t,e._path,!0);const n=OL(e._repo),r=UN(n),i=oq(e,r),o=oq(e,r);let s;return s=null!=t?sq(o,t).then(()=>o):Promise.resolve(o),i.then=s.then.bind(s),i.catch=s.then.bind(s,void 0),i}(this._delegate,e),r=n.then(e=>new Bq(this.database,e));t&&r.then(()=>t(null),e=>t(e));const i=new Bq(this.database,n);return i.then=r.then.bind(r),i.catch=r.catch.bind(r,void 0),i}onDisconnect(){return fL("Reference.onDisconnect",this._delegate._path),new Uq(new YL(this._delegate._repo,this._delegate._path))}get key(){return this.getKey()}get parent(){return this.getParent()}get root(){return this.getRoot()}}class zq{constructor(e,t){this._delegate=e,this.app=t,this.INTERNAL={delete:()=>this._delegate._delete(),forceWebSockets:Dq,forceLongPolling:Nq}}useEmulator(e,t,n={}){!function(e,t,n,r={}){(e=(0,Ms.m9)(e))._checkNotDeleted("useEmulator"),e._instanceStarted&&iD("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let o;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&iD('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new CD(CD.OWNER);else if(r.mockUserToken){const t="string"==typeof r.mockUserToken?r.mockUserToken:(0,Ms.Sg)(r.mockUserToken,e.app.options.projectId);o=new CD(t)}!function(e,t,n,r){e.repoInfo_=new MD(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams),r&&(e.authTokenProvider_=r)}(i,t,n,o)}(this._delegate,e,t,n)}ref(e){if((0,Ms.Dv)("database.ref",0,1,arguments.length),e instanceof Bq){const t=iq(this._delegate,e.toString());return new Bq(this,t)}{const t=rq(this._delegate,e);return new Bq(this,t)}}refFromURL(e){(0,Ms.Dv)("database.refFromURL",1,1,arguments.length);const t=iq(this._delegate,e);return new Bq(this,t)}goOffline(){return(0,Ms.Dv)("database.goOffline",0,0,arguments.length),function(e){(e=(0,Ms.m9)(e))._checkNotDeleted("goOffline"),DL(e._repo)}(this._delegate)}goOnline(){return(0,Ms.Dv)("database.goOnline",0,0,arguments.length),function(e){var t;(e=(0,Ms.m9)(e))._checkNotDeleted("goOnline"),(t=e._repo).persistentConnection_&&t.persistentConnection_.resume(wL)}(this._delegate)}}zq.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:e=>function(e){return{".sv":{increment:e}}}(e)};var Hq=Object.freeze({__proto__:null,initStandalone:function({app:e,url:t,version:n,customAuthImpl:r,namespace:i,nodeAdmin:o=!1}){jA(n);const s=new Ts.zt("auth-internal",new Ts.H0("database-standalone"));return s.setComponent(new Ts.wA("auth-internal",()=>r,"PRIVATE")),{instance:new zq(Eq(e,s,void 0,t,o),e),namespace:i}}});const $q=zq.ServerValue;function Gq(e){return null==e}function Wq(e){return"function"==typeof e.set}function Kq(e,t){return Wq(t)?t:e.ref(t)}function Yq(e,t){if("string"==typeof e)return t.stringCase();if(Wq(e))return t.firebaseCase();if("function"==typeof e.exportVal)return t.snapshotCase();throw new Error("Expects a string, snapshot, or reference. Got: "+typeof e)}function Qq(e,t,n="on",r=fi.z){return new di.y(i=>{let o=null;return o=e[n](t,(e,t)=>{r.schedule(()=>{i.next({snapshot:e,prevKey:t})}),"once"===n&&r.schedule(()=>i.complete())},e=>{r.schedule(()=>i.error(e))}),"on"===n?{unsubscribe(){null!=o&&e.off(t,o)}}:{unsubscribe(){}}}).pipe((0,Ni.U)(e=>{const{snapshot:n,prevKey:r}=e;let i=null;return n.exists()&&(i=n.key),{type:t,payload:n,prevKey:r,key:i}}),(0,Gi.B)())}function Jq(e,t){const n=e.length;for(let r=0;r<n;r++)if(e[r].payload.key===t)return r;return-1}function Xq(e,t){const{payload:n,prevKey:r,key:i}=t,o=Jq(e,i),s=function(e,t){if(Gq(t))return 0;{const n=Jq(e,t);return-1===n?e.length:n+1}}(e,r);switch(t.type){case"value":if(t.payload&&t.payload.exists()){let n=null;t.payload.forEach(t=>{const r={payload:t,type:"value",prevKey:n,key:t.key};return n=t.key,e=[...e,r],!1})}return e;case"child_added":if(o>-1){const i=e[o-1];(i&&i.key||null)!==r&&(e=e.filter(e=>e.payload.key!==n.key)).splice(s,0,t)}else{if(null==r)return[t,...e];(e=e.slice()).splice(s,0,t)}return e;case"child_removed":return e.filter(e=>e.payload.key!==n.key);case"child_changed":return e.map(e=>e.payload.key===i?t:e);case"child_moved":if(o>-1){const t=e.splice(o,1)[0];return(e=e.slice()).splice(s,0,t),e}return e;default:return e}}function eU(e){return(Gq(e)||0===e.length)&&(e=["child_added","child_removed","child_changed","child_moved"]),e}function tU(e,t,n){return function(e,t,n){return Qq(e,"value","once",n).pipe(Go(r=>{const i=[(0,Jr.of)(r)];return t.forEach(t=>i.push(Qq(e,t,"on",n))),(0,Yo.T)(...i).pipe(Ka(Xq,[]))}),oi())}(e,t=eU(t),n)}function nU(e,t,n){const r=(t=eU(t)).map(t=>Qq(e,t,"on",n));return(0,Yo.T)(...r)}function rU(e,t){return function(n,r){return Yq(n,{stringCase:()=>e.child(n)[t](r),firebaseCase:()=>n[t](r),snapshotCase:()=>n.ref[t](r)})}}function iU(e){return function(t){return t?Yq(t,{stringCase:()=>e.child(t).remove(),firebaseCase:()=>t.remove(),snapshotCase:()=>t.ref.remove()}):e.remove()}}function oU(e,t){return function(){return Qq(e,"value","on",t)}}!function(e){e.INTERNAL.registerComponent(new Ts.wA("database-compat",(e,{instanceIdentifier:t})=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("database").getImmediate({identifier:t});return new zq(r,n)},"PUBLIC").setServiceProps({Reference:Bq,Query:jq,Database:zq,DataSnapshot:Zq,enableLogging:Rq,INTERNAL:Hq,ServerValue:$q}).setMultipleInstances(!0)),e.registerVersion("@firebase/database-compat","0.2.1")}(ih.Z);const sU=new r.OlP("angularfire2.realtimeDatabaseURL"),aU=new r.OlP("angularfire2.database.use-emulator");let cU=(()=>{class e{constructor(e,t,n,r,i,o,s,a,c,l,u,h,d,f,p){this.schedulers=o;const g=s,m=(0,ms.on)(e,i,t);a&&fa(m,i,c,u,h,d,l,f),this.database=(0,ms.cc)(`${m.name}.database.${n}`,"AngularFireDatabase",m.name,()=>{const e=i.runOutsideAngular(()=>m.database(n||void 0));return g&&e.useEmulator(...g),e},[g])}list(e,t){const n=this.schedulers.ngZone.runOutsideAngular(()=>Kq(this.database,e));let r=n;return t&&(r=t(n)),function(e,t){const n=t.schedulers.outsideAngular,r=t.schedulers.ngZone.run(()=>e.ref);return{query:e,update:rU(r,"update"),set:rU(r,"set"),push:e=>r.push(e),remove:iU(r),snapshotChanges:t=>tU(e,t,n).pipe(gs.iC),stateChanges:t=>nU(e,t,n).pipe(gs.iC),auditTrail:t=>function(e,t,n){return function(e,t,n){return function(e,t){return Qq(e,"value","on",t).pipe((0,Ni.U)(e=>{let t;return e.payload.forEach(e=>(t=e.key,!1)),{data:e,lastKeyToLoad:t}}))}(e,n).pipe(function(...e){return t=>{let n;return"function"==typeof e[e.length-1]&&(n=e.pop()),t.lift(new RA(e,n))}}(t),(0,Ni.U)(([e,t])=>{const n=e.lastKeyToLoad,r=t.map(e=>e.key);return{actions:t,lastKeyToLoad:n,loadedKeys:r}}),(r=e=>-1===e.loadedKeys.indexOf(e.lastKeyToLoad),e=>e.lift(new LA(r))),(0,Ni.U)(e=>e.actions));var r}(e,nU(e,t).pipe(Ka((e,t)=>[...e,t],[])),n)}(e,t,n).pipe(gs.iC),valueChanges:(t,r)=>tU(e,t,n).pipe((0,Ni.U)(e=>e.map(e=>r&&r.idField?Object.assign(Object.assign({},e.payload.val()),{[r.idField]:e.key}):e.payload.val())),gs.iC)}}(r,this)}object(e){return t=this.schedulers.ngZone.runOutsideAngular(()=>Kq(this.database,e)),n=this,{query:t,snapshotChanges:()=>oU(t,n.schedulers.outsideAngular)().pipe(gs.iC),update:e=>t.ref.update(e),set:e=>t.ref.set(e),remove:()=>t.ref.remove(),valueChanges:()=>oU(t,n.schedulers.outsideAngular)().pipe(gs.iC,(0,Ni.U)(e=>e.payload.exists()?e.payload.val():null))};var t,n}createPushId(){return this.schedulers.ngZone.runOutsideAngular(()=>this.database.ref()).push().key}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(ms.Dh),r.LFG(ms.xv,8),r.LFG(sU,8),r.LFG(r.Lbi),r.LFG(r.R0b),r.LFG(gs.HU),r.LFG(aU,8),r.LFG(pa,8),r.LFG(aa,8),r.LFG(ca,8),r.LFG(la,8),r.LFG(ua,8),r.LFG(ha,8),r.LFG(da,8),r.LFG(oa,8))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac,providedIn:"any"}),e})(),lU=(()=>{class e{constructor(){sa.Z.registerVersion("angularfire",gs.q4.full,"rtdb-compat")}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[cU]}),e})();new(function(){function e(){}return e.prototype.getAllStyles=function(e){return window.getComputedStyle(e)},e.prototype.getStyle=function(e,t){return this.getAllStyles(e)[t]},e.prototype.isStaticPositioned=function(e){return"static"===(this.getStyle(e,"position")||"static")},e.prototype.offsetParent=function(e){for(var t=e.offsetParent||document.documentElement;t&&t!==document.documentElement&&this.isStaticPositioned(t);)t=t.offsetParent;return t||document.documentElement},e.prototype.position=function(e,t){var n;void 0===t&&(t=!0);var r={width:0,height:0,top:0,bottom:0,left:0,right:0};if("fixed"===this.getStyle(e,"position"))n={top:(n=e.getBoundingClientRect()).top,bottom:n.bottom,left:n.left,right:n.right,height:n.height,width:n.width};else{var i=this.offsetParent(e);n=this.offset(e,!1),i!==document.documentElement&&(r=this.offset(i,!1)),r.top+=i.clientTop,r.left+=i.clientLeft}return n.top-=r.top,n.bottom-=r.top,n.left-=r.left,n.right-=r.left,t&&(n.top=Math.round(n.top),n.bottom=Math.round(n.bottom),n.left=Math.round(n.left),n.right=Math.round(n.right)),n},e.prototype.offset=function(e,t){void 0===t&&(t=!0);var n=e.getBoundingClientRect(),r=window.pageYOffset-document.documentElement.clientTop,i=window.pageXOffset-document.documentElement.clientLeft,o={height:n.height||e.offsetHeight,width:n.width||e.offsetWidth,top:n.top+r,bottom:n.bottom+r,left:n.left+i,right:n.right+i};return t&&(o.height=Math.round(o.height),o.width=Math.round(o.width),o.top=Math.round(o.top),o.bottom=Math.round(o.bottom),o.left=Math.round(o.left),o.right=Math.round(o.right)),o},e.prototype.positionElements=function(e,t,n,r){var i=n.split("-"),o=i[0],s=void 0===o?"top":o,a=i[1],c=void 0===a?"center":a,l=r?this.offset(e,!1):this.position(e,!1),u=this.getAllStyles(t),h=parseFloat(u.marginTop),d=parseFloat(u.marginBottom),f=parseFloat(u.marginLeft),p=parseFloat(u.marginRight),g=0,m=0;switch(s){case"top":g=l.top-(t.offsetHeight+h+d);break;case"bottom":g=l.top+l.height;break;case"left":m=l.left-(t.offsetWidth+f+p);break;case"right":m=l.left+l.width}switch(c){case"top":g=l.top;break;case"bottom":g=l.top+l.height-t.offsetHeight;break;case"left":m=l.left;break;case"right":m=l.left+l.width-t.offsetWidth;break;case"center":"top"===s||"bottom"===s?m=l.left+l.width/2-t.offsetWidth/2:g=l.top+l.height/2-t.offsetHeight/2}t.style.transform="translate("+Math.round(m)+"px, "+Math.round(g)+"px)";var _=t.getBoundingClientRect(),y=document.documentElement,b=window.innerHeight||y.clientHeight,v=window.innerWidth||y.clientWidth;return _.left>=0&&_.top>=0&&_.right<=v&&_.bottom<=b},e}());var uU=function(){return(uU=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},hU=function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var r=Array(e),i=0;for(t=0;t<n;t++)for(var o=arguments[t],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r},dU=(()=>(function(e){e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=1]="MONDAY",e[e.TUESDAY=2]="TUESDAY",e[e.WEDNESDAY=3]="WEDNESDAY",e[e.THURSDAY=4]="THURSDAY",e[e.FRIDAY=5]="FRIDAY",e[e.SATURDAY=6]="SATURDAY"}(dU||(dU={})),dU))(),fU=[dU.SUNDAY,dU.SATURDAY],pU=86400;function gU(e,t){var n=t.startDate,r=t.excluded,i=t.precision;if(r.length<1)return 0;for(var o=e.getDay,s=e.addDays,a=(0,e.addSeconds)(n,t.seconds-1),c=o(n),l=o(a),u=0,h=n,d=function(){var t=o(h);r.some(function(e){return e===t})&&(u+=function(e,t){var n=t.day,r=t.dayEnd,i=t.startDate,o=t.endDate,s=e.differenceInSeconds,a=e.startOfDay;if("minutes"===t.precision){if(n===t.dayStart)return s((0,e.endOfDay)(i),i)+1;if(n===r)return s(o,a(o))+1}return pU}(e,{dayStart:c,dayEnd:l,day:t,precision:i,startDate:n,endDate:a})),h=s(h,1)};h<a;)d();return u}function mU(e,t){var n=t.periodStart,r=t.periodEnd;return t.events.filter(function(t){return function(e,t){var n=t.event,r=t.periodStart,i=t.periodEnd,o=e.isSameSecond,s=n.start,a=n.end||n.start;return s>r&&s<i||a>r&&a<i||s<r&&a>i||!(!o(s,r)&&!o(s,i))||!(!o(a,r)&&!o(a,i))}(e,{event:t,periodStart:n,periodEnd:r})})}function _U(e,t){var n=t.date,r=t.weekendDays,i=void 0===r?fU:r,o=e.isSameDay,s=e.getDay,a=(0,e.startOfDay)(new Date),c=s(n);return{date:n,day:c,isPast:n<a,isToday:o(n,a),isFuture:n>a,isWeekend:i.indexOf(c)>-1}}function yU(e,t){for(var n=t.excluded,r=void 0===n?[]:n,i=t.weekendDays,o=t.viewStart,s=void 0===o?e.startOfWeek(t.viewDate,{weekStartsOn:t.weekStartsOn}):o,a=t.viewEnd,c=void 0===a?e.addDays(s,7):a,l=e.addDays,u=e.getDay,h=[],d=s;d<c;)r.some(function(e){return u(d)===e})||h.push(_U(e,{date:d,weekendDays:i})),d=l(d,1);return h}function bU(e,t){var n=t.events,r=void 0===n?[]:n,i=t.excluded,o=void 0===i?[]:i,s=t.precision,a=void 0===s?"days":s,c=t.absolutePositionedEvents,l=void 0!==c&&c,u=t.viewStart,h=t.viewEnd;u=e.startOfDay(u),h=e.endOfDay(h);var d=e.differenceInSeconds,f=e.differenceInDays,p=function(e,t){for(var n=t.date2,r=t.excluded,i=t.date1,o=0;i<n;)-1===r.indexOf(e.getDay(i))&&o++,i=e.addDays(i,1);return o}(e,{date1:u,date2:h,excluded:o}),g=f(h,u)+1,m=r.filter(function(e){return e.allDay}).map(function(t){var n=function(e,t){var n=t.event,r=t.startOfWeek,i=t.excluded,o=t.precision,s=e.differenceInDays,a=e.startOfDay,c=e.differenceInSeconds;if(n.start<r)return 0;var l=0;switch(o){case"days":l=s(a(n.start),r)*pU;break;case"minutes":l=c(n.start,r)}return l-=gU(e,{startDate:r,seconds:l,excluded:i,precision:o}),Math.abs(l/pU)}(e,{event:t,startOfWeek:u,excluded:o,precision:a});return{event:t,offset:n,span:function(e,t){var n=t.event,r=t.offset,i=t.excluded,o=t.precision,s=t.totalDaysInView,a=e.differenceInSeconds,c=e.addDays,l=e.endOfDay,u=e.differenceInDays,h=pU,d=(0,e.max)([n.start,t.startOfWeekDate]);if(n.end)switch(o){case"minutes":h=a(n.end,d);break;default:h=u(c(l(n.end),1),d)*pU}var f=r*pU,p=s*pU;return f+h>p&&(h=p-f),(h-=gU(e,{startDate:d,seconds:h,excluded:i,precision:o}))/pU}(e,{event:t,offset:n,startOfWeekDate:u,excluded:o,precision:a,totalDaysInView:g})}}).filter(function(e){return e.offset<p}).filter(function(e){return e.span>0}).map(function(e){return{event:e.event,offset:e.offset,span:e.span,startsBeforeWeek:e.event.start<u,endsAfterWeek:(e.event.end||e.event.start)>h}}).sort(function(e,t){var n=d(e.event.start,t.event.start);return 0===n?d(t.event.end||t.event.start,e.event.end||e.event.start):n}),_=[],y=[];return m.forEach(function(e,t){if(-1===y.indexOf(e)){y.push(e);var n=e.span+e.offset,r=m.slice(t+1).filter(function(e){if(e.offset>=n&&n+e.span<=g&&-1===y.indexOf(e)){var t=e.offset-n;return l||(e.offset=t),n+=e.span+t,y.push(e),!0}}),i=hU([e],r),o=i.filter(function(e){return e.event.id}).map(function(e){return e.event.id}).join("-");_.push(uU({row:i},o?{id:o}:{}))}}),_}function vU(e,t){var n=t.events,r=t.viewDate,i=t.hourSegments,o=t.hourDuration,s=t.dayStart,a=t.dayEnd,c=t.weekStartsOn,l=t.excluded,u=t.weekendDays,h=t.segmentHeight,d=t.viewStart,f=t.viewEnd,p=t.minimumEventHeight,g=function(e,t){var n=t.viewDate,r=t.hourSegments,i=t.hourDuration,o=t.dayStart,s=t.dayEnd,a=e.setMinutes,c=e.setHours,l=e.startOfDay,u=e.startOfMinute,h=e.endOfDay,d=e.addMinutes,f=e.addDays,p=[],g=a(c(l(n),CU(o.hour)),OU(o.minute)),m=a(c(u(h(n)),CU(s.hour)),OU(s.minute)),_=(i||60)/r,y=l(n),b=h(n),v=function(e){return e};e.getTimezoneOffset(y)!==e.getTimezoneOffset(b)&&(y=f(y,1),g=f(g,1),m=f(m,1),v=function(e){return f(e,-1)});for(var w=i?1440/i:60,C=0;C<w;C++){for(var O=[],P=0;P<r;P++){var T=d(d(g,C*(i||60)),P*_);T>=g&&T<m&&O.push({date:v(T),displayDate:T,isStart:0===P})}O.length>0&&p.push({segments:O})}return p}(e,{viewDate:r,hourSegments:i,hourDuration:o,dayStart:s,dayEnd:a}),m=yU(e,{viewDate:r,weekStartsOn:c,excluded:l,weekendDays:u,viewStart:d,viewEnd:f}),_=e.setHours,y=e.setMinutes,b=e.getHours,v=e.getMinutes;return m.map(function(t){var r=function(e,t){var n=t.events,r=t.viewDate,i=t.hourSegments,o=t.dayStart,s=t.dayEnd,a=t.eventWidth,c=t.segmentHeight,l=t.hourDuration,u=t.minimumEventHeight,h=e.setMinutes,d=e.setHours,f=e.startOfDay,p=e.startOfMinute,g=e.endOfDay,m=e.differenceInMinutes,_=h(d(f(r),CU(o.hour)),OU(o.minute)),y=h(d(p(g(r)),CU(s.hour)),OU(s.minute));y.setSeconds(59,999);var b=[],v=mU(e,{events:n.filter(function(e){return!e.allDay}),periodStart:_,periodEnd:y}),w=v.sort(function(e,t){return e.start.valueOf()-t.start.valueOf()}).map(function(t){var n=t.start,r=t.end||n,o=n<_,s=r>y,h=i*c/(l||60),d=0;if(n>_){var f=e.getTimezoneOffset(n),p=e.getTimezoneOffset(_)-f;d+=m(n,_)+p}d*=h,d=Math.floor(d);var g=o?_:n,v=s?y:r,w=e.getTimezoneOffset(g)-e.getTimezoneOffset(v),C=m(v,g)+w;t.end?C*=h:C=c,u&&C<u&&(C=u),C=Math.floor(C);for(var O=wU(b,d,d+C),P=0;O.some(function(e){return e.left===P});)P+=a;var T={event:t,height:C,width:a,top:d,left:P,startsBeforeDay:o,endsAfterDay:s};return b.push(T),T}),C=Math.max.apply(Math,w.map(function(e){return e.left+e.width}));return{events:w,width:C,allDayEvents:mU(e,{events:n.filter(function(e){return e.allDay}),periodStart:f(_),periodEnd:g(y)}),period:{events:v,start:_,end:y}}}(e,{events:n,viewDate:t.date,hourSegments:i,dayStart:s,dayEnd:a,segmentHeight:h,eventWidth:1,hourDuration:o,minimumEventHeight:p}),c=g.map(function(e){var n=e.segments.map(function(e){var n=y(_(t.date,b(e.date)),v(e.date));return uU(uU({},e),{date:n})});return uU(uU({},e),{segments:n})});function l(e,t){var n=Math.max.apply(Math,t.map(function(e){return e.left+1})),r=e.filter(function(e){return e.left>=n}).filter(function(e){return wU(t,e.top,e.top+e.height).length>0});return r.length>0?l(e,r):n}var u=r.events.map(function(e){var t=100/l(r.events,wU(r.events,e.top,e.top+e.height));return uU(uU({},e),{left:e.left*t,width:t})});return{hours:c,date:t.date,events:u.map(function(e){var t=wU(u.filter(function(t){return t.left>e.left}),e.top,e.top+e.height);return t.length>0?uU(uU({},e),{width:Math.min.apply(Math,t.map(function(e){return e.left}))-e.left}):e})}})}function wU(e,t,n){return e.filter(function(e){var r=e.top,i=e.top+e.height;return t<i&&i<n||t<r&&r<n||r<=t&&n<=i})}function CU(e){return Math.max(Math.min(23,e),0)}function OU(e){return Math.max(Math.min(59,e),0)}"function"==typeof Symbol&&Symbol;var PU=["webkit","moz","ms","o"];(function(){if("undefined"==typeof window)return function(){};for(var e=0,t=PU.length;e<t&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[PU[e]+"RequestAnimationFrame"];if(!window.requestAnimationFrame){var n=0;window.requestAnimationFrame=function(e){var t=(new Date).getTime(),r=Math.max(0,16-t-n),i=window.setTimeout(function(){return e(t+r)},r);return n=t+r,i}}window.requestAnimationFrame.bind(window)})(),function(){if("undefined"==typeof window)return function(){};for(var e=0,t=PU.length;e<t&&!window.cancelAnimationFrame;++e)window.cancelAnimationFrame=window[PU[e]+"CancelAnimationFrame"]||window[PU[e]+"CancelRequestAnimationFrame"];window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){window.clearTimeout(e)}),window.cancelAnimationFrame.bind(window)}();let TU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})();"undefined"!=typeof window&&("ontouchstart"in window||navigator.maxTouchPoints>0||navigator),Object.freeze({topLeft:"nw-resize",topRight:"ne-resize",bottomLeft:"sw-resize",bottomRight:"se-resize",leftOrRight:"col-resize",topOrBottom:"row-resize"});let MU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({}),e})(),SU=(()=>{class e{constructor(e){this.i18nPlural=e}monthCell({day:e,locale:t}){return e.badgeTotal>0?`\n        ${B(e.date,"EEEE MMMM d",t)},\n        ${this.i18nPlural.transform(e.badgeTotal,{"=0":"No events","=1":"One event",other:"# events"})},\n         click to expand\n      `:`${B(e.date,"EEEE MMMM d",t)}`}openDayEventsLandmark({date:e,locale:t}){return`\n      Beginning of expanded view for ${B(e,"EEEE MMMM dd",t)}\n    `}openDayEventsAlert({date:e,locale:t}){return`${B(e,"EEEE MMMM dd",t)} expanded`}eventDescription({event:e,locale:t}){if(!0===e.allDay)return this.allDayEventDescription({event:e,locale:t});const n=`\n      ${B(e.start,"EEEE MMMM dd",t)},\n      ${e.title}, from ${B(e.start,"hh:mm a",t)}\n    `;return e.end?n+` to ${B(e.end,"hh:mm a",t)}`:n}allDayEventDescription({event:e,locale:t}){const n=`\n      ${e.title}, event spans multiple days:\n      start time ${B(e.start,"MMMM dd hh:mm a",t)}\n    `;return e.end?n+`, stop time ${B(e.end,"MMMM d hh:mm a",t)}`:n+", no stop time"}actionButtonLabel({action:e}){return e.a11yLabel}monthCellTabIndex(){return 0}hideMonthCellEvents(){return!0}hideEventTitle(){return!0}hideWeekHourSegment(){return!0}hideDayHourSegment(){return!0}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(we))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();class IU{month(e,t){return e.title}monthTooltip(e,t){return e.title}week(e,t){return e.title}weekTooltip(e,t){return e.title}day(e,t){return e.title}dayTooltip(e,t){return e.title}}function kU(e,t,n,r){let i=0,o=0;const s=n<0?e.subDays:e.addDays;let a=t;for(;o<=Math.abs(n);){a=s(t,i);const n=e.getDay(a);-1===r.indexOf(n)&&o++,i++}return a}class EU{}let xU=(()=>{class e{constructor(e){this.dateAdapter=e}monthViewColumnHeader({date:e,locale:t}){return B(e,"EEEE",t)}monthViewDayNumber({date:e,locale:t}){return B(e,"d",t)}monthViewTitle({date:e,locale:t}){return B(e,"LLLL y",t)}weekViewColumnHeader({date:e,locale:t}){return B(e,"EEEE",t)}weekViewColumnSubHeader({date:e,locale:t}){return B(e,"MMM d",t)}weekViewTitle({date:e,locale:t,weekStartsOn:n,excludeDays:r,daysInWeek:i}){const{viewStart:o,viewEnd:s}=function(e,t,n,r=[],i){let o=i?e.startOfDay(t):e.startOfWeek(t,{weekStartsOn:n});const s=e.endOfWeek(t,{weekStartsOn:n});for(;r.indexOf(e.getDay(o))>-1&&o<s;)o=e.addDays(o,1);if(i)return{viewStart:o,viewEnd:e.endOfDay(kU(e,o,i-1,r))};{let t=s;for(;r.indexOf(e.getDay(t))>-1&&t>o;)t=e.subDays(t,1);return{viewStart:o,viewEnd:t}}}(this.dateAdapter,e,n,r,i),a=(e,n)=>B(e,"MMM d"+(n?", yyyy":""),t);return`${a(o,o.getUTCFullYear()!==s.getUTCFullYear())} - ${a(s,!0)}`}weekViewHour({date:e,locale:t}){return B(e,"h a",t)}dayViewHour({date:e,locale:t}){return B(e,"h a",t)}dayViewTitle({date:e,locale:t}){return B(e,"EEEE, MMMM d, y",t)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(EU))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),AU=(()=>{class e extends xU{}return e.\u0275fac=function(){let t;return function(n){return(t||(t=r.n5z(e)))(n||e)}}(),e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})(),DU=(()=>{class e{constructor(e){this.dateAdapter=e}getMonthView(e){return function(e,t){var n=t.events,r=void 0===n?[]:n,i=t.viewDate,o=t.weekStartsOn,s=t.excluded,a=void 0===s?[]:s,c=t.viewStart,l=void 0===c?e.startOfMonth(i):c,u=t.viewEnd,h=void 0===u?e.endOfMonth(i):u,d=t.weekendDays;r||(r=[]);for(var f,p=e.endOfWeek,g=e.differenceInDays,m=e.startOfDay,_=e.addHours,y=e.endOfDay,b=e.isSameMonth,v=e.getDay,w=(0,e.startOfWeek)(l,{weekStartsOn:o}),C=p(h,{weekStartsOn:o}),O=mU(e,{events:r,periodStart:w,periodEnd:C}),P=[],T=function(t){var n;if(f?(n=m(_(f,24)),f.getTime()===n.getTime()&&(n=m(_(f,25))),f=n):n=f=w,!a.some(function(e){return v(n)===e})){var r=_U(e,{date:n,weekendDays:d}),o=mU(e,{events:O,periodStart:m(n),periodEnd:y(n)});r.inMonth=b(n,i),r.events=o,r.badgeTotal=o.length,P.push(r)}},M=0;M<g(C,w)+1;M++)T();var S=[],I=7-a.length;if(I<7)for(M=0;M<P.length;M+=I){var k=P.slice(M,M+I);k.some(function(e){return l<=e.date&&e.date<h})&&(S=hU(S,k))}else S=P;var E=Math.floor(S.length/I),x=[];for(M=0;M<E;M++)x.push(M*I);return{rowOffsets:x,totalDaysVisibleInWeek:I,days:S,period:{start:S[0].date,end:y(S[S.length-1].date),events:O}}}(this.dateAdapter,e)}getWeekViewHeader(e){return yU(this.dateAdapter,e)}getWeekView(e){return function(e,t){var n=t.events,r=void 0===n?[]:n,i=t.viewDate,o=t.weekStartsOn,s=t.excluded,a=void 0===s?[]:s,c=t.precision,l=void 0===c?"days":c,u=t.absolutePositionedEvents,h=void 0!==u&&u,d=t.hourSegments,f=t.hourDuration,p=t.dayStart,g=t.dayEnd,m=t.weekendDays,_=t.segmentHeight,y=t.minimumEventHeight,b=t.viewStart,v=void 0===b?e.startOfWeek(i,{weekStartsOn:o}):b,w=t.viewEnd,C=void 0===w?e.endOfWeek(i,{weekStartsOn:o}):w;r||(r=[]);var O=e.endOfDay,P=mU(e,{events:r,periodStart:v=(0,e.startOfDay)(v),periodEnd:C=O(C)}),T=yU(e,{viewDate:i,weekStartsOn:o,excluded:a,weekendDays:m,viewStart:v,viewEnd:C});return{allDayEventRows:bU(e,{events:P,excluded:a,precision:l,absolutePositionedEvents:h,viewStart:v,viewEnd:C}),period:{events:P,start:T[0].date,end:O(T[T.length-1].date)},hourColumns:vU(e,{events:r,viewDate:i,hourSegments:d,hourDuration:f,dayStart:p,dayEnd:g,weekStartsOn:o,excluded:a,weekendDays:m,segmentHeight:_,viewStart:v,viewEnd:C,minimumEventHeight:y})}}(this.dateAdapter,e)}}return e.\u0275fac=function(t){return new(t||e)(r.LFG(EU))},e.\u0275prov=r.Yz7({token:e,factory:e.\u0275fac}),e})();new r.OlP("Moment");let NU=(()=>{class e{static forRoot(t,n={}){return{ngModule:e,providers:[t,n.eventTitleFormatter||IU,n.dateFormatter||AU,n.utils||DU,n.a11y||SU]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({providers:[we],imports:[[Ce]]}),e})();lt("collapse",[ft("void",dt({height:0,overflow:"hidden","padding-top":0,"padding-bottom":0})),ft("*",dt({height:"*",overflow:"hidden","padding-top":"*","padding-bottom":"*"})),pt("* => void",ut("150ms ease-out")),pt("void => *",ut("150ms ease-in"))]);let RU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Ce,TU,NU],TU]}),e})(),FU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Ce,MU,TU,NU],MU,TU]}),e})(),LU=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[Ce,NU,FU]]}),e})(),qU=(()=>{class e{static forRoot(t,n={}){return{ngModule:e,providers:[t,n.eventTitleFormatter||IU,n.dateFormatter||AU,n.utils||DU,n.a11y||SU]}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e}),e.\u0275inj=r.cJS({imports:[[NU,RU,FU,LU],NU,RU,FU,LU]}),e})();var UU=n(4762);function VU(e){if(null===e||!0===e||!1===e)return NaN;var t=Number(e);return isNaN(t)?t:t<0?Math.ceil(t):Math.floor(t)}function ZU(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function jU(e){ZU(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new Date(e.getTime()):"number"==typeof e||"[object Number]"===t?new Date(e):("string"!=typeof e&&"[object String]"!==t||"undefined"==typeof console||(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://git.io/fjule"),console.warn((new Error).stack)),new Date(NaN))}function BU(e,t){ZU(2,arguments);var n=jU(e),r=VU(t);return isNaN(r)?new Date(NaN):r?(n.setDate(n.getDate()+r),n):n}function zU(e,t){ZU(2,arguments);var n=jU(e).getTime(),r=VU(t);return new Date(n+r)}var HU=36e5;function $U(e,t){ZU(2,arguments);var n=VU(t);return zU(e,n*HU)}function GU(e,t){ZU(2,arguments);var n=VU(t);return zU(e,6e4*n)}function WU(e,t){ZU(2,arguments);var n=VU(t);return zU(e,1e3*n)}function KU(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function YU(e){ZU(1,arguments);var t=jU(e);return t.setHours(0,0,0,0),t}var QU=864e5;function JU(e,t){ZU(2,arguments);var n=YU(e),r=YU(t),i=n.getTime()-KU(n),o=r.getTime()-KU(r);return Math.round((i-o)/QU)}function XU(e,t){var n=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return n<0?-1:n>0?1:n}function eV(e,t){ZU(2,arguments);var n=jU(e),r=jU(t),i=XU(n,r),o=Math.abs(JU(n,r));n.setDate(n.getDate()-i*o);var s=Number(XU(n,r)===-i),a=i*(o-s);return 0===a?0:a}function tV(e,t){return ZU(2,arguments),jU(e).getTime()-jU(t).getTime()}Math.pow(10,8);var nV={ceil:Math.ceil,round:Math.round,floor:Math.floor,trunc:function(e){return e<0?Math.ceil(e):Math.floor(e)}};function rV(e){return e?nV[e]:nV.trunc}function iV(e,t,n){ZU(2,arguments);var r=tV(e,t)/6e4;return rV(null==n?void 0:n.roundingMethod)(r)}function oV(e,t,n){ZU(2,arguments);var r=tV(e,t)/1e3;return rV(null==n?void 0:n.roundingMethod)(r)}function sV(e){ZU(1,arguments);var t=jU(e);return t.setHours(23,59,59,999),t}function aV(e){ZU(1,arguments);var t=jU(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function cV(e,t){ZU(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,o=null==i?0:VU(i),s=null==n.weekStartsOn?o:VU(n.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var a=jU(e),c=a.getDay(),l=6+(c<s?-7:0)-(c-s);return a.setDate(a.getDate()+l),a.setHours(23,59,59,999),a}function lV(e){ZU(1,arguments);var t=jU(e),n=t.getDay();return n}function uV(e){ZU(1,arguments);var t=jU(e),n=t.getMonth();return n}function hV(e,t){ZU(2,arguments);var n=YU(e),r=YU(t);return n.getTime()===r.getTime()}function dV(e,t){ZU(2,arguments);var n=jU(e),r=jU(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function fV(e){ZU(1,arguments);var t=jU(e);return t.setMilliseconds(0),t}function pV(e,t){ZU(2,arguments);var n=fV(e),r=fV(t);return n.getTime()===r.getTime()}function gV(e){var t,n;if(ZU(1,arguments),e&&"function"==typeof e.forEach)t=e;else{if("object"!=typeof e||null===e)return new Date(NaN);t=Array.prototype.slice.call(e)}return t.forEach(function(e){var t=jU(e);(void 0===n||n<t||isNaN(Number(t)))&&(n=t)}),n||new Date(NaN)}function mV(e,t){ZU(2,arguments);var n=jU(e),r=VU(t);return n.setHours(r),n}function _V(e,t){ZU(2,arguments);var n=jU(e),r=VU(t);return n.setMinutes(r),n}function yV(e){ZU(1,arguments);var t=jU(e);return t.setSeconds(0,0),t}function bV(e){ZU(1,arguments);var t=jU(e);return t.setDate(1),t.setHours(0,0,0,0),t}function vV(e,t){ZU(1,arguments);var n=t||{},r=n.locale,i=r&&r.options&&r.options.weekStartsOn,o=null==i?0:VU(i),s=null==n.weekStartsOn?o:VU(n.weekStartsOn);if(!(s>=0&&s<=6))throw new RangeError("weekStartsOn must be between 0 and 6 inclusively");var a=jU(e),c=a.getDay(),l=(c<s?7:0)+c-s;return a.setDate(a.getDate()-l),a.setHours(0,0,0,0),a}function wV(e){ZU(1,arguments);var t=jU(e),n=t.getHours();return n}function CV(e){ZU(1,arguments);var t=jU(e),n=t.getMinutes();return n}function OV(e){return new Date(e).getTimezoneOffset()}function PV(e,t){ZU(2,arguments);var n=VU(t),r=7*n;return BU(e,r)}function TV(e,t){ZU(2,arguments);var n=jU(e),r=VU(t);if(isNaN(r))return new Date(NaN);if(!r)return n;var i=n.getDate(),o=new Date(n.getTime());o.setMonth(n.getMonth()+r+1,0);var s=o.getDate();return i>=s?o:(n.setFullYear(o.getFullYear(),o.getMonth(),i),n)}function MV(e,t){ZU(2,arguments);var n=VU(t);return BU(e,-n)}function SV(e,t){ZU(2,arguments);var n=VU(t);return PV(e,-n)}function IV(e,t){ZU(2,arguments);var n=VU(t);return TV(e,-n)}function kV(e){return ZU(1,arguments),vV(e,{weekStartsOn:1})}function EV(e){ZU(1,arguments);var t=jU(e),n=t.getFullYear(),r=new Date(0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=kV(r),o=new Date(0);o.setFullYear(n,0,4),o.setHours(0,0,0,0);var s=kV(o);return t.getTime()>=i.getTime()?n+1:t.getTime()>=s.getTime()?n:n-1}function xV(e){ZU(1,arguments);var t=EV(e),n=new Date(0);n.setFullYear(t,0,4),n.setHours(0,0,0,0);var r=kV(n);return r}var AV=6048e5;function DV(e){ZU(1,arguments);var t=jU(e),n=kV(t).getTime()-xV(t).getTime();return Math.round(n/AV)+1}function NV(e,t){ZU(2,arguments);var n=jU(e),r=VU(t);return n.setDate(r),n}function RV(e){ZU(1,arguments);var t=jU(e),n=t.getFullYear(),r=t.getMonth(),i=new Date(0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function FV(e,t){ZU(2,arguments);var n=jU(e),r=VU(t),i=n.getFullYear(),o=n.getDate(),s=new Date(0);s.setFullYear(i,r,15),s.setHours(0,0,0,0);var a=RV(s);return n.setMonth(r,Math.min(o,a)),n}function LV(e,t){ZU(2,arguments);var n=jU(e),r=VU(t);return isNaN(n.getTime())?new Date(NaN):(n.setFullYear(r),n)}function qV(e){ZU(1,arguments);var t=jU(e),n=t.getDate();return n}function UV(e){return ZU(1,arguments),jU(e).getFullYear()}function VV(){return(0,UU.pi)((0,UU.pi)({},{addDays:BU,addHours:$U,addMinutes:GU,addSeconds:WU,differenceInDays:eV,differenceInMinutes:iV,differenceInSeconds:oV,endOfDay:sV,endOfMonth:aV,endOfWeek:cV,getDay:lV,getMonth:uV,isSameDay:hV,isSameMonth:dV,isSameSecond:pV,max:gV,setHours:mV,setMinutes:_V,startOfDay:YU,startOfMinute:yV,startOfMonth:bV,startOfWeek:vV,getHours:wV,getMinutes:CV,getTimezoneOffset:OV}),{addWeeks:PV,addMonths:TV,subDays:MV,subWeeks:SV,subMonths:IV,getISOWeek:DV,setDate:NV,setMonth:FV,setYear:LV,getDate:qV,getYear:UV})}let ZV=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=r.oAB({type:e,bootstrap:[DA]}),e.\u0275inj=r.cJS({providers:[],imports:[[st,OA,gk,mk,xo,Wr,ms.hO.initializeApp(NA),ga,RS,XE,lU,oA,Cs,Na.forRoot(),ki,Ei,xi,$o,qU.forRoot({provide:EU,useFactory:VV})]]}),e})();(0,r.G48)(),it().bootstrapModule(ZV).catch(e=>console.error(e))},6304:(e,t,n)=>{"use strict";function r(e,t,n,r,i,o,s){try{var a=e[o](s),c=a.value}catch(l){return void n(l)}a.done?t(c):Promise.resolve(c).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){var s=e.apply(t,n);function a(e){r(s,i,o,a,c,"next",e)}function c(e){r(s,i,o,a,c,"throw",e)}a(void 0)})}}n.d(t,{Z:()=>i})},4762:(e,t,n)=>{"use strict";n.d(t,{pi:()=>r,_T:()=>i});var r=function(){return(r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function i(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}}},e=>{"use strict";e(e.s=7275)}]);